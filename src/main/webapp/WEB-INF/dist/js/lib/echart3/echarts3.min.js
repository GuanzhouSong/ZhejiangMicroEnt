(function(r,p){"object"===typeof exports&&"object"===typeof module?module.exports=p():"function"===typeof define&&define.amd?define([],p):"object"===typeof exports?exports.echarts=p():r.echarts=p()})(this,function(){return function(r){function p(m){if(a[m])return a[m].exports;var n=a[m]={exports:{},id:m,loaded:!1};r[m].call(n.exports,n,n.exports,p);n.loaded=!0;return n.exports}var a={};p.m=r;p.c=a;p.p="";return p(0)}([function(r,p,a){r.exports=a(1);a(99);a(133);a(138);a(147);a(151);a(161);a(182);a(194);a(215);a(219);a(223);a(238);a(244);a(251);a(257);a(261);a(269);a(112);a(273);a(279);a(283);a(294);a(224);a(297);a(303);a(315);a(316);a(330);a(345);a(351);a(354);a(357);a(366);a(379)},function(r,p,a){function m(b){return function(c,g,k){c=c&&c.toLowerCase();M.prototype[b].call(this,c,g,k)}}function n(){M.call(this)}function l(b,c,g){function k(b,c){return b.prio-c.prio}g=g||{};"string"===typeof c&&(c=Q[c]);this._dom=b;this._zr=H.init(b,{renderer:g.renderer||"canvas",devicePixelRatio:g.devicePixelRatio});this._theme=F.clone(c);this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._api=new A(this);this._coordSysMgr=new z;M.call(this);this._messageCenter=new n;this._initEvents();this.resize=F.bind(this.resize,this);this._pendingActions=[];L(S,k);L(T,k);this._zr.animation.on("frame",this._onframe,this)}function h(b,c){var g=this._model;g&&g.eachComponent({mainType:"series",query:c},function(k,q){var d=this._chartsMap[k.__viewId];if(d&&d.__alive)d[b](k,g,this._api,c)},this)}function f(b,c,k){var q=this._api;I(this._componentsViews,function(g){var d=g.__model;g[b](d,c,q,k);y(d,g)},this);c.eachSeries(function(g,d){var e=this._chartsMap[g.__viewId];e[b](g,c,q,k);y(g,e);u(g,e)},this);g(this._zr,c)}function e(b,c){for(var g="component"===b,k=g?this._componentsViews:this._chartsViews,q=g?this._componentsMap:this._chartsMap,d=this._zr,e=0;e<k.length;e++)k[e].__alive=!1;c[g?"eachComponent":"eachSeries"](function(b,e){if(g){if("series"===b)return}else e=b;var u=e.id+"_"+e.type,f=q[u];if(!f)if(f=C.parseClassType(e.type),f=g?D.getClass(f.main,f.sub):J.getClass(f.sub))f=new f,f.init(c,this._api),q[u]=f,k.push(f),d.add(f.group);else return;e.__viewId=u;f.__alive=!0;f.__id=u;f.__model=e},this);for(e=0;e<k.length;){var u=k[e];u.__alive?e++:(d.remove(u.group),u.dispose(c,this._api),k.splice(e,1),delete q[u.__id])}}function d(b,c){I(T,function(g){g.func(b,c)})}function c(b){var c={};b.eachSeries(function(b){var g=b.get("stack");b=b.getData();if(g&&"list"===b.type){var k=c[g];k&&(b.stackedOn=k);c[g]=b}})}function b(b,c){var g=this._api;I(S,function(k){k.isLayout&&k.func(b,g,c)})}function k(b,c){var g=this._api;b.clearColorPalette();b.eachSeries(function(b){b.clearColorPalette()});I(S,function(k){k.func(b,g,c)})}function q(b,c){var k=this._api;I(this._componentsViews,function(g){var q=g.__model;g.render(q,b,k,c);y(q,g)},this);I(this._chartsViews,function(b){b.__alive=!1},this);b.eachSeries(function(g,q){var d=this._chartsMap[g.__viewId];d.__alive=!0;d.render(g,b,k,c);d.group.silent=!!g.get("silent");y(g,d);u(g,d)},this);g(this._zr,b);I(this._chartsViews,function(c){c.__alive||c.remove(b,k)},this)}function g(b,c){var g=b.storage,k=0;g.traverse(function(b){b.isGroup||k++});k>c.get("hoverLayerThreshold")&&!v.node&&g.traverse(function(b){b.isGroup||(b.useHoverLayer=!0)})}function u(b,c){var g=0;c.group.traverse(function(b){"group"===b.type||b.ignore||g++});var k=+b.get("progressive"),q=g>b.get("progressiveThreshold")&&k&&!v.node;q&&c.group.traverse(function(b){b.isGroup||(b.progressive=q?Math.floor(g++/k):-1,q&&b.stopAnimation(!0))});var d=b.get("blendMode")||null;!v.canvasSupported&&d&&"source-over"!==d&&console.warn("Only canvas support blendMode");c.group.traverse(function(b){b.isGroup||b.setStyle("blend",d)})}function y(b,c){var g=b.get("z"),k=b.get("zlevel");c.group.traverse(function(b){"group"!==b.type&&(null!=g&&(b.z=g),null!=k&&(b.zlevel=k))})}function x(b){function c(b,g){for(var k=0;k<b.length;k++)b[k].__connectUpdateStatus=g}F.each(R,function(g,k){b._messageCenter.on(k,function(g){if(Y[b.group]&&0!==b.__connectUpdateStatus){var k=b.makeActionFromEvent(g);g=[];for(var q in W){var d=W[q];d!==b&&d.group===b.group&&g.push(d)}c(g,0);I(g,function(b){1!==b.__connectUpdateStatus&&b.dispatchAction(k)});c(g,2)}})})}var v=a(2),t=a(3),A=a(25),z=a(26),w=a(27),C=a(19),B=a(28),D=a(29),J=a(42),E=a(43),H=a(81),F=a(4),K=a(39),M=a(33),L=a(85),I=F.each;n.prototype.on=m("on");n.prototype.off=m("off");n.prototype.one=m("one");F.mixin(n,M);p=l.prototype;p._onframe=function(){this._optionUpdated&&(this.__flag_in_main_process=!0,G.prepareAndUpdate.call(this),this._optionUpdated=this.__flag_in_main_process=!1)};p.getDom=function(){return this._dom};p.getZr=function(){return this._zr};p.setOption=function(b,c,g){F.assert(!this.__flag_in_main_process,"`setOption` should not be called during main process.");this.__flag_in_main_process=!0;if(!this._model||c){c=new w(this._api);var k=this._theme;(this._model=new t(null,null,k,c)).init(null,null,k,c)}this._model.setOption(b,O);g?this._optionUpdated=!0:(G.prepareAndUpdate.call(this),this._zr.refreshImmediately(),this._optionUpdated=!1);this.__flag_in_main_process=!1;this._flushPendingActions()};p.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};p.getModel=function(){return this._model};p.getOption=function(){return this._model&&this._model.getOption()};p.getWidth=function(){return this._zr.getWidth()};p.getHeight=function(){return this._zr.getHeight()};p.getRenderedCanvas=function(b){if(v.canvasSupported){b=b||{};b.pixelRatio=b.pixelRatio||1;b.backgroundColor=b.backgroundColor||this._model.get("backgroundColor");var c=this._zr,g=c.storage.getDisplayList();F.each(g,function(b){b.stopAnimation(!0)});return c.painter.getRenderedCanvas(b)}};p.getDataURL=function(b){b=b||{};var c=this._model,g=[],k=this;I(b.excludeComponents,function(b){c.eachComponent({mainType:b},function(b){b=k._componentsMap[b.__viewId];b.group.ignore||(g.push(b),b.group.ignore=!0)})});b=this.getRenderedCanvas(b).toDataURL("image/"+(b&&b.type||"png"));I(g,function(b){b.group.ignore=!1});return b};p.getConnectedDataURL=function(b){if(v.canvasSupported){var c=this.group,g=Math.min,k=Math.max;if(Y[c]){var q=Infinity,d=Infinity,e=-Infinity,u=-Infinity,f=[],y=b&&b.pixelRatio||1,a;for(a in W){var h=W[a];if(h.group===c){var x=h.getRenderedCanvas(F.clone(b)),h=h.getDom().getBoundingClientRect(),q=g(h.left,q),d=g(h.top,d),e=k(h.right,e),u=k(h.bottom,u);f.push({dom:x,left:h.left,top:h.top})}}q*=y;d*=y;c=e*y-q;u=u*y-d;g=F.createCanvas();g.width=c;g.height=u;var A=H.init(g);I(f,function(b){b=new E.Image({style:{x:b.left*y-q,y:b.top*y-d,image:b.dom}});A.add(b)});A.refreshImmediately();return g.toDataURL("image/"+(b&&b.type||"png"))}return this.getDataURL(b)}};var G={update:function(b){var g=this._model,e=this._api,u=this._coordSysMgr,f=this._zr;g&&(g.restoreData(),u.create(this._model,this._api),d.call(this,g,e),c.call(this,g),u.update(g,e),k.call(this,g,b),q.call(this,g,b),b=g.get("backgroundColor")||"transparent",g=f.painter,g.isSingleCanvas&&g.isSingleCanvas()?f.configLayer(0,{clearColor:b}):(v.canvasSupported||(g=K.parse(b),b=K.stringify(g,"rgb"),0===g[3]&&(b="transparent")),b.colorStops||b.image?(f.configLayer(0,{clearColor:b}),this._hasGradientOrPatternBg=!0,this._dom.style.background="transparent"):(this._hasGradientOrPatternBg&&f.configLayer(0,{clearColor:null}),this._hasGradientOrPatternBg=!1,this._dom.style.background=b)))},updateView:function(b){var c=this._model;c&&(c.eachSeries(function(b){b.getData().clearAllVisual()}),k.call(this,c,b),f.call(this,"updateView",c,b))},updateVisual:function(b){var c=this._model;c&&(c.eachSeries(function(b){b.getData().clearAllVisual()}),k.call(this,c,b),f.call(this,"updateVisual",c,b))},updateLayout:function(c){var g=this._model;g&&(b.call(this,g,c),f.call(this,"updateLayout",g,c))},highlight:function(b){h.call(this,"highlight",b)},downplay:function(b){h.call(this,"downplay",b)},prepareAndUpdate:function(b){var c=this._model;e.call(this,"component",c);e.call(this,"chart",c);G.update.call(this,b)}};p.resize=function(){F.assert(!this.__flag_in_main_process,"`resize` should not be called during main process.");this.__flag_in_main_process=!0;this._zr.resize();var b=this._model&&this._model.resetOption("media");G[b?"prepareAndUpdate":"update"].call(this);this._loadingFX&&this._loadingFX.resize();this.__flag_in_main_process=!1;this._flushPendingActions()};p.showLoading=function(b,c){F.isObject(b)&&(c=b,b="");b=b||"default";this.hideLoading();if(V[b]){var g=V[b](this._api,c),k=this._zr;this._loadingFX=g;k.add(g)}else console.warn("Loading effects "+b+" not exists.")};p.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};p.makeActionFromEvent=function(b){var c=F.extend({},b);c.type=R[b.type];return c};p.dispatchAction=function(b,c){var g=P[b.type];if(g){var k=g.actionInfo,q=k.update||"update";if(this.__flag_in_main_process)this._pendingActions.push(b);else{this.__flag_in_main_process=!0;var d=[b],e=!1;b.batch&&(e=!0,d=F.map(b.batch,function(c){c=F.defaults(F.extend({},c),b);c.batch=null;return c}));for(var u=[],f,y="highlight"===b.type||"downplay"===b.type,a=0;a<d.length;a++){var v=d[a];f=(f=g.action(v,this._model))||F.extend({},v);f.type=k.event||f.type;u.push(f);y&&G[q].call(this,v)}"none"===q||y||(this._optionUpdated?(G.prepareAndUpdate.call(this,b),this._optionUpdated=!1):G[q].call(this,b));f=e?{type:k.event||b.type,batch:u}:u[0];this.__flag_in_main_process=!1;!c&&this._messageCenter.trigger(f.type,f);this._flushPendingActions()}}};p._flushPendingActions=function(){for(var b=this._pendingActions;b.length;){var c=b.shift();this.dispatchAction(c)}};p.on=m("on");p.off=m("off");p.one=m("one");var N="click dblclick mouseover mouseout mousemove mousedown mouseup globalout".split(" ");p._initEvents=function(){I(N,function(b){this._zr.on(b,function(c){var g=this.getModel(),k=c.target;k&&null!=k.dataIndex?(k=(g=k.dataModel||g.getSeriesByIndex(k.seriesIndex))&&g.getDataParams(k.dataIndex,k.dataType)||{},k.event=c,k.type=b,this.trigger(b,k)):k&&k.eventData&&this.trigger(b,k.eventData)},this)},this);I(R,function(b,c){this._messageCenter.on(c,function(b){this.trigger(c,b)},this)},this)};p.isDisposed=function(){return this._disposed};p.clear=function(){this.setOption({series:[]},!0)};p.dispose=function(){if(this._disposed)console.warn("Instance "+this.id+" has been disposed");else{this._disposed=!0;var b=this._api,c=this._model;I(this._componentsViews,function(g){g.dispose(c,b)});I(this._chartsViews,function(g){g.dispose(c,b)});this._zr.dispose();delete W[this.id]}};F.mixin(l,M);var P=[],R={},T=[],O=[],S=[],Q={},V={},W={},Y={},aa=new Date-0,Z=new Date-0,U={version:"3.2.3",dependencies:{zrender:"3.1.3"},init:function(b,c,g){if(H.version.replace(".","")-0<U.dependencies.zrender.replace(".","")-0)throw Error("ZRender "+H.version+" is too old for ECharts "+U.version+". Current version need ZRender "+U.dependencies.zrender+"+");if(!b)throw Error("Initialize failed: invalid dom.");!F.isDom(b)||"CANVAS"===b.nodeName.toUpperCase()||b.clientWidth&&b.clientHeight||console.warn("Can't get dom width or height");c=new l(b,c,g);c.id="ec_"+aa++;W[c.id]=c;b.setAttribute&&b.setAttribute("_echarts_instance_",c.id);x(c);return c},connect:function(b){if(F.isArray(b)){var c=b;b=null;F.each(c,function(c){null!=c.group&&(b=c.group)});b=b||"g_"+Z++;F.each(c,function(c){c.group=b})}Y[b]=!0;return b},disConnect:function(b){Y[b]=!1},dispose:function(b){F.isDom(b)?b=U.getInstanceByDom(b):"string"===typeof b&&(b=W[b]);b instanceof l&&!b.isDisposed()&&b.dispose()},getInstanceByDom:function(b){b=b.getAttribute("_echarts_instance_");return W[b]},getInstanceById:function(b){return W[b]},registerTheme:function(b,c){Q[b]=c},registerPreprocessor:function(b){O.push(b)},registerProcessor:function(b,c){"function"===typeof b&&(c=b,b=1E3);if(isNaN(b))throw Error("Unkown processor priority");T.push({prio:b,func:c})},registerAction:function(b,c,g){"function"===typeof c&&(g=c,c="");var k=F.isObject(b)?b.type:[b,b={event:c}][0];b.event=(b.event||k).toLowerCase();c=b.event;P[k]||(P[k]={action:g,actionInfo:b});R[c]=k},registerCoordinateSystem:function(b,c){z.register(b,c)},registerLayout:function(b,c){"function"===typeof b&&(c=b,b=1E3);if(isNaN(b))throw Error("Unkown layout priority");S.push({prio:b,func:c,isLayout:!0})},registerVisual:function(b,c){"function"===typeof b&&(c=b,b=3E3);if(isNaN(b))throw Error("Unkown visual priority");S.push({prio:b,func:c})},registerLoading:function(b,c){V[b]=c}},da=C.parseClassType;U.extendComponentModel=function(b,c){var g=C;c&&(g=da(c),g=C.getClass(g.main,g.sub,!0));return g.extend(b)};U.extendComponentView=function(b,c){var g=D;c&&(g=da(c),g=D.getClass(g.main,g.sub,!0));return g.extend(b)};U.extendSeriesModel=function(b,c){var g=B;c&&(c="series."+c.replace("series.",""),g=da(c),g=B.getClass(g.main,g.sub,!0));return g.extend(b)};U.extendChartView=function(b,c){var g=J;c&&(c.replace("series.",""),g=da(c),g=J.getClass(g.main,!0));return g.extend(b)};U.setCanvasCreator=function(b){F.createCanvas=b};U.registerVisual(2E3,a(93));U.registerPreprocessor(a(94));U.registerLoading("default",a(96));U.registerAction({type:"highlight",event:"highlight",update:"highlight"},F.noop);U.registerAction({type:"downplay",event:"downplay",update:"downplay"},F.noop);U.List=a(97);U.Model=a(12);U.graphic=a(43);U.number=a(7);U.format=a(6);U.matrix=a(11);U.vector=a(10);U.color=a(39);U.util={};I("map each filter indexOf inherits reduce filter bind curry isArray isString isObject isFunction extend defaults".split(" "),function(b){U.util[b]=F[b]});U.PRIORITY={PROCESSOR:{FILTER:1E3,STATISTIC:5E3},VISUAL:{LAYOUT:1E3,GLOBAL:2E3,CHART:3E3,COMPONENT:4E3,BRUSH:5E3}};r.exports=U},function(r,p){var a;if("undefined"===typeof navigator)a={browser:{},os:{},node:!0,canvasSupported:!0};else{var m=navigator.userAgent;a={};var n=m.match(/Firefox\/([\d.]+)/),l=m.match(/MSIE\s([\d.]+)/)||m.match(/Trident\/.+?rv:(([\d.]+))/),m=m.match(/Edge\/([\d.]+)/);n&&(a.firefox=!0,a.version=n[1]);l&&(a.ie=!0,a.version=l[1]);l&&(a.ie=!0,a.version=l[1]);m&&(a.edge=!0,a.version=m[1]);a={browser:a,os:{},node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1,touchEventsSupported:"ontouchstart"in window&&!a.ie&&!a.edge,pointerEventsSupported:"onpointerdown"in window&&(a.edge||a.ie&&10<=a.version)}}r.exports=a},function(r,p,a){function m(b){this.option={};this.option["\x00_ec_inner"]=1;this._componentsMap={};this._seriesIndices=null;var c=this._theme.option,g;for(g in c)v.hasClass(g)||("object"===typeof c[g]?b[g]=b[g]?d.merge(b[g],c[g],!1):d.clone(c[g]):null==b[g]&&(b[g]=c[g]));d.merge(b,t,!1);this.mergeOption(b)}function n(b,c){d.isArray(c)||(c=c?[c]:[]);var g={};k(c,function(c){g[c]=(b[c]||[]).slice()});return g}function l(b,c){var g={};k(c,function(b,c){var k=b.exist;k&&(g[k.id]=b)});k(c,function(c,k){var q=c.option;d.assert(!q||null==q.id||!g[q.id]||g[q.id]===c,"id duplicates: "+(q&&q.id));q&&null!=q.id&&(g[q.id]=c);if(x(q)){var e=c.exist,q=q.type?q.type:e?e.subType:v.determineSubType(b,q);c.keyInfo={mainType:b,subType:q}}});k(c,function(b,c){var k=b.exist,q=b.option,d=b.keyInfo;if(x(q)){d.name=null!=q.name?q.name+"":k?k.name:"\x00-";if(k)d.id=k.id;else if(null!=q.id)d.id=q.id+"";else{k=0;do d.id="\x00"+d.name+"\x00"+k++;while(g[d.id])}g[d.id]=b}})}function h(b){return g(b,function(b){return b.componentIndex})||[]}function f(b,c){return c.hasOwnProperty("subType")?q(b,function(b){return b.subType===c.subType}):b}function e(b){if(!b._seriesIndices)throw Error("Series has not been initialized yet.");}var d=a(4),c=a(5),b=a(12),k=d.each,q=d.filter,g=d.map,u=d.isArray,y=d.indexOf,x=d.isObject,v=a(19),t=a(23),A=b.extend({constructor:A,init:function(c,g,k,q){k=k||{};this.option=null;this._theme=new b(k);this._optionManager=q},setOption:function(b,c){d.assert(!("\x00_ec_inner"in b),"please use chart.getOption()");this._optionManager.setOption(b,c);this.resetOption()},resetOption:function(b){var c=!1,g=this._optionManager;if(!b||"recreate"===b){var q=g.mountOption("recreate"===b);this.option&&"recreate"!==b?(this.restoreData(),this.mergeOption(q)):m.call(this,q);c=!0}"timeline"!==b&&"media"!==b||this.restoreData();b&&"recreate"!==b&&"timeline"!==b||(q=g.getTimelineOption(this))&&(this.mergeOption(q),c=!0);b&&"recreate"!==b&&"media"!==b||(b=g.getMediaOption(this,this._api),b.length&&k(b,function(b){this.mergeOption(b,c=!0)},this));return c},mergeOption:function(b){var g=this.option,q=this._componentsMap,e=[];k(b,function(b,c){null!=b&&(v.hasClass(c)?e.push(c):g[c]=null==g[c]?d.clone(b):d.merge(g[c],b,!0))});v.topologicalTravel(e,v.getAllClassMainTypes(),function(e,u){var f=c.normalizeToArray(b[e]),f=c.mappingToExists(q[e],f);l(e,f);var y=n(q,u);g[e]=[];q[e]=[];k(f,function(b,c){var k=b.exist,u=b.option;d.assert(x(u)||k,"Empty component definition");if(u){var f=v.getClass(e,b.keyInfo.subType,!0);if(k&&k instanceof f)k.mergeOption(u,this),k.optionUpdated(u,!1);else{var a=d.extend({dependentModels:y,componentIndex:c},b.keyInfo),k=new f(u,this,this,a);k.init(u,this,this,a);k.optionUpdated(null,!0)}}else k.mergeOption({},this),k.optionUpdated({},!1);q[e][c]=k;g[e][c]=k.option},this);"series"===e&&(this._seriesIndices=h(q.series))},this);this._seriesIndices=this._seriesIndices||[]},getOption:function(){var b=d.clone(this.option);k(b,function(g,k){if(v.hasClass(k)){g=c.normalizeToArray(g);for(var q=g.length-1;0<=q;q--)c.isIdInner(g[q])&&g.splice(q,1);b[k]=g}});delete b["\x00_ec_inner"];return b},getTheme:function(){return this._theme},getComponent:function(b,c){var g=this._componentsMap[b];if(g)return g[c||0]},queryComponents:function(b){var c=b.mainType;if(!c)return[];var k=b.index,d=b.id,e=b.name,a=this._componentsMap[c];if(!a||!a.length)return[];if(null!=k)u(k)||(k=[k]),c=q(g(k,function(b){return a[b]}),function(b){return!!b});else if(null!=d)var v=u(d),c=q(a,function(b){return v&&0<=y(d,b.id)||!v&&b.id===d});else if(null!=e)var h=u(e),c=q(a,function(b){return h&&0<=y(e,b.name)||!h&&b.name===e});else c=a;return f(c,b)},findComponents:function(b){var c=b.mainType,g=function(b){var g=c+"Index",k=c+"Id",q=c+"Name";return b&&(b.hasOwnProperty(g)||b.hasOwnProperty(k)||b.hasOwnProperty(q))?{mainType:c,index:b[g],id:b[k],name:b[q]}:null}(b.query),g=g?this.queryComponents(g):this._componentsMap[c];return function(c){return b.filter?q(c,b.filter):c}(f(g,b))},eachComponent:function(b,c,g){var q=this._componentsMap;"function"===typeof b?(g=c,c=b,k(q,function(b,q){k(b,function(b,k){c.call(g,q,b,k)})})):d.isString(b)?k(q[b],c,g):x(b)&&(b=this.findComponents(b),k(b,c,g))},getSeriesByName:function(b){return q(this._componentsMap.series,function(c){return c.name===b})},getSeriesByIndex:function(b){return this._componentsMap.series[b]},getSeriesByType:function(b){return q(this._componentsMap.series,function(c){return c.subType===b})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(b,c){e(this);k(this._seriesIndices,function(g){b.call(c,this._componentsMap.series[g],g)},this)},eachRawSeries:function(b,c){k(this._componentsMap.series,b,c)},eachSeriesByType:function(b,c,g){e(this);k(this._seriesIndices,function(k){var q=this._componentsMap.series[k];q.subType===b&&c.call(g,q,k)},this)},eachRawSeriesByType:function(b,c,g){return k(this.getSeriesByType(b),c,g)},isSeriesFiltered:function(b){e(this);return 0>d.indexOf(this._seriesIndices,b.componentIndex)},filterSeries:function(b,c){e(this);var g=q(this._componentsMap.series,b,c);this._seriesIndices=h(g)},restoreData:function(){var b=this._componentsMap;this._seriesIndices=h(b.series);var c=[];k(b,function(b,g){c.push(g)});v.topologicalTravel(c,v.getAllClassMainTypes(),function(c,g){k(b[c],function(b){b.restoreData()})})}});d.mixin(A,a(24));r.exports=A},function(r,p){function a(b){if("object"==typeof b&&null!==b){var c=b;if(b instanceof Array)for(var c=[],g=0,k=b.length;g<k;g++)c[g]=a(b[g]);else if(!f(b)&&!e(b))for(g in c={},b)b.hasOwnProperty(g)&&(c[g]=a(b[g]));return c}return b}function m(b,c,g){if(!h(c)||!h(b))return g?a(c):b;for(var k in c)if(c.hasOwnProperty(k)){var q=b[k],d=c[k];!h(d)||!h(q)||l(d)||l(q)||e(d)||e(q)||f(d)||f(q)?!g&&k in b||(b[k]=a(c[k],!0)):m(q,d,g)}return b}function n(b,c,g){for(var k in c)c.hasOwnProperty(k)&&(g?null!=c[k]:null==b[k])&&(b[k]=c[k]);return b}function l(b){return"[object Array]"===c.call(b)}function h(b){var c=typeof b;return"function"===c||!!b&&"object"==c}function f(b){return!!d[c.call(b)]}function e(b){return b&&1===b.nodeType&&"string"==typeof b.nodeName}var d={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1},c=Object.prototype.toString,b=Array.prototype,k=b.forEach,q=b.filter,g=b.slice,u=b.map,y=b.reduce,x,v={inherits:function(b,c){function g(){}var k=b.prototype;g.prototype=c.prototype;b.prototype=new g;for(var q in k)b.prototype[q]=k[q];b.prototype.constructor=b;b.superClass=c},mixin:function(b,c,g){b="prototype"in b?b.prototype:b;c="prototype"in c?c.prototype:c;n(b,c,g)},clone:a,merge:m,mergeAll:function(b,c){for(var g=b[0],k=1,q=b.length;k<q;k++)g=m(g,b[k],c);return g},extend:function(b,c){for(var g in c)c.hasOwnProperty(g)&&(b[g]=c[g]);return b},defaults:n,getContext:function(){x||(x=v.createCanvas().getContext("2d"));return x},createCanvas:function(){return document.createElement("canvas")},indexOf:function(b,c){if(b){if(b.indexOf)return b.indexOf(c);for(var g=0,k=b.length;g<k;g++)if(b[g]===c)return g}return-1},slice:function(){return Function.call.apply(g,arguments)},find:function(b,c,g){if(b&&c)for(var k=0,q=b.length;k<q;k++)if(c.call(g,b[k],k,b))return b[k]},isArrayLike:function(b){if(b)return"string"==typeof b?!1:"number"==typeof b.length},each:function(b,c,g){if(b&&c)if(b.forEach&&b.forEach===k)b.forEach(c,g);else if(b.length===+b.length)for(var q=0,d=b.length;q<d;q++)c.call(g,b[q],q,b);else for(q in b)b.hasOwnProperty(q)&&c.call(g,b[q],q,b)},map:function(b,c,g){if(b&&c){if(b.map&&b.map===u)return b.map(c,g);for(var k=[],q=0,d=b.length;q<d;q++)k.push(c.call(g,b[q],q,b));return k}},reduce:function(b,c,g,k){if(b&&c){if(b.reduce&&b.reduce===y)return b.reduce(c,g,k);for(var q=0,d=b.length;q<d;q++)g=c.call(k,g,b[q],q,b);return g}},filter:function(b,c,g){if(b&&c){if(b.filter&&b.filter===q)return b.filter(c,g);for(var k=[],d=0,e=b.length;d<e;d++)c.call(g,b[d],d,b)&&k.push(b[d]);return k}},bind:function(b,c){var k=g.call(arguments,2);return function(){return b.apply(c,k.concat(g.call(arguments)))}},curry:function(b){var c=g.call(arguments,1);return function(){return b.apply(this,c.concat(g.call(arguments)))}},isArray:l,isString:function(b){return"[object String]"===c.call(b)},isObject:h,isFunction:function(b){return"function"===typeof b},isBuildInObject:f,isDom:e,retrieve:function(b){for(var c=0,g=arguments.length;c<g;c++)if(null!=arguments[c])return arguments[c]},assert:function(b,c){if(!b)throw Error(c);},noop:function(){}};r.exports=v},function(r,p,a){var m=a(6),n=a(7),l=a(12),h=a(4),f={normalizeToArray:function(e){return e instanceof Array?e:null==e?[]:[e]},defaultEmphasis:function(e,d){if(e){var c=e.emphasis=e.emphasis||{},b=e.normal=e.normal||{};h.each(d,function(k){var q=h.retrieve(c[k],b[k]);null!=q&&(c[k]=q)})}},LABEL_OPTIONS:["position","show","textStyle","distance","formatter"],getDataItemValue:function(e){return e&&(null==e.value?e:e.value)},isDataItemOption:function(e){return h.isObject(e)&&!(e instanceof Array)},converDataValue:function(e,d){var c=d&&d.type;if("ordinal"===c)return e;"time"!==c||isFinite(e)||null==e||"-"===e||(e=+n.parseDate(e));return null==e||""===e?NaN:+e},createDataFormatModel:function(e,d){var c=new l;h.mixin(c,f.dataFormatMixin);c.seriesIndex=d.seriesIndex;c.name=d.name||"";c.mainType=d.mainType;c.subType=d.subType;c.getData=function(){return e};return c}};f.dataFormatMixin={getDataParams:function(e,d){var c=this.getData(d),b=this.seriesIndex,k=this.name,q=this.getRawValue(e,d),g=c.getRawIndex(e),u=c.getName(e,!0),f=c.getRawDataItem(e);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:b,seriesName:k,name:u,dataIndex:g,data:f,dataType:d,value:q,color:c.getItemVisual(e,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,d,c,b){d=d||"normal";var k=this.getData(c).getItemModel(e);e=this.getDataParams(e,c);null!=b&&e.value instanceof Array&&(e.value=e.value[b]);b=k.get(["label",d,"formatter"]);if("function"===typeof b)return e.status=d,b(e);if("string"===typeof b)return m.formatTpl(b,e)},getRawValue:function(e,d){var c=this.getData(d).getRawDataItem(e);if(null!=c)return!h.isObject(c)||c instanceof Array?c:c.value},formatTooltip:h.noop};f.mappingToExists=function(e,d){d=(d||[]).slice();var c=h.map(e||[],function(b,c){return{exist:b}});h.each(d,function(b,k){if(h.isObject(b)){for(var q=0;q<c.length;q++)if(!c[q].option&&null!=b.id&&c[q].exist.id===b.id+""){c[q].option=b;d[k]=null;return}for(q=0;q<c.length;q++){var g=c[q].exist;if(!(c[q].option||null!=g.id&&null!=b.id||null==b.name||f.isIdInner(b)||f.isIdInner(g))&&g.name===b.name+""){c[q].option=b;d[k]=null;break}}}});h.each(d,function(b,k){if(h.isObject(b)){for(var q=0;q<c.length;q++){var g=c[q].exist;if(!c[q].option&&!f.isIdInner(g)&&null==b.id){c[q].option=b;break}}q>=c.length&&c.push({option:b})}});return c};f.isIdInner=function(e){return h.isObject(e)&&e.id&&0===(e.id+"").indexOf("\x00_ec_\x00")};f.compressBatches=function(e,d){function c(b,c,k){for(var q=0,d=b.length;q<d;q++)for(var e=b[q].seriesId,a=f.normalizeToArray(b[q].dataIndex),h=k&&k[e],l=0,m=a.length;l<m;l++){var n=a[l];h&&h[n]?h[n]=null:(c[e]||(c[e]={}))[n]=1}}function b(c,k){var q=[],d;for(d in c)if(c.hasOwnProperty(d)&&null!=c[d])if(k)q.push(+d);else{var e=b(c[d],!0);e.length&&q.push({seriesId:d,dataIndex:e})}return q}var k={},q={};c(e||[],k);c(d||[],q,k);return[b(k),b(q)]};r.exports=f},function(r,p,a){var m=a(4),n=a(7);p=a(8);a={addCommas:function(f){if(isNaN(f))return"-";f=(f+"").split(".");return f[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<f.length?"."+f[1]:"")},toCamelCase:function(f){return f.toLowerCase().replace(/-(.)/g,function(e,d){return d.toUpperCase()})},normalizeCssArray:function(f){var e=f.length;return"number"===typeof f?[f,f,f,f]:2===e?[f[0],f[1],f[0],f[1]]:3===e?[f[0],f[1],f[2],f[1]]:f},encodeHTML:function(f){return String(f).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;")}};var l="abcdefg".split("");a.formatTpl=function(f,e){m.isArray(e)||(e=[e]);var d=e.length;if(!d)return"";for(var c=e[0].$vars||[],b=0;b<c.length;b++){var k=l[b];f=f.replace("{"+k+"}","{"+k+0+"}")}for(b=0;b<d;b++)for(k=0;k<c.length;k++)f=f.replace("{"+l[k]+(null==b?"":b)+"}",e[b][c[k]]);return f};var h=function(f){return 10>f?"0"+f:f};a.formatTime=function(f,e){if("week"===f||"month"===f||"quarter"===f||"half-year"===f||"year"===f)f="MM-dd\nyyyy";var d=n.parseDate(e),c=d.getFullYear(),b=d.getMonth()+1,k=d.getDate(),q=d.getHours(),g=d.getMinutes(),d=d.getSeconds();return f=f.replace("MM",h(b)).toLowerCase().replace("yyyy",c).replace("yy",c%100).replace("dd",h(k)).replace("d",k).replace("hh",h(q)).replace("h",q).replace("mm",h(g)).replace("m",g).replace("ss",h(d)).replace("s",d)};a.capitalFirst=function(f){return f?f.charAt(0).toUpperCase()+f.substr(1):f};a.truncateText=p.truncateText;r.exports=a},function(r,p){var a={linearMap:function(a,n,l,h){var f=n[1]-n[0],e=l[1]-l[0];if(0===f)return 0===e?l[0]:(l[0]+l[1])/2;if(h)if(0<f){if(a<=n[0])return l[0];if(a>=n[1])return l[1]}else{if(a>=n[0])return l[0];if(a<=n[1])return l[1]}else{if(a===n[0])return l[0];if(a===n[1])return l[1]}return(a-n[0])/f*e+l[0]},parsePercent:function(a,n){switch(a){case "center":case "middle":a="50%";break;case "left":case "top":a="0%";break;case "right":case "bottom":a="100%"}return"string"===typeof a?a.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(a)/100*n:parseFloat(a):null==a?NaN:+a},round:function(a,n){null==n&&(n=10);return+(+a).toFixed(n)},asc:function(a){a.sort(function(a,l){return a-l});return a},getPrecision:function(a){a=+a;if(isNaN(a))return 0;for(var n=1,l=0;Math.round(a*n)/n!==a;)n*=10,l++;return l},getPrecisionSafe:function(a){a=a.toString();var n=a.indexOf(".");return 0>n?0:a.length-1-n},getPixelPrecision:function(a,n){var l=Math.log,h=Math.LN10,f=Math.floor(l(a[1]-a[0])/h),l=Math.round(l(Math.abs(n[1]-n[0]))/h);return Math.max(-f+l,0)},MAX_SAFE_INTEGER:9007199254740991,remRadian:function(a){var n=2*Math.PI;return(a%n+n)%n},isRadianAroundZero:function(a){return-1E-4<a&&1E-4>a},parseDate:function(a){if(a instanceof Date)return a;if("string"===typeof a){var n=new Date(a);isNaN(+n)&&(n=new Date(new Date(a.replace(/-/g,"/"))-new Date("1970/01/01")));return n}return new Date(Math.round(a))},quantity:function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))},nice:function(m,n){var l=a.quantity(m),h=m/l;return(n?1.5>h?1:2.5>h?2:4>h?3:7>h?5:10:1>h?1:2>h?2:3>h?3:5>h?5:10)*l}};r.exports=a},function(r,p,a){function m(c,b){var k=c+":"+b;if(n[k])return n[k];for(var q=(c+"").split("\n"),g=0,e=0,f=q.length;e<f;e++)g=Math.max(d.measureText(q[e],b).width,g);5E3<l&&(l=0,n={});l++;return n[k]=g}var n={},l=0,h=a(4),f=a(9),e=h.retrieve,d={getWidth:m,getBoundingRect:function(c,b,k,q){var g=((c||"")+"").split("\n").length;c=m(c,b);b=m("\u56fd",b);g=new f(0,0,c,g*b);g.lineHeight=b;switch(q){case "bottom":case "alphabetic":g.y-=b;break;case "middle":g.y-=b/2}switch(k){case "end":case "right":g.x-=g.width;break;case "center":g.x-=g.width/2}return g},adjustTextPositionOnRect:function(c,b,k,q){var g=b.x,d=b.y,e=b.height;b=b.width;k=k.height;var f=e/2-k/2,a="left";switch(c){case "left":g-=q;d+=f;a="right";break;case "right":g+=q+b;d+=f;a="left";break;case "top":g+=b/2;d-=q+k;a="center";break;case "bottom":g+=b/2;d+=e+q;a="center";break;case "inside":g+=b/2;d+=f;a="center";break;case "insideLeft":g+=q;d+=f;a="left";break;case "insideRight":g+=b-q;d+=f;a="right";break;case "insideTop":g+=b/2;d+=q;a="center";break;case "insideBottom":g+=b/2;d+=e-k-q;a="center";break;case "insideTopLeft":g+=q;d+=q;a="left";break;case "insideTopRight":g+=b-q;d+=q;a="right";break;case "insideBottomLeft":g+=q;d+=e-k-q;break;case "insideBottomRight":g+=b-q,d+=e-k-q,a="right"}return{x:g,y:d,textAlign:a,textBaseline:"top"}},truncateText:function(c,b,k,q,g){if(!b)return"";g=g||{};q=e(q,"...");var d=e(g.maxIterations,2),f=e(g.minChar,0),a=m("\u56fd",k),h=m("a",k);g=e(g.placeholder,"");for(var l=b=Math.max(0,b-1),A=0;A<f&&l>=h;A++)l-=h;A=m(q);A>l&&(q="",A=0);l=b-A;c=(c+"").split("\n");A=0;for(f=c.length;A<f;A++){var n=c[A],w=m(n,k);if(!(w<=b)){for(var C=0;;C++){if(w<=l||C>=d){n+=q;break}if(0===C){for(var w=n,B=l,D=h,p=a,r=0,H=0,F=w.length;H<F&&r<B;H++)var K=w.charCodeAt(H),r=r+(0<=K&&127>=K?D:p);w=H}else w=0<w?Math.floor(n.length*l/w):0;n=n.substr(0,w);w=m(n,k)}""===n&&(n=g);c[A]=n}}return c.join("\n")},measureText:function(c,b){var k=h.getContext();k.font=b||"12px sans-serif";return k.measureText(c)}};r.exports=d},function(r,p,a){function m(d,c,b,k){this.x=d;this.y=c;this.width=b;this.height=k}p=a(10);var n=a(11),l=p.applyTransform,h=Math.min,f=Math.abs,e=Math.max;m.prototype={constructor:m,union:function(d){var c=h(d.x,this.x),b=h(d.y,this.y);this.width=e(d.x+d.width,this.x+this.width)-c;this.height=e(d.y+d.height,this.y+this.height)-b;this.x=c;this.y=b},applyTransform:function(){var d=[],c=[];return function(b){b&&(d[0]=this.x,d[1]=this.y,c[0]=this.x+this.width,c[1]=this.y+this.height,l(d,d,b),l(c,c,b),this.x=h(d[0],c[0]),this.y=h(d[1],c[1]),this.width=f(c[0]-d[0]),this.height=f(c[1]-d[1]))}}(),calculateTransform:function(d){var c=d.width/this.width,b=d.height/this.height,k=n.create();n.translate(k,k,[-this.x,-this.y]);n.scale(k,k,[c,b]);n.translate(k,k,[d.x,d.y]);return k},intersect:function(d){var c=this.x,b=this.y,k=this.y+this.height,q=d.x+d.width,g=d.y,e=d.y+d.height;return!(this.x+this.width<d.x||q<c||k<g||e<b)},contain:function(d,c){return d>=this.x&&d<=this.x+this.width&&c>=this.y&&c<=this.y+this.height},clone:function(){return new m(this.x,this.y,this.width,this.height)},copy:function(d){this.x=d.x;this.y=d.y;this.width=d.width;this.height=d.height}};r.exports=m},function(r,p){var a="undefined"===typeof Float32Array?Array:Float32Array,m={create:function(n,l){var h=new a(2);null==n&&(n=0);null==l&&(l=0);h[0]=n;h[1]=l;return h},copy:function(a,l){a[0]=l[0];a[1]=l[1];return a},clone:function(n){var l=new a(2);l[0]=n[0];l[1]=n[1];return l},set:function(a,l,h){a[0]=l;a[1]=h;return a},add:function(a,l,h){a[0]=l[0]+h[0];a[1]=l[1]+h[1];return a},scaleAndAdd:function(a,l,h,f){a[0]=l[0]+h[0]*f;a[1]=l[1]+h[1]*f;return a},sub:function(a,l,h){a[0]=l[0]-h[0];a[1]=l[1]-h[1];return a},len:function(a){return Math.sqrt(this.lenSquare(a))},lenSquare:function(a){return a[0]*a[0]+a[1]*a[1]},mul:function(a,l,h){a[0]=l[0]*h[0];a[1]=l[1]*h[1];return a},div:function(a,l,h){a[0]=l[0]/h[0];a[1]=l[1]/h[1];return a},dot:function(a,l){return a[0]*l[0]+a[1]*l[1]},scale:function(a,l,h){a[0]=l[0]*h;a[1]=l[1]*h;return a},normalize:function(a,l){var h=m.len(l);0===h?(a[0]=0,a[1]=0):(a[0]=l[0]/h,a[1]=l[1]/h);return a},distance:function(a,l){return Math.sqrt((a[0]-l[0])*(a[0]-l[0])+(a[1]-l[1])*(a[1]-l[1]))},distanceSquare:function(a,l){return(a[0]-l[0])*(a[0]-l[0])+(a[1]-l[1])*(a[1]-l[1])},negate:function(a,l){a[0]=-l[0];a[1]=-l[1];return a},lerp:function(a,l,h,f){a[0]=l[0]+f*(h[0]-l[0]);a[1]=l[1]+f*(h[1]-l[1]);return a},applyTransform:function(a,l,h){var f=l[0];l=l[1];a[0]=h[0]*f+h[2]*l+h[4];a[1]=h[1]*f+h[3]*l+h[5];return a},min:function(a,l,h){a[0]=Math.min(l[0],h[0]);a[1]=Math.min(l[1],h[1]);return a},max:function(a,l,h){a[0]=Math.max(l[0],h[0]);a[1]=Math.max(l[1],h[1]);return a}};m.length=m.len;m.lengthSquare=m.lenSquare;m.dist=m.distance;m.distSquare=m.distanceSquare;r.exports=m},function(r,p){var a="undefined"===typeof Float32Array?Array:Float32Array,m={create:function(){var n=new a(6);m.identity(n);return n},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},copy:function(a,l){a[0]=l[0];a[1]=l[1];a[2]=l[2];a[3]=l[3];a[4]=l[4];a[5]=l[5];return a},mul:function(a,l,h){var f=l[1]*h[0]+l[3]*h[1],e=l[0]*h[2]+l[2]*h[3],d=l[1]*h[2]+l[3]*h[3],c=l[0]*h[4]+l[2]*h[5]+l[4],b=l[1]*h[4]+l[3]*h[5]+l[5];a[0]=l[0]*h[0]+l[2]*h[1];a[1]=f;a[2]=e;a[3]=d;a[4]=c;a[5]=b;return a},translate:function(a,l,h){a[0]=l[0];a[1]=l[1];a[2]=l[2];a[3]=l[3];a[4]=l[4]+h[0];a[5]=l[5]+h[1];return a},rotate:function(a,l,h){var f=l[0],e=l[2],d=l[4],c=l[1],b=l[3];l=l[5];var k=Math.sin(h);h=Math.cos(h);a[0]=f*h+c*k;a[1]=-f*k+c*h;a[2]=e*h+b*k;a[3]=-e*k+h*b;a[4]=h*d+k*l;a[5]=h*l-k*d;return a},scale:function(a,l,h){var f=h[0];h=h[1];a[0]=l[0]*f;a[1]=l[1]*h;a[2]=l[2]*f;a[3]=l[3]*h;a[4]=l[4]*f;a[5]=l[5]*h;return a},invert:function(a,l){var h=l[0],f=l[2],e=l[4],d=l[1],c=l[3],b=l[5],k=h*c-d*f;if(!k)return null;k=1/k;a[0]=c*k;a[1]=-d*k;a[2]=-f*k;a[3]=h*k;a[4]=(f*b-c*e)*k;a[5]=(d*e-h*b)*k;return a}};r.exports=m},function(r,p,a){function m(a,f,e){this.parentModel=f;this.ecModel=e;this.option=a}var n=a(4),l=a(13);m.prototype={constructor:m,init:null,mergeOption:function(a){n.merge(this.option,a,!0)},get:function(a,f){if(!a)return this.option;"string"===typeof a&&(a=a.split("."));for(var e=this.option,d=this.parentModel,c=0;c<a.length&&(!a[c]||(e=e&&"object"===typeof e?e[a[c]]:null,null!=e));c++);null==e&&d&&!f&&(e=d.get(a));return e},getShallow:function(a,f){var e=this.option,e=null==e?e:e[a],d=this.parentModel;null==e&&d&&!f&&(e=d.getShallow(a));return e},getModel:function(a,f){var e=this.get(a,!0),d=this.parentModel;return new m(e,f||d&&d.getModel(a),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(n.clone(this.option))},setReadOnly:function(a){l.setReadOnly(this,a)}};l.enableClassExtend(m);p=n.mixin;p(m,a(14));p(m,a(16));p(m,a(17));p(m,a(18));r.exports=m},function(r,p,a){function m(a,e){var d=l.slice(arguments,2);return this.superClass.prototype[e].apply(a,d)}function n(a,e,d){return this.superClass.prototype[e].apply(a,d)}var l=a(4);p={};var h=p.parseClassType=function(a){var e={main:"",sub:""};a&&(a=a.split("."),e.main=a[0]||"",e.sub=a[1]||"");return e};p.enableClassExtend=function(a){a.$constructor=a;a.extend=function(e){var d=this,c=function(){e.$constructor?e.$constructor.apply(this,arguments):d.apply(this,arguments)};l.extend(c.prototype,e);c.extend=this.extend;c.superCall=m;c.superApply=n;l.inherits(c,this);c.superClass=d;return c}};p.enableClassManagement=function(a,e){e=e||{};var d={};a.registerClass=function(b,c){if(c)if(c=h(c),!c.sub)d[c.main]&&console.warn(c.main+" exists."),d[c.main]=b;else if("___EC__COMPONENT__CONTAINER___"!==c.sub){var q=d[c.main];q&&q.___EC__COMPONENT__CONTAINER___||(q=d[c.main]={},q.___EC__COMPONENT__CONTAINER___=!0);q[c.sub]=b}return b};a.getClass=function(b,c,q){var g=d[b];g&&g.___EC__COMPONENT__CONTAINER___&&(g=c?g[c]:null);if(q&&!g)throw Error("Component "+b+"."+(c||"")+" not exists. Load it first.");return g};a.getClassesByMainType=function(b){b=h(b);var c=[];(b=d[b.main])&&b.___EC__COMPONENT__CONTAINER___?l.each(b,function(b,g){"___EC__COMPONENT__CONTAINER___"!==g&&c.push(b)}):c.push(b);return c};a.hasClass=function(b){b=h(b);return!!d[b.main]};a.getAllClassMainTypes=function(){var b=[];l.each(d,function(c,q){b.push(q)});return b};a.hasSubTypes=function(b){b=h(b);return(b=d[b.main])&&b.___EC__COMPONENT__CONTAINER___};a.parseClassType=h;if(e.registerWhenExtend){var c=a.extend;c&&(a.extend=function(b){var k=c.call(this,b);return a.registerClass(k,b.type)})}return a};p.setReadOnly=function(a,e){};r.exports=p},function(r,p,a){var m=a(15)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);r.exports={getLineStyle:function(a){a=m.call(this,a);var l=this.getLineDash();l&&(a.lineDash=l);return a},getLineDash:function(){var a=this.get("type");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[2,2]}}},function(r,p,a){var m=a(4);r.exports=function(a){for(var l=0;l<a.length;l++)a[l][1]||(a[l][1]=a[l][0]);return function(h){for(var f={},e=0;e<a.length;e++){var d=a[e][1];h&&0<=m.indexOf(h,d)||(d=this.getShallow(d),null!=d&&(f[a[e][0]]=d))}return f}}},function(r,p,a){r.exports={getAreaStyle:a(15)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(r,p,a){var m=a(8);r.exports={getTextColor:function(){var a=this.ecModel;return this.getShallow("color")||a&&a.get("textStyle.color")},getFont:function(){var a=this.ecModel,a=a&&a.getModel("textStyle");return[this.getShallow("fontStyle")||a&&a.getShallow("fontStyle"),this.getShallow("fontWeight")||a&&a.getShallow("fontWeight"),(this.getShallow("fontSize")||a&&a.getShallow("fontSize")||12)+"px",this.getShallow("fontFamily")||a&&a.getShallow("fontFamily")||"sans-serif"].join(" ")},getTextRect:function(a){var l=this.get("textStyle")||{};return m.getBoundingRect(a,this.getFont(),l.align,l.baseline)},truncateText:function(a,l,h,f){return m.truncateText(a,l,this.getFont(),h,f)}}},function(r,p,a){var m=a(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);r.exports={getItemStyle:function(a){a=m.call(this,a);var l=this.getBorderLineDash();l&&(a.lineDash=l);return a},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}}},function(r,p,a){var m=a(12),n=a(4),l=Array.prototype.push,h=a(20),f=a(13),e=a(21),d=m.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(c,b,k,q){m.call(this,c,b,k,q);n.extend(this,q);this.uid=h.getUID("componentModel")},init:function(c,b,k,q){this.mergeDefaultAndTheme(c,k)},mergeDefaultAndTheme:function(c,b){var k=this.layoutMode,q=k?e.getLayoutParams(c):{},g=b.getTheme();n.merge(c,g.get(this.mainType));n.merge(c,this.getDefaultOption());k&&e.mergeLayoutParam(c,q,k)},mergeOption:function(c){n.merge(this.option,c,!0);var b=this.layoutMode;b&&e.mergeLayoutParam(this.option,c,b)},optionUpdated:function(c,b){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var c=[],b=this.constructor;b;){var k=b.prototype.defaultOption;k&&c.push(k);b=b.superClass}b={};for(k=c.length-1;0<=k;k--)b=n.merge(b,c[k],!0);this.__defaultOption=b}return this.__defaultOption}});f.enableClassManagement(d,{registerWhenExtend:!0});h.enableSubTypeDefaulter(d);h.enableTopologicalTravel(d,function(c){var b=[];n.each(d.getClassesByMainType(c),function(c){l.apply(b,c.prototype.dependencies||[])});return n.map(b,function(b){return f.parseClassType(b).main})});n.mixin(d,a(22));r.exports=d},function(r,p,a){var m=a(4),n=a(13).parseClassType,l=0;r.exports={getUID:function(a){return[a||"",l++,Math.random()].join("_")},enableSubTypeDefaulter:function(a){var f={};a.registerSubTypeDefaulter=function(e,d){e=n(e);f[e.main]=d};a.determineSubType=function(e,d){var c=d.type;if(!c){var b=n(e).main;a.hasSubTypes(e)&&f[b]&&(c=f[b](d))}return c};return a},enableTopologicalTravel:function(a,f){function e(b){var k={},q=[];m.each(b,function(g){var e=d(k,g),a=e.originalDeps=f(g),a=c(a,b);e.entryCount=a.length;0===e.entryCount&&q.push(g);m.each(a,function(b){0>m.indexOf(e.predecessor,b)&&e.predecessor.push(b);var c=d(k,b);0>m.indexOf(c.successor,b)&&c.successor.push(g)})});return{graph:k,noEntryList:q}}function d(b,c){b[c]||(b[c]={predecessor:[],successor:[]});return b[c]}function c(b,c){var q=[];m.each(b,function(b){0<=m.indexOf(c,b)&&q.push(b)});return q}a.topologicalTravel=function(b,c,q,g){function d(b){f[b].entryCount--;0===f[b].entryCount&&v.push(b)}function a(b){h[b]=!0;d(b)}if(b.length){c=e(c);var f=c.graph,v=c.noEntryList,h={};for(m.each(b,function(b){h[b]=!0});v.length;){b=v.pop();c=f[b];var l=!!h[b];l&&(q.call(g,b,c.originalDeps.slice()),delete h[b]);m.each(c.successor,l?a:d)}m.each(h,function(){throw Error("Circle dependency may exists");})}}}}},function(r,p,a){function m(b,c,q,g,d){var e=0,a=0;null==g&&(g=Infinity);null==d&&(d=Infinity);var f=0;c.eachChild(function(h,l){var m=h.position,w=h.getBoundingRect(),n=c.childAt(l+1),n=n&&n.getBoundingRect(),B,D;"horizontal"===b?(n=w.width+(n?-n.x+w.x:0),B=e+n,B>g||h.newline?(e=0,B=n,a+=f+q,f=w.height):f=Math.max(f,w.height)):(n=w.height+(n?-n.y+w.y:0),D=a+n,D>d||h.newline?(e+=f+q,a=0,D=n,f=w.width):f=Math.max(f,w.width));h.newline||(m[0]=e,m[1]=a,"horizontal"===b?e=B+q:a=D+q)})}var n=a(4),l=a(9);p=a(7);var h=a(6),f=p.parsePercent,e=n.each,d={},c="left right top bottom width height".split(" ");d.box=m;d.vbox=n.curry(m,"vertical");d.hbox=n.curry(m,"horizontal");d.getAvailableSize=function(b,c,q){var g=c.width;c=c.height;var d=f(b.x,g),e=f(b.y,c),a=f(b.x2,g),v=f(b.y2,c);(isNaN(d)||isNaN(parseFloat(b.x)))&&(d=0);(isNaN(a)||isNaN(parseFloat(b.x2)))&&(a=g);(isNaN(e)||isNaN(parseFloat(b.y)))&&(e=0);(isNaN(v)||isNaN(parseFloat(b.y2)))&&(v=c);q=h.normalizeCssArray(q||0);return{width:Math.max(a-d-q[1]-q[3],0),height:Math.max(v-e-q[0]-q[2],0)}};d.getLayoutRect=function(b,c,q){q=h.normalizeCssArray(q||0);var g=c.width;c=c.height;var d=f(b.left,g),e=f(b.top,c),a=f(b.right,g),v=f(b.bottom,c),t=f(b.width,g),A=f(b.height,c),m=q[2]+q[0],w=q[1]+q[3],n=b.aspect;isNaN(t)&&(t=g-a-w-d);isNaN(A)&&(A=c-v-m-e);isNaN(t)&&isNaN(A)&&(n>g/c?t=.8*g:A=.8*c);null!=n&&(isNaN(t)&&(t=n*A),isNaN(A)&&(A=t/n));isNaN(d)&&(d=g-a-t-w);isNaN(e)&&(e=c-v-A-m);switch(b.left||b.right){case "center":d=g/2-t/2-q[3];break;case "right":d=g-t-w}switch(b.top||b.bottom){case "middle":case "center":e=c/2-A/2-q[0];break;case "bottom":e=c-A-m}d=d||0;e=e||0;isNaN(t)&&(t=g-d-(a||0));isNaN(A)&&(A=c-e-(v||0));b=new l(d+q[3],e+q[0],t,A);b.margin=q;return b};d.positionGroup=function(b,c,q,g){var e=b.getBoundingRect();c=n.extend(n.clone(c),{width:e.width,height:e.height});c=d.getLayoutRect(c,q,g);b.attr("position",[c.x-e.x,c.y-e.y])};d.mergeLayoutParam=function(b,c,q){function g(g){var d={},a=0,f={},u=0,y=q.ignoreSize?1:2;e(g,function(c){f[c]=b[c]});e(g,function(b){c.hasOwnProperty(b)&&(d[b]=f[b]=c[b]);null!=d[b]&&"auto"!==d[b]&&a++;null!=f[b]&&"auto"!==f[b]&&u++});if(u!==y&&a){if(!(a>=y))for(y=0;y<g.length;y++){var h=g[y];if(!d.hasOwnProperty(h)&&b.hasOwnProperty(h)){d[h]=b[h];break}}return d}return f}function d(b,c,g){e(b,function(b){c[b]=g[b]})}!n.isObject(q)&&(q={});var a=["width","left","right"],f=["height","top","bottom"],h=g(a),l=g(f);d(a,b,h);d(f,b,l)};d.getLayoutParams=function(b){return d.copyLayoutParams({},b)};d.copyLayoutParams=function(b,k){k&&b&&e(c,function(c){k.hasOwnProperty(c)&&(b[c]=k[c])});return b};r.exports=d},function(r,p){r.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(r,p){var a="";"undefined"!==typeof navigator&&(a=navigator.platform||"");r.exports={color:"#c23531 #2f4554 #61a0a8 #d48265 #91c7ae #749f83 #ca8622 #bda29a #6e7074 #546570 #c4ccd3".split(" "),textStyle:{fontFamily:a.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:!0,animationDuration:1E3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2E3,progressiveThreshold:3E3,progressive:400,hoverLayerThreshold:3E3}},function(r,p){r.exports={clearColorPalette:function(){this._colorIdx=0;this._colorNameMap={}},getColorFromPalette:function(a,m){m=m||this;var n=m._colorIdx||0,l=m._colorNameMap||(m._colorNameMap={});if(l[a])return l[a];var h=this.get("color",!0)||[];if(h.length){var f=h[n];a&&(l[a]=f);m._colorIdx=(n+1)%h.length;return f}}}},function(r,p,a){var m=a(4),n="getDom getZr getWidth getHeight dispatchAction isDisposed on off getDataURL getConnectedDataURL getModel getOption".split(" ");r.exports=function(a){m.each(n,function(h){this[h]=m.bind(a[h],a)},this)}},function(r,p){function a(){this._coordinateSystems=[]}var m={};a.prototype={constructor:a,create:function(a,l){var h=[],f;for(f in m){var e=m[f].create(a,l);e&&(h=h.concat(e))}this._coordinateSystems=h},update:function(a,l){for(var h=this._coordinateSystems,f=0;f<h.length;f++)h[f].update&&h[f].update(a,l)}};a.register=function(a,l){m[a]=l};a.get=function(a){return m[a]};r.exports=a},function(r,p,a){function m(b){this._api=b;this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[]}function n(c,g,q){var k=[],d=[],a,f,u=c.timeline;c.baseOption&&(f=c.baseOption);if(u||c.options)f=f||{},k=(c.options||[]).slice();c.media&&(f=f||{},b(c.media,function(b){b&&b.option&&(b.query?d.push(b):a||(a=b))}));f||(f=c);f.timeline||(f.timeline=u);b([f].concat(k).concat(e.map(d,function(b){return b.option})),function(c){b(g,function(b){b(c,q)})});return{baseOption:f,timelineOptions:k,mediaDefault:a,mediaList:d}}function l(b,c,g){var q={width:c,height:g,aspectratio:c/g},k=!0;e.each(b,function(b,c){var g=c.match(u);if(g&&g[1]&&g[2]){var d=g[1],g=g[2].toLowerCase();g=q[g];("min"===d?g>=b:"max"===d?g<=b:g===b)||(k=!1)}});return k}function h(b,c){return b.join(",")===c.join(",")}function f(k,e){e=e||{};b(e,function(b,e){if(null!=b){var a=k[e];c.hasClass(e)?(b=d.normalizeToArray(b),a=d.normalizeToArray(a),a=d.mappingToExists(a,b),k[e]=q(a,function(b){return b.option&&b.exist?g(b.exist,b.option,!0):b.exist||b.option})):k[e]=g(a,b,!0)}})}var e=a(4),d=a(5),c=a(19),b=e.each,k=e.clone,q=e.map,g=e.merge,u=/^(min|max)?(.+)$/;m.prototype={constructor:m,setOption:function(b,c){b=k(b,!0);var g=this._optionBackup,q=n.call(this,b,c,!g);this._newBaseOption=q.baseOption;g?(f(g.baseOption,q.baseOption),q.timelineOptions.length&&(g.timelineOptions=q.timelineOptions),q.mediaList.length&&(g.mediaList=q.mediaList),q.mediaDefault&&(g.mediaDefault=q.mediaDefault)):this._optionBackup=q},mountOption:function(b){var c=this._optionBackup;this._timelineOptions=q(c.timelineOptions,k);this._mediaList=q(c.mediaList,k);this._mediaDefault=k(c.mediaDefault);this._currentMediaIndices=[];return k(b?c.baseOption:this._newBaseOption)},getTimelineOption:function(b){var c,g=this._timelineOptions;g.length&&(b=b.getComponent("timeline"))&&(c=k(g[b.getCurrentIndex()],!0));return c},getMediaOption:function(b){b=this._api.getWidth();var c=this._api.getHeight(),g=this._mediaList,d=this._mediaDefault,e=[],a=[];if(!g.length&&!d)return a;for(var f=0,u=g.length;f<u;f++)l(g[f].query,b,c)&&e.push(f);!e.length&&d&&(e=[-1]);e.length&&!h(e,this._currentMediaIndices)&&(a=q(e,function(b){return k(-1===b?d.option:g[b].option)}));this._currentMediaIndices=e;return a}};r.exports=m},function(r,p,a){var m=a(4),n=a(6),l=a(5);p=a(19);var h=a(24),f=a(2),e=n.encodeHTML,d=n.addCommas;a=p.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",init:function(c,b,k,q){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(c,k);this._dataBeforeProcessed=this.getInitialData(c,k);this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(c,b){m.merge(c,b.getTheme().get(this.subType));m.merge(c,this.getDefaultOption());l.defaultEmphasis(c.label,l.LABEL_OPTIONS);this.fillDataTextStyle(c.data)},mergeOption:function(c,b){c=m.merge(this.option,c,!0);this.fillDataTextStyle(c.data);var k=this.getInitialData(c,b);k&&(this._data=k,this._dataBeforeProcessed=k.cloneShallow())},fillDataTextStyle:function(c){if(c)for(var b=0;b<c.length;b++)c[b]&&c[b].label&&l.defaultEmphasis(c[b].label,l.LABEL_OPTIONS)},getInitialData:function(){},getData:function(c){return null==c?this._data:this._data.getLinkedData(c)},setData:function(c){this._data=c},getRawData:function(){return this._dataBeforeProcessed},coordDimToDataDim:function(c){return[c]},dataDimToCoordDim:function(c){return c},getBaseAxis:function(){var c=this.coordinateSystem;return c&&c.getBaseAxis&&c.getBaseAxis()},formatTooltip:function(c,b,k){function q(c){return m.map(c,function(c,q){var k=g.getDimensionInfo(q),k=k&&k.type;return"ordinal"===k?c:"time"===k?b?"":n.formatTime("yyyy/mm/dd hh:mm:ss",c):d(c)}).filter(function(b){return!!b}).join(", ")}var g=this._data;k=this.getRawValue(c);k=m.isArray(k)?q(k):d(k);var a=g.getName(c);c='\x3cspan style\x3d"display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+g.getItemVisual(c,"color")+'"\x3e\x3c/span\x3e';var f=this.name;"\x00-"===f&&(f="");return b?c+e(this.name)+" : "+k:(f&&e(f)+"\x3cbr /\x3e")+c+(a?e(a)+" : "+k:k)},ifEnableAnimation:function(){if(f.node)return!1;var c=this.getShallow("animation");c&&this.getData().count()>this.getShallow("animationThreshold")&&(c=!1);return c},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()},getColorFromPalette:function(c,b){var k=this.ecModel,q=h.getColorFromPalette.call(this,c,b);q||(q=k.getColorFromPalette(c,b));return q},getAxisTooltipDataIndex:null});m.mixin(a,l.dataFormatMixin);m.mixin(a,h);r.exports=a},function(r,p,a){var m=a(30),n=a(20);p=a(13);a=function(){this.group=new m;this.uid=n.getUID("viewComponent")};a.prototype={constructor:a,init:function(a,f){},render:function(a,f,e,d){},dispose:function(){}};var l=a.prototype;l.updateView=l.updateLayout=l.updateVisual=function(a,f,e,d){};p.enableClassExtend(a);p.enableClassManagement(a,{registerWhenExtend:!0});r.exports=a},function(r,p,a){var m=a(4),n=a(31),l=a(9),h=function(a){a=a||{};n.call(this,a);for(var e in a)this[e]=a[e];this._children=[];this.__storage=null;this.__dirty=!0};h.prototype={constructor:h,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var e=this._children,d=0;d<e.length;d++)if(e[d].name===a)return e[d]},childCount:function(){return this._children.length},add:function(a){a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a));return this},addBefore:function(a,e){if(a&&a!==this&&a.parent!==this&&e&&e.parent===this){var d=this._children,c=d.indexOf(e);0<=c&&(d.splice(c,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a);a.parent=this;var e=this.__storage,d=this.__zr;e&&e!==a.__storage&&(e.addToMap(a),a instanceof h&&a.addChildrenToStorage(e));d&&d.refresh()},remove:function(a){var e=this.__zr,d=this.__storage,c=this._children,b=m.indexOf(c,a);if(0>b)return this;c.splice(b,1);a.parent=null;d&&(d.delFromMap(a.id),a instanceof h&&a.delChildrenFromStorage(d));e&&e.refresh();return this},removeAll:function(){var a=this._children,e=this.__storage,d,c;for(c=0;c<a.length;c++)d=a[c],e&&(e.delFromMap(d.id),d instanceof h&&d.delChildrenFromStorage(e)),d.parent=null;a.length=0;return this},eachChild:function(a,e){for(var d=this._children,c=0;c<d.length;c++)a.call(e,d[c],c);return this},traverse:function(a,e){for(var d=0;d<this._children.length;d++){var c=this._children[d];a.call(e,c);"group"===c.type&&c.traverse(a,e)}return this},addChildrenToStorage:function(a){for(var e=0;e<this._children.length;e++){var d=this._children[e];a.addToMap(d);d instanceof h&&d.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var e=0;e<this._children.length;e++){var d=this._children[e];a.delFromMap(d.id);d instanceof h&&d.delChildrenFromStorage(a)}},dirty:function(){this.__dirty=!0;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(a){var e=null,d=new l(0,0,0,0);a=a||this._children;for(var c=[],b=0;b<a.length;b++){var k=a[b];if(!k.ignore&&!k.invisible){var q=k.getBoundingRect();(k=k.getLocalTransform(c))?(d.copy(q),d.applyTransform(k),e=e||d.clone(),e.union(d)):(e=e||q.clone(),e.union(q))}}return e||d}};m.inherits(h,n);r.exports=h},function(r,p,a){var m=a(32),n=a(33),l=a(34),h=a(35),f=a(4);p=function(e){l.call(this,e);n.call(this,e);h.call(this,e);this.id=e.id||m()};p.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(e,d){switch(this.draggable){case "horizontal":d=0;break;case "vertical":e=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]);c[4]+=e;c[5]+=d;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,d){},attrKV:function(e,d){if("position"===e||"scale"===e||"origin"===e){if(d){var c=this[e];c||(c=this[e]=[]);c[0]=d[0];c[1]=d[1]}}else this[e]=d},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(e,d){if("string"===typeof e)this.attrKV(e,d);else if(f.isObject(e))for(var c in e)e.hasOwnProperty(c)&&this.attrKV(c,e[c]);this.dirty(!1);return this},setClipPath:function(e){var d=this.__zr;d&&e.addSelfToZr(d);this.clipPath&&this.clipPath!==e&&this.removeClipPath();this.clipPath=e;e.__zr=d;e.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,this.clipPath=e.__clipTarget=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var d=this.animators;if(d)for(var c=0;c<d.length;c++)e.animation.addAnimator(d[c]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var d=this.animators;if(d)for(var c=0;c<d.length;c++)e.animation.removeAnimator(d[c]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}};f.mixin(p,h);f.mixin(p,l);f.mixin(p,n);r.exports=p},function(r,p){var a=2311;r.exports=function(){return a++}},function(r,p){var a=Array.prototype.slice,m=function(){this._$handlers={}};m.prototype={constructor:m,one:function(a,l,h){var f=this._$handlers;if(!l||!a)return this;f[a]||(f[a]=[]);for(var e=0;e<f[a].length;e++)if(f[a][e].h===l)return this;f[a].push({h:l,one:!0,ctx:h||this});return this},on:function(a,l,h){var f=this._$handlers;if(!l||!a)return this;f[a]||(f[a]=[]);for(var e=0;e<f[a].length;e++)if(f[a][e].h===l)return this;f[a].push({h:l,one:!1,ctx:h||this});return this},isSilent:function(a){var l=this._$handlers;return l[a]&&l[a].length},off:function(a,l){var h=this._$handlers;if(!a)return this._$handlers={},this;if(l){if(h[a]){for(var f=[],e=0,d=h[a].length;e<d;e++)h[a][e].h!=l&&f.push(h[a][e]);h[a]=f}h[a]&&0===h[a].length&&delete h[a]}else delete h[a];return this},trigger:function(m){if(this._$handlers[m]){var l=arguments,h=l.length;3<h&&(l=a.call(l,1));for(var f=this._$handlers[m],e=f.length,d=0;d<e;){switch(h){case 1:f[d].h.call(f[d].ctx);break;case 2:f[d].h.call(f[d].ctx,l[1]);break;case 3:f[d].h.call(f[d].ctx,l[1],l[2]);break;default:f[d].h.apply(f[d].ctx,l)}f[d].one?(f.splice(d,1),e--):d++}}return this},triggerWithContext:function(m){if(this._$handlers[m]){var l=arguments,h=l.length;4<h&&(l=a.call(l,1,l.length-1));for(var f=l[l.length-1],e=this._$handlers[m],d=e.length,c=0;c<d;){switch(h){case 1:e[c].h.call(f);break;case 2:e[c].h.call(f,l[1]);break;case 3:e[c].h.call(f,l[1],l[2]);break;default:e[c].h.apply(f,l)}e[c].one?(e.splice(c,1),d--):c++}}return this}};r.exports=m},function(r,p,a){function m(e){return 5E-5<e||-5E-5>e}var n=a(11),l=a(10),h=n.identity;p=function(e){e=e||{};e.position||(this.position=[0,0]);null==e.rotation&&(this.rotation=0);e.scale||(this.scale=[1,1]);this.origin=this.origin||null};a=p.prototype;a.transform=null;a.needLocalTransform=function(){return m(this.rotation)||m(this.position[0])||m(this.position[1])||m(this.scale[0]-1)||m(this.scale[1]-1)};a.updateTransform=function(){var e=this.parent,d=e&&e.transform,c=this.needLocalTransform(),b=this.transform;c||d?(b=b||n.create(),c?this.getLocalTransform(b):h(b),d&&(c?n.mul(b,e.transform,b):n.copy(b,e.transform)),this.transform=b,this.invTransform=this.invTransform||n.create(),n.invert(this.invTransform,b)):b&&h(b)};a.getLocalTransform=function(e){e=e||[];h(e);var d=this.origin,c=this.scale,b=this.rotation,k=this.position;d&&(e[4]-=d[0],e[5]-=d[1]);n.scale(e,e,c);b&&n.rotate(e,e,b);d&&(e[4]+=d[0],e[5]+=d[1]);e[4]+=k[0];e[5]+=k[1];return e};a.setTransform=function(e){var d=this.transform,c=e.dpr||1;d?e.setTransform(c*d[0],c*d[1],c*d[2],c*d[3],c*d[4],c*d[5]):e.setTransform(c,0,0,c,0,0)};a.restoreTransform=function(e){var d=e.dpr||1;e.setTransform(d,0,0,d,0,0)};var f=[];a.decomposeTransform=function(){if(this.transform){var e=this.parent,d=this.transform;e&&e.transform&&(n.mul(f,e.invTransform,d),d=f);var e=d[0]*d[0]+d[1]*d[1],c=d[2]*d[2]+d[3]*d[3],b=this.position,k=this.scale;m(e-1)&&(e=Math.sqrt(e));m(c-1)&&(c=Math.sqrt(c));0>d[0]&&(e=-e);0>d[3]&&(c=-c);b[0]=d[4];b[1]=d[5];k[0]=e;k[1]=c;this.rotation=Math.atan2(-d[1]/c,d[0]/e)}};a.getGlobalScale=function(){var e=this.transform;if(!e)return[1,1];var d=Math.sqrt(e[0]*e[0]+e[1]*e[1]),c=Math.sqrt(e[2]*e[2]+e[3]*e[3]);0>e[0]&&(d=-d);0>e[3]&&(c=-c);return[d,c]};a.transformCoordToLocal=function(e,d){var c=[e,d],b=this.invTransform;b&&l.applyTransform(c,c,b);return c};a.transformCoordToGlobal=function(e,d){var c=[e,d],b=this.transform;b&&l.applyTransform(c,c,b);return c};r.exports=p},function(r,p,a){var m=a(36),n=a(4),l=n.isString,h=n.isFunction,f=n.isObject,e=a(40);p=function(){this.animators=[]};p.prototype={constructor:p,animate:function(d,c){var b,k=!1,q=this,g=this.__zr;if(d){for(var a=d.split("."),f=q,k="shape"===a[0],h=0,v=a.length;h<v;h++)f&&(f=f[a[h]]);f&&(b=f)}else b=q;if(b){var l=q.animators,A=new m(b,c);A.during(function(b){q.dirty(k)}).done(function(){l.splice(n.indexOf(l,A),1)});l.push(A);g&&g.animation.addAnimator(A);return A}e('Property "'+d+'" is not existed in element '+q.id)},stopAnimation:function(d){for(var c=this.animators,b=c.length,k=0;k<b;k++)c[k].stop(d);c.length=0;return this},animateTo:function(d,c,b,k,q){function g(){e--;e||q&&q()}l(b)?(q=k,k=b,b=0):h(k)?(q=k,k="linear",b=0):h(b)?(q=b,b=0):h(c)?(q=c,c=500):c||(c=500);this.stopAnimation();this._animateToShallow("",this,d,c,b,k,q);d=this.animators.slice();var e=d.length;e||q&&q();for(c=0;c<d.length;c++)d[c].done(g).start(k)},_animateToShallow:function(d,c,b,k,q){var g={},e=0,a;for(a in b)if(null!=c[a])f(b[a])&&!n.isArrayLike(b[a])?this._animateToShallow(d?d+"."+a:a,c[a],b[a],k,q):(g[a]=b[a],e++);else if(null!=b[a])if(d){var h={};h[d]={};h[d][a]=b[a];this.attr(h)}else this.attr(a,b[a]);0<e&&this.animate(d,!1).when(null==k?500:k,g).delay(q||0);return this}};r.exports=p},function(r,p,a){function m(b,c){return b[c]}function n(b,c,g){b[c]=g}function l(b,c,g,q,k){var d=b.length;if(1==k)for(k=0;k<d;k++){var e=b[k];q[k]=(c[k]-e)*g+e}else for(e=b[0].length,k=0;k<d;k++)for(var a=0;a<e;a++){var u=b[k][a];q[k][a]=(c[k][a]-u)*g+u}}function h(b,c,g){var k=b.length,q=c.length;if(k!==q)if(k>q)b.length=q;else for(;k<q;k++)b.push(1===g?c[k]:y.call(c[k]));q=b[0]&&b[0].length;for(k=0;k<b.length;k++)if(1===g)isNaN(b[k])&&(b[k]=c[k]);else for(var d=0;d<q;d++)isNaN(b[k][d])&&(b[k][d]=c[k][d])}function f(b,c,g){if(b===c)return!0;var k=b.length;if(k!==c.length)return!1;if(1===g)for(g=0;g<k;g++){if(b[g]!==c[g])return!1}else{var q=b[0].length;for(g=0;g<k;g++)for(var d=0;d<q;d++)if(b[g][d]!==c[g][d])return!1}return!0}function e(b,c,g,k,q,e,a,u,f){var y=b.length;if(1==f)for(f=0;f<y;f++)u[f]=d(b[f],c[f],g[f],k[f],q,e,a);else{var h=b[0].length;for(f=0;f<y;f++)for(var l=0;l<h;l++)u[f][l]=d(b[f][l],c[f][l],g[f][l],k[f][l],q,e,a)}}function d(b,c,g,k,q,d,e){b=.5*(g-b);k=.5*(k-c);return(2*(c-g)+b+k)*e+(-3*(c-g)-2*b-k)*d+b*q+c}function c(b){if(u(b)){var c=b.length;if(u(b[0])){for(var g=[],k=0;k<c;k++)g.push(y.call(b[k]));return g}return y.call(b)}return b}function b(b){b[0]=Math.floor(b[0]);b[1]=Math.floor(b[1]);b[2]=Math.floor(b[2]);return"rgba("+b.join(",")+")"}function k(c,k,a,y,m){var w=c._getter,n=c._setter,B="spline"===k,D=y.length;if(D){var p=y[0].value,r=u(p),H=!1,F=!1,K=r&&u(p[0])?2:1;y.sort(function(b,c){return b.time-c.time});for(var p=y[D-1].time,M=[],L=[],I=y[0].value,G=!0,N=0;N<D;N++){M.push(y[N].time/p);var P=y[N].value;r&&f(P,I,K)||!r&&P===I||(G=!1);I=P;if("string"==typeof P){var R=g.parse(P);R?(P=R,H=!0):F=!0}L.push(P)}if(!G){y=L[D-1];for(N=0;N<D-1;N++)r?h(L[N],y,K):!isNaN(L[N])||isNaN(y)||F||H||(L[N]=y);r&&h(w(c._target,m),y,K);var T=0,O=0,S,Q,V,W,Y,aa;if(H)var Z=[0,0,0,0];c=new q({target:c._target,life:p,loop:c._loop,delay:c._delay,onframe:function(c,g){var k;if(0>g)k=0;else if(g<O){for(k=S=Math.min(T+1,D-1);0<=k&&!(M[k]<=g);k--);k=Math.min(k,D-2)}else{for(k=T;k<D&&!(M[k]>g);k++);k=Math.min(k-1,D-2)}T=k;O=g;var q=M[k+1]-M[k];if(0!==q)if(Q=(g-M[k])/q,B)if(W=L[k],V=L[0===k?k:k-1],Y=L[k>D-2?D-1:k+1],aa=L[k>D-3?D-1:k+2],r)e(V,W,Y,aa,Q,Q*Q,Q*Q*Q,w(c,m),K);else{if(H)e(V,W,Y,aa,Q,Q*Q,Q*Q*Q,Z,1),k=b(Z);else{if(F)return.5<Q?Y:W;k=d(V,W,Y,aa,Q,Q*Q,Q*Q*Q)}n(c,m,k)}else if(r)l(L[k],L[k+1],Q,w(c,m),K);else{if(H)l(L[k],L[k+1],Q,Z,1),k=b(Z);else{if(F)return.5<Q?L[k+1]:L[k];q=L[k];k=(L[k+1]-q)*Q+q}n(c,m,k)}},ondestroy:a});k&&"spline"!==k&&(c.easing=k);return c}}}var q=a(37),g=a(39),u=a(4).isArrayLike,y=Array.prototype.slice;p=function(b,c,g,k){this._tracks={};this._target=b;this._loop=c||!1;this._getter=g||m;this._setter=k||n;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=[]};p.prototype={when:function(b,g){var k=this._tracks,q;for(q in g){if(!k[q]){k[q]=[];var d=this._getter(this._target,q);if(null==d)continue;0!==b&&k[q].push({time:0,value:c(d)})}k[q].push({time:b,value:g[q]})}return this},during:function(b){this._onframeList.push(b);return this},_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var b=this._doneList,c=b.length,g=0;g<c;g++)b[g].call(this)},start:function(b){var c=this,g=0,q=function(){g--;g||c._doneCallback()},d,e;for(e in this._tracks){var a=k(this,b,q,this._tracks[e],e);a&&(this._clipList.push(a),g++,this.animation&&this.animation.addClip(a),d=a)}if(d){var u=d.onframe;d.onframe=function(b,g){u(b,g);for(var k=0;k<c._onframeList.length;k++)c._onframeList[k](b,g)}}g||this._doneCallback();return this},stop:function(b){for(var c=this._clipList,g=this.animation,k=0;k<c.length;k++){var q=c[k];if(b)q.onframe(this._target,1);g&&g.removeClip(q)}c.length=0},delay:function(b){this._delay=b;return this},done:function(b){b&&this._doneList.push(b);return this},getClips:function(){return this._clipList}};r.exports=p},function(r,p,a){function m(a){this._target=a.target;this._life=a.life||1E3;this._delay=a.delay||0;this._initialized=!1;this.loop=null==a.loop?!1:a.loop;this.gap=a.gap||0;this.easing=a.easing||"Linear";this.onframe=a.onframe;this.ondestroy=a.ondestroy;this.onrestart=a.onrestart}var n=a(38);m.prototype={constructor:m,step:function(a){this._initialized||(this._startTime=a+this._delay,this._initialized=!0);var h=(a-this._startTime)/this._life;if(!(0>h)){var h=Math.min(h,1),f=this.easing,f="string"==typeof f?n[f]:f,f="function"===typeof f?f(h):h;this.fire("frame",f);if(1==h){if(this.loop)return this.restart(a),"restart";this._needsRemove=!0;return"destroy"}return null}},restart:function(a){this._startTime=a-(a-this._startTime)%this._life+this.gap;this._needsRemove=!1},fire:function(a,h){a="on"+a;if(this[a])this[a](this._target,h)}};r.exports=m},function(r,p){var a={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var n,l=.1;if(0===a)return 0;if(1===a)return 1;!l||1>l?(l=1,n=.1):n=.4*Math.asin(1/l)/(2*Math.PI);return-(l*Math.pow(2,10*--a)*Math.sin(2*(a-n)*Math.PI/.4))},elasticOut:function(a){var n,l=.1;if(0===a)return 0;if(1===a)return 1;!l||1>l?(l=1,n=.1):n=.4*Math.asin(1/l)/(2*Math.PI);return l*Math.pow(2,-10*a)*Math.sin(2*(a-n)*Math.PI/.4)+1},elasticInOut:function(a){var n,l=.1;if(0===a)return 0;if(1===a)return 1;!l||1>l?(l=1,n=.1):n=.4*Math.asin(1/l)/(2*Math.PI);return 1>(a*=2)?-.5*l*Math.pow(2,10*--a)*Math.sin(2*(a-n)*Math.PI/.4):l*Math.pow(2,-10*--a)*Math.sin(2*(a-n)*Math.PI/.4)*.5+1},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(m){return 1-a.bounceOut(1-m)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(m){return.5>m?.5*a.bounceIn(2*m):.5*a.bounceOut(2*m-1)+.5}};r.exports=a},function(r,p){function a(b){b=Math.round(b);return 0>b?0:255<b?255:b}function m(b){return 0>b?0:1<b?1:b}function n(b){return b.length&&"%"===b.charAt(b.length-1)?a(parseFloat(b)/100*255):a(parseInt(b,10))}function l(b){return b.length&&"%"===b.charAt(b.length-1)?m(parseFloat(b)/100):m(parseFloat(b))}function h(b,c,g){0>g?g+=1:1<g&&--g;return 1>6*g?b+(c-b)*g*6:1>2*g?c:2>3*g?b+(c-b)*(2/3-g)*6:b}function f(b,c,g){return b+(c-b)*g}function e(c){if(c){var a=(c+"").replace(/ /g,"").toLowerCase();if(a in b)return b[a].slice();if("#"===a.charAt(0))if(4===a.length){if(c=parseInt(a.substr(1),16),0<=c&&4095>=c)return[(c&3840)>>4|(c&3840)>>8,c&240|(c&240)>>4,c&15|(c&15)<<4,1]}else{if(7===a.length&&(c=parseInt(a.substr(1),16),0<=c&&16777215>=c))return[(c&16711680)>>16,(c&65280)>>8,c&255,1]}else{var g=a.indexOf("("),e=a.indexOf(")");if(-1!==g&&e+1===a.length)switch(c=a.substr(0,g),a=a.substr(g+1,e-(g+1)).split(","),g=1,c){case "rgba":if(4!==a.length)break;g=l(a.pop());case "rgb":if(3!==a.length)break;return[n(a[0]),n(a[1]),n(a[2]),g];case "hsla":if(4!==a.length)break;a[3]=l(a[3]);return d(a);case "hsl":if(3===a.length)return d(a)}}}}function d(b){var c=(parseFloat(b[0])%360+360)%360/360,g=l(b[1]),d=l(b[2]),g=.5>=d?d*(g+1):d+g-d*g,d=2*d-g,c=[a(255*h(d,g,c+1/3)),a(255*h(d,g,c)),a(255*h(d,g,c-1/3))];4===b.length&&(c[3]=b[3]);return c}function c(b,c){var g=b[0]+","+b[1]+","+b[2];if("rgba"===c||"hsva"===c||"hsla"===c)g+=","+b[3];return c+"("+g+")"}var b={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};r.exports={parse:e,lift:function(b,a){var g=e(b);if(g){for(var d=0;3>d;d++)g[d]=0>a?g[d]*(1-a)|0:(255-g[d])*a+g[d]|0;return c(g,4===g.length?"rgba":"rgb")}},toHex:function(b,c){var g=e(b);if(g)return(16777216+(g[0]<<16)+(g[1]<<8)+ +g[2]).toString(16).slice(1)},fastMapToColor:function(b,c,g){if(c&&c.length&&0<=b&&1>=b){g=g||[0,0,0,0];var d=b*(c.length-1),e=Math.floor(d);b=c[e];c=c[Math.ceil(d)];d-=e;g[0]=a(f(b[0],c[0],d));g[1]=a(f(b[1],c[1],d));g[2]=a(f(b[2],c[2],d));g[3]=a(f(b[3],c[3],d));return g}},mapToColor:function(b,d,g){if(d&&d.length&&0<=b&&1>=b){b*=d.length-1;var u=Math.floor(b),y=Math.ceil(b),h=e(d[u]);d=e(d[y]);var v=b-u,h=c([a(f(h[0],d[0],v)),a(f(h[1],d[1],v)),a(f(h[2],d[2],v)),m(f(h[3],d[3],v))],"rgba");return g?{color:h,leftIndex:u,rightIndex:y,value:b}:h}},modifyHSL:function(b,a,g,f){if(b=e(b)){if(b){var y=b[0]/255,h=b[1]/255,v=b[2]/255,t=Math.min(y,h,v),A=Math.max(y,h,v),z=A-t,m=(A+t)/2,n;if(0===z)t=n=0;else{var t=.5>m?z/(A+t):z/(2-A-t),B=((A-y)/6+z/2)/z,D=((A-h)/6+z/2)/z,z=((A-v)/6+z/2)/z;y===A?n=z-D:h===A?n=1/3+B-z:v===A&&(n=2/3+D-B);0>n&&(n+=1);1<n&&--n}y=[360*n,t,m];null!=b[3]&&y.push(b[3]);b=y}else b=void 0;null!=a&&(a=Math.round(a),b[0]=0>a?0:360<a?360:a);null!=g&&(b[1]=l(g));null!=f&&(b[2]=l(f));return c(d(b),"rgba")}},modifyAlpha:function(b,a){if((b=e(b))&&null!=a)return b[3]=m(a),c(b,"rgba")},stringify:c}},function(r,p,a){var m=a(41);r.exports=function(){if(0!==m.debugMode)if(1==m.debugMode)for(var a in arguments)throw Error(arguments[a]);else if(1<m.debugMode)for(a in arguments)console.log(arguments[a])}},function(r,p){var a=1;"undefined"!==typeof window&&(a=Math.max(window.devicePixelRatio||1,1));r.exports={debugMode:0,devicePixelRatio:a}},function(r,p,a){function m(){this.group=new h;this.uid=f.getUID("viewChart")}function n(a,d){if(a&&(a.trigger(d),"group"===a.type))for(var c=0;c<a.childCount();c++)n(a.childAt(c),d)}function l(a,d,c){var b=d&&d.dataIndex;d=d&&d.name;if(null!=b){b=b instanceof Array?b:[b];d=0;for(var k=b.length;d<k;d++)n(a.getItemGraphicEl(b[d]),c)}else if(d){var q=d instanceof Array?d:[d];d=0;for(k=q.length;d<k;d++)b=a.indexOfName(q[d]),n(a.getItemGraphicEl(b),c)}else a.eachItemGraphicEl(function(b){n(b,c)})}var h=a(30),f=a(20);p=a(13);m.prototype={type:"chart",init:function(a,d){},render:function(a,d,c,b){},highlight:function(a,d,c,b){l(a.getData(),b,"emphasis")},downplay:function(a,d,c,b){l(a.getData(),b,"normal")},remove:function(a,d){this.group.removeAll()},dispose:function(){}};a=m.prototype;a.updateView=a.updateLayout=a.updateVisual=function(a,d,c,b){this.render(a,d,c,b)};p.enableClassExtend(m);p.enableClassManagement(m,{registerWhenExtend:!0});r.exports=m},function(r,p,a){function m(b){return"string"===typeof b?t.lift(b,-.1):b}function n(b){if(b.__hoverStlDirty){var c=b.style.stroke,g=b.style.fill,a=b.__hoverStl;a.fill=a.fill||(null!=g&&"none"!=g?m(g):null);a.stroke=a.stroke||(null!=c&&"none"!=c?m(c):null);var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b.style[d]);b.__normalStl=c;b.__hoverStlDirty=!1}}function l(b){b.__isHover||(n(b),b.useHoverLayer?b.__zr&&b.__zr.addHover(b,b.__hoverStl):(b.setStyle(b.__hoverStl),b.z2+=1),b.__isHover=!0)}function h(b){if(b.__isHover){var c=b.__normalStl;b.useHoverLayer?b.__zr&&b.__zr.removeHover(b):(c&&b.setStyle(c),--b.z2);b.__isHover=!1}}function f(b){"group"===b.type?b.traverse(function(b){"group"!==b.type&&l(b)}):l(b)}function e(b){"group"===b.type?b.traverse(function(b){"group"!==b.type&&h(b)}):h(b)}function d(b,c){b.__hoverStl=b.hoverStyle||c||{};b.__hoverStlDirty=!0;b.__isHover&&n(b)}function c(){!this.__isEmphasis&&f(this)}function b(){!this.__isEmphasis&&e(this)}function k(){this.__isEmphasis=!0;f(this)}function q(){this.__isEmphasis=!1;e(this)}function g(b,c,g,a,d,k){"function"===typeof d&&(k=d,d=null);if(a&&(a.ifEnableAnimation?a.ifEnableAnimation():a.getShallow("animation"))){var q=b?"Update":"";b=a&&a.getShallow("animationDuration"+q);var e=a&&a.getShallow("animationEasing"+q);a=a&&a.getShallow("animationDelay"+q);"function"===typeof a&&(a=a(d));0<b?c.animateTo(g,b,a||0,e,k):(c.attr(g),k&&k())}else c.attr(g),k&&k()}var u=a(4),y=a(44),x=Math.round,v=a(45),t=a(39),A=a(11),z=a(10);a(61);var w={};w.Group=a(30);w.Image=a(62);w.Text=a(64);w.Circle=a(65);w.Sector=a(66);w.Ring=a(67);w.Polygon=a(68);w.Polyline=a(72);w.Rect=a(73);w.Line=a(75);w.BezierCurve=a(76);w.Arc=a(77);w.CompoundPath=a(78);w.LinearGradient=a(79);w.RadialGradient=a(80);w.BoundingRect=a(9);w.extendShape=function(b){return v.extend(b)};w.extendPath=function(b,c){return y.extendFromString(b,c)};w.makePath=function(b,c,g,a){b=y.createFromString(b,c);c=b.getBoundingRect();if(g){c=c.width/c.height;if("center"===a){a=g.height*c;a<=g.width?c=g.height:(a=g.width,c=a/c);var d=g.y+g.height/2;g.x=g.x+g.width/2-a/2;g.y=d-c/2;g.width=a;g.height=c}this.resizePath(b,g)}return b};w.mergePath=y.mergePath;w.resizePath=function(b,c){if(b.applyTransform){var g=b.getBoundingRect().calculateTransform(c);b.applyTransform(g)}};w.subPixelOptimizeLine=function(b){var c=w.subPixelOptimize,g=b.shape,a=b.style.lineWidth;x(2*g.x1)===x(2*g.x2)&&(g.x1=g.x2=c(g.x1,a,!0));x(2*g.y1)===x(2*g.y2)&&(g.y1=g.y2=c(g.y1,a,!0));return b};w.subPixelOptimizeRect=function(b){var c=w.subPixelOptimize,g=b.shape,a=b.style.lineWidth,d=g.x,k=g.y,q=g.width,e=g.height;g.x=c(g.x,a,!0);g.y=c(g.y,a,!0);g.width=Math.max(c(d+q,a,!1)-g.x,0===q?0:1);g.height=Math.max(c(k+e,a,!1)-g.y,0===e?0:1);return b};w.subPixelOptimize=function(b,c,g){b=x(2*b);return 0===(b+x(c))%2?b/2:(b+(g?1:-1))/2};w.setHoverStyle=function(g,a){"group"===g.type?g.traverse(function(b){"group"!==b.type&&d(b,a)}):d(g,a);g.on("mouseover",c).on("mouseout",b);g.on("emphasis",k).on("normal",q)};w.setText=function(b,c,g){var a=c.getShallow("position")||"inside";g=0<=a.indexOf("inside")?"white":g;var d=c.getModel("textStyle");u.extend(b,{textDistance:c.getShallow("distance")||5,textFont:d.getFont(),textPosition:a,textFill:d.getTextColor()||g})};w.updateProps=function(b,c,a,d,k){g(!0,b,c,a,d,k)};w.initProps=function(b,c,a,d,k){g(!1,b,c,a,d,k)};w.getTransform=function(b,c){for(var g=A.identity([]);b&&b!==c;)A.mul(g,b.getLocalTransform(),g),b=b.parent;return g};w.applyTransform=function(b,c,g){g&&(c=A.invert([],c));return z.applyTransform([],b,c)};w.transformDirection=function(b,c,g){var a=0===c[4]||0===c[5]||0===c[0]?1:Math.abs(2*c[4]/c[0]),d=0===c[4]||0===c[5]||0===c[2]?1:Math.abs(2*c[4]/c[2]);b=["left"===b?-a:"right"===b?a:0,"top"===b?-d:"bottom"===b?d:0];b=w.applyTransform(b,c,g);return Math.abs(b[0])>Math.abs(b[1])?0<b[0]?"right":"left":0<b[1]?"bottom":"top"};w.groupTransition=function(b,c,g,a){function d(b){var c={};b.traverse(function(b){!b.isGroup&&b.anid&&(c[b.anid]=b)});return c}function k(b){var c={position:z.clone(b.position),rotation:b.rotation};b.shape&&(c.shape=u.extend({},b.shape));return c}if(b&&c){var q=d(b);c.traverse(function(b){if(!b.isGroup&&b.anid){var c=q[b.anid];if(c){var a=k(b);b.attr(k(c));w.updateProps(b,a,g,b.dataIndex)}}})}};r.exports=w},function(r,p,a){function m(c,a,d,e,f,h,l,m,n,p,r){n*=g/180;var H=q(n)*(c-d)/2+k(n)*(a-e)/2,F=-1*k(n)*(c-d)/2+q(n)*(a-e)/2,K=H*H/(l*l)+F*F/(m*m);1<K&&(l*=b(K),m*=b(K));K=(f===h?-1:1)*b((l*l*m*m-l*l*F*F-m*m*H*H)/(l*l*F*F+m*m*H*H))||0;f=K*l*F/m;K=K*-m*H/l;c=(c+d)/2+q(n)*f-k(n)*K;a=(a+e)/2+k(n)*f+q(n)*K;e=y([1,0],[(H-f)/l,(F-K)/m]);d=[(H-f)/l,(F-K)/m];H=[(-1*H-f)/l,(-1*F-K)/m];F=y(d,H);-1>=u(d,H)&&(F=g);1<=u(d,H)&&(F=0);0===h&&0<F&&(F-=2*g);1===h&&0>F&&(F+=2*g);r.addData(p,c,a,l,m,e,F,n,h)}function n(b){if(!b)return[];var g=b.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(b=0;b<c.length;b++)g=g.replace(new RegExp(c[b],"g"),"|"+c[b]);var g=g.split("|"),a=0,d=0,k=new f,q=f.CMD,e;for(b=1;b<g.length;b++){var u=g[b],y=u.charAt(0),h=0,u=u.slice(1).replace(/e,-/g,"e-").split(","),l;0<u.length&&""===u[0]&&u.shift();for(var n=0;n<u.length;n++)u[n]=parseFloat(u[n]);for(;h<u.length&&!isNaN(u[h])&&!isNaN(u[0]);){var p,r,M,L,I,G;switch(y){case "l":a+=u[h++];d+=u[h++];l=q.L;k.addData(l,a,d);break;case "L":a=u[h++];d=u[h++];l=q.L;k.addData(l,a,d);break;case "m":a+=u[h++];d+=u[h++];l=q.M;k.addData(l,a,d);y="l";break;case "M":a=u[h++];d=u[h++];l=q.M;k.addData(l,a,d);y="L";break;case "h":a+=u[h++];l=q.L;k.addData(l,a,d);break;case "H":a=u[h++];l=q.L;k.addData(l,a,d);break;case "v":d+=u[h++];l=q.L;k.addData(l,a,d);break;case "V":d=u[h++];l=q.L;k.addData(l,a,d);break;case "C":l=q.C;k.addData(l,u[h++],u[h++],u[h++],u[h++],u[h++],u[h++]);a=u[h-2];d=u[h-1];break;case "c":l=q.C;k.addData(l,u[h++]+a,u[h++]+d,u[h++]+a,u[h++]+d,u[h++]+a,u[h++]+d);a+=u[h-2];d+=u[h-1];break;case "S":p=a;r=d;l=k.len();n=k.data;e===q.C&&(p+=a-n[l-4],r+=d-n[l-3]);l=q.C;n=u[h++];G=u[h++];a=u[h++];d=u[h++];k.addData(l,p,r,n,G,a,d);break;case "s":p=a;r=d;l=k.len();n=k.data;e===q.C&&(p+=a-n[l-4],r+=d-n[l-3]);l=q.C;n=a+u[h++];G=d+u[h++];a+=u[h++];d+=u[h++];k.addData(l,p,r,n,G,a,d);break;case "Q":n=u[h++];G=u[h++];a=u[h++];d=u[h++];l=q.Q;k.addData(l,n,G,a,d);break;case "q":n=u[h++]+a;G=u[h++]+d;a+=u[h++];d+=u[h++];l=q.Q;k.addData(l,n,G,a,d);break;case "T":p=a;r=d;l=k.len();n=k.data;e===q.Q&&(p+=a-n[l-4],r+=d-n[l-3]);a=u[h++];d=u[h++];l=q.Q;k.addData(l,p,r,a,d);break;case "t":p=a;r=d;l=k.len();n=k.data;e===q.Q&&(p+=a-n[l-4],r+=d-n[l-3]);a+=u[h++];d+=u[h++];l=q.Q;k.addData(l,p,r,a,d);break;case "A":p=u[h++];r=u[h++];M=u[h++];L=u[h++];I=u[h++];n=a;G=d;a=u[h++];d=u[h++];l=q.A;m(n,G,a,d,L,I,p,r,M,l,k);break;case "a":p=u[h++],r=u[h++],M=u[h++],L=u[h++],I=u[h++],n=a,G=d,a+=u[h++],d+=u[h++],l=q.A,m(n,G,a,d,L,I,p,r,M,l,k)}}if("z"===y||"Z"===y)l=q.Z,k.addData(l);e=l}k.toStatic();return k}function l(b,c){var g=n(b),a;c=c||{};c.buildPath=function(b){b.setData(g.data);a&&e(b,a);var c=b.getContext();c&&b.rebuildPath(c)};c.applyTransform=function(b){a||(a=d.create());d.mul(a,b,a);this.dirty(!0)};return c}var h=a(45),f=a(49),e=a(60),d=a(11),c="mMlLvVhHzZcCqQtTsSaA".split(""),b=Math.sqrt,k=Math.sin,q=Math.cos,g=Math.PI,u=function(b,c){return(b[0]*c[0]+b[1]*c[1])/(Math.sqrt(b[0]*b[0]+b[1]*b[1])*Math.sqrt(c[0]*c[0]+c[1]*c[1]))},y=function(b,c){return(b[0]*c[1]<b[1]*c[0]?-1:1)*Math.acos(u(b,c))};r.exports={createFromString:function(b,c){return new h(l(b,c))},extendFromString:function(b,c){return h.extend(l(b,c))},mergePath:function(b,c){for(var g=[],a=b.length,d=0;d<a;d++){var k=b[d];k.__dirty&&k.buildPath(k.path,k.shape,!0);g.push(k.path)}a=new h(c);a.buildPath=function(b){b.appendPath(g);var c=b.getContext();c&&b.rebuildPath(c)};return a}}},function(r,p,a){function m(c){n.call(this,c);this.path=new h}var n=a(46),l=a(4),h=a(49),f=a(52),e=a(59).prototype.getCanvasPattern,d=Math.abs;m.prototype={constructor:m,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(c,b){var a=this.style,d=this.path,g=a.hasStroke(),u=a.hasFill(),f=a.fill,h=a.stroke,l=u&&!!f.colorStops,t=g&&!!h.colorStops,A=u&&!!f.image,n=g&&!!h.image;a.bind(c,this,b);this.setTransform(c);if(this.__dirty){var m=this.getBoundingRect();l&&(this._fillGradient=a.getGradient(c,f,m));t&&(this._strokeGradient=a.getGradient(c,h,m))}l?c.fillStyle=this._fillGradient:A&&(c.fillStyle=e.call(f,c));t?c.strokeStyle=this._strokeGradient:n&&(c.strokeStyle=e.call(h,c));f=a.lineDash;h=a.lineDashOffset;l=!!c.setLineDash;t=this.getGlobalScale();d.setScale(t[0],t[1]);this.__dirtyPath||f&&!l&&g?(d=this.path.beginPath(c),f&&!l&&(d.setLineDash(f),d.setLineDashOffset(h)),this.buildPath(d,this.shape,!1),this.__dirtyPath=!1):(c.beginPath(),this.path.rebuildPath(c));u&&d.fill(c);f&&l&&(c.setLineDash(f),c.lineDashOffset=h);g&&d.stroke(c);f&&l&&c.setLineDash([]);this.restoreTransform(c);(a.text||0===a.text)&&this.drawRectText(c,this.getBoundingRect())},buildPath:function(c,b,a){},getBoundingRect:function(){var c=this._rect,b=this.style,a=!c;if(a){var d=this.path;this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape,!1));c=d.getBoundingRect()}this._rect=c;if(b.hasStroke()){d=this._rectWithStroke||(this._rectWithStroke=c.clone());if(this.__dirty||a)d.copy(c),a=b.lineWidth,c=b.strokeNoScale?this.getLineScale():1,b.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),1E-10<c&&(d.width+=a/c,d.height+=a/c,d.x-=a/c/2,d.y-=a/c/2);return d}return c},contain:function(c,b){var a=this.transformCoordToLocal(c,b),d=this.getBoundingRect(),g=this.style;c=a[0];b=a[1];if(d.contain(c,b)){a=this.path.data;if(g.hasStroke()){var d=g.lineWidth,e=g.strokeNoScale?this.getLineScale():1;if(1E-10<e&&(g.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),f.containStroke(a,d/e,c,b)))return!0}if(g.hasFill())return f.contain(a,c,b)}return!1},dirty:function(c){null==c&&(c=!0);c&&(this.__dirtyPath=c,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(c){return this.animate("shape",c)},attrKV:function(c,b){"shape"===c?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):n.prototype.attrKV.call(this,c,b)},setShape:function(c,b){var a=this.shape;if(a){if(l.isObject(c))for(var d in c)a[d]=c[d];else a[c]=b;this.dirty(!0)}return this},getLineScale:function(){var c=this.transform;return c&&1E-10<d(c[0]-1)&&1E-10<d(c[3]-1)?Math.sqrt(d(c[0]*c[3]-c[2]*c[1])):1}};m.extend=function(c){var b=function(b){m.call(this,b);c.style&&this.style.extendFrom(c.style,!1);var g=c.shape;if(g){var a=this.shape=this.shape||{},d;for(d in g)!a.hasOwnProperty(d)&&g.hasOwnProperty(d)&&(a[d]=g[d])}c.init&&c.init.call(this,b)};l.inherits(b,m);for(var a in c)"style"!==a&&"shape"!==a&&(b.prototype[a]=c[a]);return b};l.inherits(m,n);r.exports=m},function(r,p,a){function m(a){a=a||{};l.call(this,a);for(var f in a)a.hasOwnProperty(f)&&"style"!==f&&(this[f]=a[f]);this.style=new n(a.style);this._rect=null;this.__clipPaths=[]}p=a(4);var n=a(47),l=a(31);a=a(48);m.prototype={constructor:m,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,f){},getBoundingRect:function(){},contain:function(a,f){return this.rectContain(a,f)},traverse:function(a,f){a.call(f,this)},rectContain:function(a,f){var e=this.transformCoordToLocal(a,f);return this.getBoundingRect().contain(e[0],e[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,f){"style"!==a?l.prototype.attrKV.call(this,a,f):this.style.set(f)},setStyle:function(a,f){this.style.set(a,f);this.dirty(!1);return this},useStyle:function(a){this.style=new n(a);this.dirty(!1);return this}};p.inherits(m,l);p.mixin(m,a);r.exports=m},function(r,p){function a(a,c,b){var k=c.x,q=c.x2,g=c.y,e=c.y2;c.global||(k=k*b.width+b.x,q=q*b.width+b.x,g=g*b.height+b.y,e=e*b.height+b.y);return a.createLinearGradient(k,g,q,e)}function m(a,c,b){var k=b.width,q=b.height,g=Math.min(k,q),e=c.x,f=c.y,h=c.r;c.global||(e=e*k+b.x,f=f*q+b.y,h*=g);return a.createRadialGradient(e,f,0,e,f,h)}var n=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],l=function(a){this.extendFrom(a)};l.prototype={constructor:l,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textTransform:!1,textRotation:0,blend:null,bind:function(a,c,b){b=b&&b.style;for(var k=!b,q=0;q<n.length;q++){var g=n[q],e=g[0];if(k||this[e]!==b[e])a[e]=this[e]||g[1]}if(k||this.fill!==b.fill)a.fillStyle=this.fill;if(k||this.stroke!==b.stroke)a.strokeStyle=this.stroke;if(k||this.opacity!==b.opacity)a.globalAlpha=null==this.opacity?1:this.opacity;if(k||this.blend!==b.blend)a.globalCompositeOperation=this.blend||"source-over";this.hasStroke()&&(a.lineWidth=this.lineWidth/(this.strokeNoScale&&c&&c.getLineScale?c.getLineScale():1))},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&0<this.lineWidth},extendFrom:function(a,c){if(a)for(var b in a)!a.hasOwnProperty(b)||!c&&this.hasOwnProperty(b)||(this[b]=a[b])},set:function(a,c){"string"===typeof a?this[a]=c:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;a.extendFrom(this,!0);return a},getGradient:function(d,c,b){d=("radial"===c.type?m:a)(d,c,b);c=c.colorStops;for(b=0;b<c.length;b++)d.addColorStop(c[b].offset,c[b].color);return d}};for(var h=l.prototype,f=0;f<n.length;f++){var e=n[f];e[0]in h||(h[e[0]]=e[1])}l.getGradient=h.getGradient;r.exports=l},function(r,p,a){function m(a,f){return"string"===typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*f:parseFloat(a):a}var n=a(8),l=new (a(9));p=function(){};p.prototype={constructor:p,drawRectText:function(a,f,e){var d=this.style,c=d.text;null!=c&&(c+="");if(c){a.save();var b,k=d.textPosition;b=d.textDistance;var q=d.textAlign,g=d.textFont||d.font,u=d.textBaseline,y=d.textVerticalAlign;e=e||n.getBoundingRect(c,g,q,u);var x=this.transform;d.textTransform?this.setTransform(a):x&&(l.copy(f),l.applyTransform(x),f=l);if(k instanceof Array){if(b=f.x+m(k[0],f.width),f=f.y+m(k[1],f.height),q=q||"left",u=u||"top",y){switch(y){case "middle":f-=e.height/2-e.lineHeight/2;break;case "bottom":f-=e.height-e.lineHeight/2;break;default:f+=e.lineHeight/2}u="middle"}}else y=n.adjustTextPositionOnRect(k,f,e,b),b=y.x,f=y.y,q=q||y.textAlign,u=u||y.textBaseline;a.textAlign=q||"left";a.textBaseline=u||"alphabetic";q=d.textFill;u=d.textStroke;q&&(a.fillStyle=q);u&&(a.strokeStyle=u);a.font=g||"12px sans-serif";a.shadowBlur=d.textShadowBlur;a.shadowColor=d.textShadowColor||"transparent";a.shadowOffsetX=d.textShadowOffsetX;a.shadowOffsetY=d.textShadowOffsetY;c=c.split("\n");d.textRotation&&(x&&a.translate(x[4],x[5]),a.rotate(d.textRotation),x&&a.translate(-x[4],-x[5]));for(d=0;d<c.length;d++)q&&a.fillText(c[d],b,f),u&&a.strokeText(c[d],b,f),f+=e.lineHeight;a.restore()}}};r.exports=p},function(r,p,a){var m=a(50),n=a(10),l=a(51),h=a(9),f=a(41).devicePixelRatio,e={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},d=[],c=[],b=[],k=[],q=Math.min,g=Math.max,u=Math.cos,y=Math.sin,x=Math.sqrt,v=Math.abs,t="undefined"!=typeof Float32Array;p=function(){this.data=[];this._len=0;this._ctx=null;this._uy=this._ux=this._y0=this._x0=this._yi=this._xi=0};p.prototype={constructor:p,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(b,c){this._ux=v(1/f/b)||0;this._uy=v(1/f/c)||0},getContext:function(){return this._ctx},beginPath:function(b){(this._ctx=b)&&b.beginPath();b&&(this.dpr=b.dpr);this._len=0;this._lineDash&&(this._lineDash=null,this._dashOffset=0);return this},moveTo:function(b,c){this.addData(e.M,b,c);this._ctx&&this._ctx.moveTo(b,c);this._x0=b;this._y0=c;this._xi=b;this._yi=c;return this},lineTo:function(b,c){var a=v(b-this._xi)>this._ux||v(c-this._yi)>this._uy||5>this._len;this.addData(e.L,b,c);this._ctx&&a&&(this._needsDash()?this._dashedLineTo(b,c):this._ctx.lineTo(b,c));a&&(this._xi=b,this._yi=c);return this},bezierCurveTo:function(b,c,a,g,d,k){this.addData(e.C,b,c,a,g,d,k);this._ctx&&(this._needsDash()?this._dashedBezierTo(b,c,a,g,d,k):this._ctx.bezierCurveTo(b,c,a,g,d,k));this._xi=d;this._yi=k;return this},quadraticCurveTo:function(b,c,a,g){this.addData(e.Q,b,c,a,g);this._ctx&&(this._needsDash()?this._dashedQuadraticTo(b,c,a,g):this._ctx.quadraticCurveTo(b,c,a,g));this._xi=a;this._yi=g;return this},arc:function(b,c,a,g,d,k){this.addData(e.A,b,c,a,a,g,d-g,0,k?0:1);this._ctx&&this._ctx.arc(b,c,a,g,d,k);this._xi=u(d)*a+b;this._xi=y(d)*a+b;return this},arcTo:function(b,c,a,g,d){this._ctx&&this._ctx.arcTo(b,c,a,g,d);return this},rect:function(b,c,a,g){this._ctx&&this._ctx.rect(b,c,a,g);this.addData(e.R,b,c,a,g);return this},closePath:function(){this.addData(e.Z);var b=this._ctx,c=this._x0,a=this._y0;b&&(this._needsDash()&&this._dashedLineTo(c,a),b.closePath());this._xi=c;this._yi=a;return this},fill:function(b){b&&b.fill();this.toStatic()},stroke:function(b){b&&b.stroke();this.toStatic()},setLineDash:function(b){if(b instanceof Array){this._lineDash=b;for(var c=this._dashIdx=0,a=0;a<b.length;a++)c+=b[a];this._dashSum=c}return this},setLineDashOffset:function(b){this._dashOffset=b;return this},len:function(){return this._len},setData:function(b){var c=b.length;this.data&&this.data.length==c||!t||(this.data=new Float32Array(c));for(var a=0;a<c;a++)this.data[a]=b[a];this._len=c},appendPath:function(b){b instanceof Array||(b=[b]);for(var c=b.length,a=0,g=this._len,d=0;d<c;d++)a+=b[d].len();t&&this.data instanceof Float32Array&&(this.data=new Float32Array(g+a));for(d=0;d<c;d++)for(var a=b[d].data,k=0;k<a.length;k++)this.data[g++]=a[k];this._len=g},addData:function(b){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var a=0;a<arguments.length;a++)c[this._len++]=arguments[a];this._prevCmd=b},_expandData:function(){if(!(this.data instanceof Array)){for(var b=[],c=0;c<this._len;c++)b[c]=this.data[c];this.data=b}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(b,c){var a=this._dashSum,d=this._dashOffset,k=this._lineDash,e=this._ctx,u=this._xi,f=this._yi,y=b-u,h=c-f,l=x(y*y+h*h),v=k.length,t,y=y/l,h=h/l;0>d&&(d=a+d);d%=a;a=u-d*y;for(d=f-d*h;0<y&&a<=b||0>y&&a>=b||0==y&&(0<h&&d<=c||0>h&&d>=c);)if(t=this._dashIdx,l=k[t],a+=y*l,d+=h*l,this._dashIdx=(t+1)%v,!(0<y&&a<u||0>y&&a>u||0<h&&d<f||0>h&&d>f))e[t%2?"moveTo":"lineTo"](0<=y?q(a,b):g(a,b),0<=h?q(d,c):g(d,c));y=a-b;h=d-c;this._dashOffset=-x(y*y+h*h)},_dashedBezierTo:function(b,c,a,g,d,k){var e=this._dashSum,q=this._dashOffset,u=this._lineDash,f=this._ctx,y=this._xi,h=this._yi,l,v,t=m.cubicAt,n=0,p=this._dashIdx,r=u.length,T,O,S=0;0>q&&(q=e+q);q%=e;for(e=0;1>e;e+=.1)l=t(y,b,a,d,e+.1)-t(y,b,a,d,e),v=t(h,c,g,k,e+.1)-t(h,c,g,k,e),n+=x(l*l+v*v);for(;p<r&&!(S+=u[p],S>q);p++);for(e=(S-q)/n;1>=e;)T=t(y,b,a,d,e),O=t(h,c,g,k,e),p%2?f.moveTo(T,O):f.lineTo(T,O),e+=u[p]/n,p=(p+1)%r;0!==p%2&&f.lineTo(d,k);l=d-T;v=k-O;this._dashOffset=-x(l*l+v*v)},_dashedQuadraticTo:function(b,c,a,g){var d=a,k=g;a=(a+2*b)/3;g=(g+2*c)/3;b=(this._xi+2*b)/3;c=(this._yi+2*c)/3;this._dashedBezierTo(b,c,a,g,d,k)},toStatic:function(){var b=this.data;b instanceof Array&&(b.length=this._len,t&&(this.data=new Float32Array(b)))},getBoundingRect:function(){d[0]=d[1]=b[0]=b[1]=Number.MAX_VALUE;c[0]=c[1]=k[0]=k[1]=-Number.MAX_VALUE;for(var a=this.data,g=0,q=0,f=0,v=0,x=0;x<a.length;){var t=a[x++];1==x&&(g=a[x],q=a[x+1],f=g,v=q);switch(t){case e.M:f=a[x++];v=a[x++];g=f;q=v;b[0]=f;b[1]=v;k[0]=f;k[1]=v;break;case e.L:l.fromLine(g,q,a[x],a[x+1],b,k);g=a[x++];q=a[x++];break;case e.C:l.fromCubic(g,q,a[x++],a[x++],a[x++],a[x++],a[x],a[x+1],b,k);g=a[x++];q=a[x++];break;case e.Q:l.fromQuadratic(g,q,a[x++],a[x++],a[x],a[x+1],b,k);g=a[x++];q=a[x++];break;case e.A:var g=a[x++],q=a[x++],m=a[x++],t=a[x++],p=a[x++],r=a[x++]+p;x++;var K=1-a[x++];1==x&&(f=u(p)*m+g,v=y(p)*t+q);l.fromArc(g,q,m,t,p,r,K,b,k);g=u(r)*m+g;q=y(r)*t+q;break;case e.R:f=g=a[x++];v=q=a[x++];t=a[x++];r=a[x++];l.fromLine(f,v,f+t,v+r,b,k);break;case e.Z:g=f,q=v}n.min(d,d,b);n.max(c,c,k)}0===x&&(d[0]=d[1]=c[0]=c[1]=0);return new h(d[0],d[1],c[0]-d[0],c[1]-d[1])},rebuildPath:function(b){for(var c=this.data,a,g,d,k,q,f,h=this._ux,l=this._uy,x=this._len,t=0;t<x;)switch(q=c[t++],1==t&&(d=c[t],k=c[t+1],a=d,g=k),q){case e.M:a=d=c[t++];g=k=c[t++];b.moveTo(d,k);break;case e.L:q=c[t++];f=c[t++];if(v(q-d)>h||v(f-k)>l||t===x-1)b.lineTo(q,f),d=q,k=f;break;case e.C:b.bezierCurveTo(c[t++],c[t++],c[t++],c[t++],c[t++],c[t++]);d=c[t-2];k=c[t-1];break;case e.Q:b.quadraticCurveTo(c[t++],c[t++],c[t++],c[t++]);d=c[t-2];k=c[t-1];break;case e.A:d=c[t++];k=c[t++];f=c[t++];q=c[t++];var n=c[t++],m=c[t++],p=c[t++],r=c[t++],P=f>q?f:q,R=f>q?1:f/q,T=f>q?q/f:1,m=n+m;.001<Math.abs(f-q)?(b.translate(d,k),b.rotate(p),b.scale(R,T),b.arc(0,0,P,n,m,1-r),b.scale(1/R,1/T),b.rotate(-p),b.translate(-d,-k)):b.arc(d,k,P,n,m,1-r);1==t&&(a=u(n)*f+d,g=y(n)*q+k);d=u(m)*f+d;k=y(m)*q+k;break;case e.R:a=d=c[t];g=k=c[t+1];b.rect(c[t++],c[t++],c[t++],c[t++]);break;case e.Z:b.closePath(),d=a,k=g}}};p.CMD=e;r.exports=p},function(r,p,a){function m(b,c,a,d,k){var e=1-k;return e*e*(e*b+3*k*c)+k*k*(k*d+3*e*a)}function n(b,c,a,d){var k=1-d;return k*(k*b+2*d*c)+d*d*a}p=a(10);a=p.create;var l=p.distSquare,h=Math.pow,f=Math.sqrt,e=f(3),d=1/3,c=a(),b=a(),k=a();r.exports={cubicAt:m,cubicDerivativeAt:function(b,c,a,d,k){var e=1-k;return 3*(((c-b)*e+2*(a-c)*k)*e+(d-a)*k*k)},cubicRootAt:function(b,c,a,k,l,v){k=k+3*(c-a)-b;a=3*(a-2*c+b);var t=3*(c-b),A=b-l;l=a*a-3*k*t;c=a*t-9*k*A;b=0;if(-1E-8<l&&1E-8>l&&-1E-8<c&&1E-8>c)-1E-8<a&&1E-8>a?v[0]=0:(l=-t/a,0<=l&&1>=l&&(v[b++]=l));else if(t=c*c-4*l*(t*t-3*a*A),-1E-8<t&&1E-8>t)c/=l,l=-a/k+c,c=-c/2,0<=l&&1>=l&&(v[b++]=l),0<=c&&1>=c&&(v[b++]=c);else if(0<t)A=f(t),t=l*a+1.5*k*(-c+A),l=l*a+1.5*k*(-c-A),t=0>t?-h(-t,d):h(t,d),l=0>l?-h(-l,d):h(l,d),l=(-a-(t+l))/(3*k),0<=l&&1>=l&&(v[b++]=l);else{c=(2*l*a-3*k*c)/(2*f(l*l*l));var t=Math.acos(c)/3,A=f(l),n=Math.cos(t);l=(-a-2*A*n)/(3*k);c=(-a+A*(n+e*Math.sin(t)))/(3*k);k=(-a+A*(n-e*Math.sin(t)))/(3*k);0<=l&&1>=l&&(v[b++]=l);0<=c&&1>=c&&(v[b++]=c);0<=k&&1>=k&&(v[b++]=k)}return b},cubicExtrema:function(b,c,a,d,k){var e=6*a-12*c+6*b;a=9*c+3*d-3*b-9*a;c=3*c-3*b;b=0;if(-1E-8<a&&1E-8>a){if(1E-8<e||-1E-8>e)c=-c/e,0<=c&&1>=c&&(k[b++]=c)}else c=e*e-4*a*c,-1E-8<c&&1E-8>c?k[0]=-e/(2*a):0<c&&(d=f(c),c=(-e+d)/(2*a),e=(-e-d)/(2*a),0<=c&&1>=c&&(k[b++]=c),0<=e&&1>=e&&(k[b++]=e));return b},cubicSubdivide:function(b,c,a,d,k,e){var f=(c-b)*k+b,h=(a-c)*k+c;a=(d-a)*k+a;c=(h-f)*k+f;h=(a-h)*k+h;k=(h-c)*k+c;e[0]=b;e[1]=f;e[2]=c;e[3]=k;e[4]=k;e[5]=h;e[6]=a;e[7]=d},cubicProjectPoint:function(a,g,d,e,h,v,t,A,n,w,C){var p,r=.005,J=Infinity,E;c[0]=n;c[1]=w;for(n=0;1>n;n+=.05)b[0]=m(a,d,h,t,n),b[1]=m(g,e,v,A,n),w=l(c,b),w<J&&(p=n,J=w);for(var J=Infinity,H=0;32>H&&!(1E-4>r);H++)E=p-r,n=p+r,b[0]=m(a,d,h,t,E),b[1]=m(g,e,v,A,E),w=l(b,c),0<=E&&w<J?(p=E,J=w):(k[0]=m(a,d,h,t,n),k[1]=m(g,e,v,A,n),w=l(k,c),1>=n&&w<J?(p=n,J=w):r*=.5);C&&(C[0]=m(a,d,h,t,p),C[1]=m(g,e,v,A,p));return f(J)},quadraticAt:n,quadraticDerivativeAt:function(b,c,a,d){return 2*((1-d)*(c-b)+d*(a-c))},quadraticRootAt:function(b,c,a,d,k){a=b-2*c+a;c=2*(c-b);d=b-d;b=0;if(-1E-8<a&&1E-8>a){if(1E-8<c||-1E-8>c)d=-d/c,0<=d&&1>=d&&(k[b++]=d)}else if(d=c*c-4*a*d,-1E-8<d&&1E-8>d)d=-c/(2*a),0<=d&&1>=d&&(k[b++]=d);else if(0<d){var e=f(d);d=(-c+e)/(2*a);a=(-c-e)/(2*a);0<=d&&1>=d&&(k[b++]=d);0<=a&&1>=a&&(k[b++]=a)}return b},quadraticExtremum:function(b,c,a){a=b+a-2*c;return 0===a?.5:(b-c)/a},quadraticSubdivide:function(b,c,a,d,k){var e=(c-b)*d+b;c=(a-c)*d+c;d=(c-e)*d+e;k[0]=b;k[1]=e;k[2]=d;k[3]=d;k[4]=c;k[5]=a},quadraticProjectPoint:function(a,g,d,e,h,v,t,A,m){var w,C=.005,p=Infinity;c[0]=t;c[1]=A;for(A=0;1>A;A+=.05)b[0]=n(a,d,h,A),b[1]=n(g,e,v,A),t=l(c,b),t<p&&(w=A,p=t);p=Infinity;for(A=0;32>A&&!(1E-4>C);A++){var r=w-C,J=w+C;b[0]=n(a,d,h,r);b[1]=n(g,e,v,r);t=l(b,c);0<=r&&t<p?(w=r,p=t):(k[0]=n(a,d,h,J),k[1]=n(g,e,v,J),t=l(k,c),1>=J&&t<p?(w=J,p=t):C*=.5)}m&&(m[0]=n(a,d,h,w),m[1]=n(g,e,v,w));return f(p)}}},function(r,p,a){var m=a(10),n=a(50);p={};var l=Math.min,h=Math.max,f=Math.sin,e=Math.cos,d=m.create(),c=m.create(),b=m.create(),k=2*Math.PI;p.fromPoints=function(b,c,a){if(0!==b.length){var g=b[0],d=g[0],k=g[0],e=g[1],q=g[1],f;for(f=1;f<b.length;f++)g=b[f],d=l(d,g[0]),k=h(k,g[0]),e=l(e,g[1]),q=h(q,g[1]);c[0]=d;c[1]=e;a[0]=k;a[1]=q}};p.fromLine=function(b,c,a,g,d,k){d[0]=l(b,a);d[1]=l(c,g);k[0]=h(b,a);k[1]=h(c,g)};var q=[],g=[];p.fromCubic=function(b,c,a,d,k,e,f,m,C,p){var r=n.cubicExtrema,J=n.cubicAt,E,H=r(b,a,k,f,q);C[0]=Infinity;C[1]=Infinity;p[0]=-Infinity;p[1]=-Infinity;for(E=0;E<H;E++){var F=J(b,a,k,f,q[E]);C[0]=l(F,C[0]);p[0]=h(F,p[0])}H=r(c,d,e,m,g);for(E=0;E<H;E++)a=J(c,d,e,m,g[E]),C[1]=l(a,C[1]),p[1]=h(a,p[1]);C[0]=l(b,C[0]);p[0]=h(b,p[0]);C[0]=l(f,C[0]);p[0]=h(f,p[0]);C[1]=l(c,C[1]);p[1]=h(c,p[1]);C[1]=l(m,C[1]);p[1]=h(m,p[1])};p.fromQuadratic=function(b,c,a,g,d,k,e,q){var f=n.quadraticExtremum,m=n.quadraticAt,p=h(l(f(b,a,d),1),0),f=h(l(f(c,g,k),1),0);a=m(b,a,d,p);g=m(c,g,k,f);e[0]=l(b,d,a);e[1]=l(c,k,g);q[0]=h(b,d,a);q[1]=h(c,k,g)};p.fromArc=function(a,g,q,h,l,n,z,w,C){var p=m.min,r=m.max,J=Math.abs(l-n);if(1E-4>J%k&&1E-4<J)w[0]=a-q,w[1]=g-h,C[0]=a+q,C[1]=g+h;else for(d[0]=e(l)*q+a,d[1]=f(l)*h+g,c[0]=e(n)*q+a,c[1]=f(n)*h+g,p(w,d,c),r(C,d,c),l%=k,0>l&&(l+=k),n%=k,0>n&&(n+=k),l>n&&!z?n+=k:l<n&&z&&(l+=k),z&&(z=n,n=l,l=z),z=0;z<n;z+=Math.PI/2)z>l&&(b[0]=e(z)*q+a,b[1]=f(z)*h+g,p(w,b,w),r(C,b,C))};r.exports=p},function(r,p,a){function m(a,y,x,v,t){for(var m=0,z=0,w=0,C=0,p=0,r=0;r<a.length;){var J=a[r++];J===n.M&&1<r&&(x||(m+=c(z,w,C,p,v,t)));1==r&&(z=a[r],w=a[r+1],C=z,p=w);switch(J){case n.M:C=a[r++];p=a[r++];z=C;w=p;break;case n.L:if(x){if(b(z,w,a[r],a[r+1],y,v,t))return!0}else m+=c(z,w,a[r],a[r+1],v,t)||0;z=a[r++];w=a[r++];break;case n.C:if(x){if(l.containStroke(z,w,a[r++],a[r++],a[r++],a[r++],a[r],a[r+1],y,v,t))return!0}else{var J=m,E;E=z;var H=w,F=a[r++],K=a[r++],M=a[r++],w=a[r++],z=a[r],m=a[r+1],L=v;if(t>H&&t>K&&t>w&&t>m||t<H&&t<K&&t<w&&t<m)E=0;else{var I=d.cubicRootAt(H,K,w,m,t,q);if(0===I)E=0;else{for(var G=0,N=-1,P=void 0,R=void 0,T=0;T<I;T++){var O=q[T],S=0===O||1===O?.5:1;d.cubicAt(E,F,M,z,O)<L||(0>N&&(N=d.cubicExtrema(H,K,w,m,g),g[1]<g[0]&&1<N&&(P=g[0],g[0]=g[1],g[1]=P),P=d.cubicAt(H,K,w,m,g[0]),1<N&&(R=d.cubicAt(H,K,w,m,g[1]))),G=2==N?O<g[0]?G+(P<H?S:-S):O<g[1]?G+(R<P?S:-S):G+(m<R?S:-S):O<g[0]?G+(P<H?S:-S):G+(m<P?S:-S))}E=G}}m=J+(E||0)}z=a[r++];w=a[r++];break;case n.Q:if(x){if(h.containStroke(z,w,a[r++],a[r++],a[r],a[r+1],y,v,t))return!0}else{J=m;E=z;H=w;F=a[r++];I=a[r++];K=a[r];M=a[r+1];w=v;if(t>H&&t>I&&t>M||t<H&&t<I&&t<M)E=0;else if(z=d.quadraticRootAt(H,I,M,t,q),0===z)E=0;else if(m=d.quadraticExtremum(H,I,M),0<=m&&1>=m){L=0;I=d.quadraticAt(H,I,M,m);for(G=0;G<z;G++)N=0===q[G]||1===q[G]?.5:1,R=d.quadraticAt(E,F,K,q[G]),R<w||(L=q[G]<m?L+(I<H?N:-N):L+(M<I?N:-N));E=L}else N=0===q[0]||1===q[0]?.5:1,R=d.quadraticAt(E,F,K,q[0]),E=R<w?0:M<H?N:-N;m=J+(E||0)}z=a[r++];w=a[r++];break;case n.A:J=a[r++];E=a[r++];H=a[r++];F=a[r++];K=a[r++];M=a[r++];r++;I=1-a[r++];L=Math.cos(K)*H+J;G=Math.sin(K)*F+E;1<r?m+=c(z,w,L,G,v,t):(C=L,p=G);G=(v-J)*F/H+J;if(x){if(f.containStroke(J,E,F,K,K+M,I,y,G,t))return!0}else{w=m;z=J;m=K;L=K+M;N=t;N-=E;if(N>F||N<-F)z=0;else if(R=Math.sqrt(F*F-N*N),q[0]=-R,q[1]=R,R=Math.abs(m-L),1E-4>R)z=0;else if(1E-4>R%k)z=G>=q[0]+z&&G<=q[1]+z?I?1:-1:0;else{I?(R=m,m=e(L),L=e(R)):(m=e(m),L=e(L));m>L&&(L+=k);for(T=R=0;2>T;T++)if(O=q[T],O+z>G&&(S=Math.atan2(N,O),O=I?1:-1,0>S&&(S=k+S),S>=m&&S<=L||S+k>=m&&S+k<=L))S>Math.PI/2&&S<1.5*Math.PI&&(O=-O),R+=O;z=R}m=w+z}z=Math.cos(K+M)*H+J;w=Math.sin(K+M)*F+E;break;case n.R:C=z=a[r++];p=w=a[r++];E=a[r++];J=a[r++];L=C+E;G=p+J;if(x){if(b(C,p,L,p,y,v,t)||b(L,p,L,G,y,v,t)||b(L,G,C,G,y,v,t)||b(C,G,C,p,y,v,t))return!0}else m+=c(L,p,L,G,v,t),m+=c(C,G,C,p,v,t);break;case n.Z:if(x){if(b(z,w,C,p,y,v,t))return!0}else m+=c(z,w,C,p,v,t);z=C;w=p}}x||1E-4>Math.abs(w-p)||(m+=c(z,w,C,p,v,t)||0);return 0!==m}var n=a(49).CMD;p=a(53);var l=a(54),h=a(55),f=a(56),e=a(57).normalizeRadian,d=a(50),c=a(58),b=p.containStroke,k=2*Math.PI,q=[-1,-1,-1],g=[-1,-1];r.exports={contain:function(b,c,a){return m(b,0,!1,c,a)},containStroke:function(b,c,a,g){return m(b,c,!0,a,g)}}},function(r,p){r.exports={containStroke:function(a,m,n,l,h,f,e){if(0===h)return!1;var d;if(e>m+h&&e>l+h||e<m-h&&e<l-h||f>a+h&&f>n+h||f<a-h&&f<n-h)return!1;if(a!==n)d=(m-l)/(a-n);else return Math.abs(f-a)<=h/2;a=d*f-e+(a*l-n*m)/(a-n);return a*a/(d*d+1)<=h/2*h/2}}},function(r,p,a){var m=a(50);r.exports={containStroke:function(a,l,h,f,e,d,c,b,k,q,g){return 0===k||g>l+k&&g>f+k&&g>d+k&&g>b+k||g<l-k&&g<f-k&&g<d-k&&g<b-k||q>a+k&&q>h+k&&q>e+k&&q>c+k||q<a-k&&q<h-k&&q<e-k&&q<c-k?!1:m.cubicProjectPoint(a,l,h,f,e,d,c,b,q,g,null)<=k/2}}},function(r,p,a){var m=a(50);r.exports={containStroke:function(a,l,h,f,e,d,c,b,k){return 0===c||k>l+c&&k>f+c&&k>d+c||k<l-c&&k<f-c&&k<d-c||b>a+c&&b>h+c&&b>e+c||b<a-c&&b<h-c&&b<e-c?!1:m.quadraticProjectPoint(a,l,h,f,e,d,b,k,null)<=c/2}}},function(r,p,a){var m=a(57).normalizeRadian,n=2*Math.PI;r.exports={containStroke:function(a,h,f,e,d,c,b,k,q){if(0===b)return!1;k-=a;q-=h;a=Math.sqrt(k*k+q*q);if(a-b>f||a+b<f)return!1;if(1E-4>Math.abs(e-d)%n)return!0;c?(f=e,e=m(d),d=m(f)):(e=m(e),d=m(d));e>d&&(d+=n);k=Math.atan2(q,k);0>k&&(k+=n);return k>=e&&k<=d||k+n>=e&&k+n<=d}}},function(r,p){var a=2*Math.PI;r.exports={normalizeRadian:function(m){m%=a;0>m&&(m+=a);return m}}},function(r,p){r.exports=function(a,m,n,l,h,f){if(f>m&&f>l||f<m&&f<l||l===m)return 0;var e=l<m?1:-1;f=(f-m)/(l-m);if(1===f||0===f)e=l<m?.5:-.5;return f*(n-a)+a>h?e:0}},function(r,p){var a=function(a,n){this.image=a;this.repeat=n;this.type="pattern"};a.prototype.getCanvasPattern=function(a){return this._canvasPattern||(this._canvasPattern=a.createPattern(this.image,this.repeat))};r.exports=a},function(r,p,a){var m=a(49).CMD,n=a(10).applyTransform,l=[[],[],[]],h=Math.sqrt,f=Math.atan2;r.exports=function(a,d){var c=a.data,b,k,q,g,u,y=m.M,x=m.C,v=m.L,t=m.R,A=m.A,z=m.Q;for(q=0;q<c.length;){b=c[q++];g=q;k=0;switch(b){case y:k=1;break;case v:k=1;break;case x:k=3;break;case z:k=2;break;case A:g=d[4];b=d[5];var w=h(d[0]*d[0]+d[1]*d[1]),p=h(d[2]*d[2]+d[3]*d[3]),r=f(-d[1]/p,d[0]/w);c[q++]+=g;c[q++]+=b;c[q++]*=w;c[q++]*=p;c[q++]+=r;c[q++]+=r;g=q+=2;break;case t:u[0]=c[q++],u[1]=c[q++],n(u,u,d),c[g++]=u[0],c[g++]=u[1],u[0]+=c[q++],u[1]+=c[q++],n(u,u,d),c[g++]=u[0],c[g++]=u[1]}for(b=0;b<k;b++)u=l[b],u[0]=c[q++],u[1]=c[q++],n(u,u,d),c[g++]=u[0],c[g++]=u[1]}}},function(r,p){var a=function(a){this.colorStops=a||[]};a.prototype={constructor:a,addColorStop:function(a,n){this.colorStops.push({offset:a,color:n})}};r.exports=a},function(r,p,a){function m(a){n.call(this,a)}var n=a(46),l=a(9);p=a(4);var h=new (a(63))(50);m.prototype={constructor:m,type:"image",brush:function(a,e){var d=this.style,c=d.image,b;d.bind(a,this,e);b="string"===typeof c?this._image:c;if(!b&&c){var k=h.get(c);if(k){if(this._image=b=k.image,!b.width||!b.height){k.pending.push(this);return}}else{b=new Image;b.onload=function(){b.onload=null;for(var c=0;c<k.pending.length;c++)k.pending[c].dirty()};k={image:b,pending:[this]};b.src=c;h.put(c,k);this._image=b;return}}if(b){var c=d.width||b.width,q=d.height||b.height,g=d.x||0,u=d.y||0;if(b.width&&b.height){this.setTransform(a);if(d.sWidth&&d.sHeight){var l=d.sx||0,x=d.sy||0;a.drawImage(b,l,x,d.sWidth,d.sHeight,g,u,c,q)}else d.sx&&d.sy?(l=d.sx,x=d.sy,a.drawImage(b,l,x,c-l,q-x,g,u,c,q)):a.drawImage(b,g,u,c,q);null==d.width&&(d.width=c);null==d.height&&(d.height=q);this.restoreTransform(a);null!=d.text&&this.drawRectText(a,this.getBoundingRect())}}},getBoundingRect:function(){var a=this.style;this._rect||(this._rect=new l(a.x||0,a.y||0,a.width||0,a.height||0));return this._rect}};p.inherits(m,n);r.exports=m},function(r,p){var a=function(){this.tail=this.head=null;this._len=0},m=a.prototype;m.insert=function(a){a=new n(a);this.insertEntry(a);return a};m.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,this.tail=a):this.head=this.tail=a;this._len++};m.remove=function(a){var f=a.prev,e=a.next;f?f.next=e:this.head=e;e?e.prev=f:this.tail=f;a.next=a.prev=null;this._len--};m.len=function(){return this._len};var n=function(a){this.value=a},m=function(h){this._list=new a;this._map={};this._maxSize=h||10},l=m.prototype;l.put=function(a,f){var e=this._list,d=this._map;if(null==d[a]){var c=e.len();c>=this._maxSize&&0<c&&(c=e.head,e.remove(c),delete d[c.key]);e=e.insert(f);e.key=a;d[a]=e}};l.get=function(a){a=this._map[a];var f=this._list;if(null!=a)return a!==f.tail&&(f.remove(a),f.insertEntry(a)),a.value};l.clear=function(){this._list.clear();this._map={}};r.exports=m},function(r,p,a){var m=a(46);p=a(4);var n=a(8);a=function(a){m.call(this,a)};a.prototype={constructor:a,type:"text",brush:function(a,h){var f=this.style,e=f.x||0,d=f.y||0,c=f.text;null!=c&&(c+="");f.bind(a,this,h);if(c){this.setTransform(a);var b,k=f.textAlign,q=f.textFont||f.font;if(f.textVerticalAlign){var g=n.getBoundingRect(c,q,f.textAlign,"top");b="middle";switch(f.textVerticalAlign){case "middle":d-=g.height/2-g.lineHeight/2;break;case "bottom":d-=g.height-g.lineHeight/2;break;default:d+=g.lineHeight/2}}else b=f.textBaseline;a.font=q||"12px sans-serif";a.textAlign=k||"left";a.textAlign!==k&&(a.textAlign="left");a.textBaseline=b||"alphabetic";a.textBaseline!==b&&(a.textBaseline="alphabetic");b=n.measureText("\u56fd",a.font).width;c=c.split("\n");for(k=0;k<c.length;k++)f.hasFill()&&a.fillText(c[k],e,d),f.hasStroke()&&a.strokeText(c[k],e,d),d+=b;this.restoreTransform(a)}},getBoundingRect:function(){if(!this._rect){var a=this.style,h=a.textVerticalAlign,f=n.getBoundingRect(a.text+"",a.textFont||a.font,a.textAlign,h?"top":a.textBaseline);switch(h){case "middle":f.y-=f.height/2;break;case "bottom":f.y-=f.height}f.x+=a.x||0;f.y+=a.y||0;this._rect=f}return this._rect}};p.inherits(a,m);r.exports=a},function(r,p,a){r.exports=a(45).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,n,l){l&&a.moveTo(n.cx+n.r,n.cy);a.arc(n.cx,n.cy,n.r,0,2*Math.PI,!0)}})},function(r,p,a){r.exports=a(45).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(a,n){var l=n.cx,h=n.cy,f=Math.max(n.r0||0,0),e=Math.max(n.r,0),d=n.startAngle,c=n.endAngle,b=n.clockwise,k=Math.cos(d),q=Math.sin(d);a.moveTo(k*f+l,q*f+h);a.lineTo(k*e+l,q*e+h);a.arc(l,h,e,d,c,!b);a.lineTo(Math.cos(c)*f+l,Math.sin(c)*f+h);0!==f&&a.arc(l,h,f,c,d,b);a.closePath()}})},function(r,p,a){r.exports=a(45).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,n){var l=n.cx,h=n.cy,f=2*Math.PI;a.moveTo(l+n.r,h);a.arc(l,h,n.r,0,f,!1);a.moveTo(l+n.r0,h);a.arc(l,h,n.r0,0,f,!0)}})},function(r,p,a){var m=a(69);r.exports=a(45).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,l){m.buildPath(a,l,!0)}})},function(r,p,a){var m=a(70),n=a(71);r.exports={buildPath:function(a,h,f){var e=h.points,d=h.smooth;if(e&&2<=e.length){if(d&&"spline"!==d){d=n(e,d,f,h.smoothConstraint);a.moveTo(e[0][0],e[0][1]);var c=e.length;for(h=0;h<(f?c:c-1);h++){var b=d[2*h],k=d[2*h+1],q=e[(h+1)%c];a.bezierCurveTo(b[0],b[1],k[0],k[1],q[0],q[1])}}else for("spline"===d&&(e=m(e,f)),a.moveTo(e[0][0],e[0][1]),h=1,d=e.length;h<d;h++)a.lineTo(e[h][0],e[h][1]);f&&a.closePath()}}}},function(r,p,a){function m(a,h,f,e,d,c,b){a=.5*(f-a);e=.5*(e-h);return(2*(h-f)+a+e)*b+(-3*(h-f)-2*a-e)*c+a*d+h}var n=a(10);r.exports=function(a,h){for(var f=a.length,e=[],d=0,c=1;c<f;c++)d+=n.distance(a[c-1],a[c]);d/=2;d=d<f?f:d;for(c=0;c<d;c++){var b=c/(d-1)*(h?f:f-1),k=Math.floor(b),b=b-k,q,g=a[k%f],u;h?(q=a[(k-1+f)%f],u=a[(k+1)%f],k=a[(k+2)%f]):(q=a[0===k?k:k-1],u=a[k>f-2?f-1:k+1],k=a[k>f-3?f-1:k+2]);var y=b*b,x=b*y;e.push([m(q[0],g[0],u[0],k[0],b,y,x),m(q[1],g[1],u[1],k[1],b,y,x)])}return e}},function(r,p,a){var m=a(10),n=m.min,l=m.max,h=m.scale,f=m.distance,e=m.add;r.exports=function(a,c,b,k){var q=[],g=[],u=[],y=[],x,v,t,A;if(k){t=[Infinity,Infinity];A=[-Infinity,-Infinity];for(var z=0,w=a.length;z<w;z++)n(t,t,a[z]),l(A,A,a[z]);n(t,t,k[0]);l(A,A,k[1])}z=0;for(w=a.length;z<w;z++){var p=a[z];if(b)x=a[z?z-1:w-1],v=a[(z+1)%w];else if(0===z||z===w-1){q.push(m.clone(a[z]));continue}else x=a[z-1],v=a[z+1];m.sub(g,v,x);h(g,g,c);x=f(p,x);v=f(p,v);var r=x+v;0!==r&&(x/=r,v/=r);h(u,g,-x);h(y,g,v);x=e([],p,u);p=e([],p,y);k&&(l(x,x,t),n(x,x,A),l(p,p,t),n(p,p,A));q.push(x);q.push(p)}b&&q.push(q.shift());return q}},function(r,p,a){var m=a(69);r.exports=a(45).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,l){m.buildPath(a,l,!1)}})},function(r,p,a){var m=a(74);r.exports=a(45).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,l){var h=l.x,f=l.y,e=l.width,d=l.height;l.r?m.buildPath(a,l):a.rect(h,f,e,d);a.closePath()}})},function(r,p){r.exports={buildPath:function(a,m){var n=m.x,l=m.y,h=m.width,f=m.height,e=m.r,d,c,b,k;0>h&&(n+=h,h=-h);0>f&&(l+=f,f=-f);"number"===typeof e?d=c=b=k=e:e instanceof Array?1===e.length?d=c=b=k=e[0]:2===e.length?(d=b=e[0],c=k=e[1]):3===e.length?(d=e[0],c=k=e[1],b=e[2]):(d=e[0],c=e[1],b=e[2],k=e[3]):d=c=b=k=0;d+c>h&&(e=d+c,d*=h/e,c*=h/e);b+k>h&&(e=b+k,b*=h/e,k*=h/e);c+b>f&&(e=c+b,c*=f/e,b*=f/e);d+k>f&&(e=d+k,d*=f/e,k*=f/e);a.moveTo(n+d,l);a.lineTo(n+h-c,l);0!==c&&a.quadraticCurveTo(n+h,l,n+h,l+c);a.lineTo(n+h,l+f-b);0!==b&&a.quadraticCurveTo(n+h,l+f,n+h-b,l+f);a.lineTo(n+k,l+f);0!==k&&a.quadraticCurveTo(n,l+f,n,l+f-k);a.lineTo(n,l+d);0!==d&&a.quadraticCurveTo(n,l,n+d,l)}}},function(r,p,a){r.exports=a(45).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,n){var l=n.x1,h=n.y1,f=n.x2,e=n.y2,d=n.percent;0!==d&&(a.moveTo(l,h),1>d&&(f=l*(1-d)+f*d,e=h*(1-d)+e*d),a.lineTo(f,e))},pointAt:function(a){var n=this.shape;return[n.x1*(1-a)+n.x2*a,n.y1*(1-a)+n.y2*a]}})},function(r,p,a){function m(b,a,g){var u=b.cpy2;return null===b.cpx2||null===u?[(g?c:e)(b.x1,b.cpx1,b.cpx2,b.x2,a),(g?c:e)(b.y1,b.cpy1,b.cpy2,b.y2,a)]:[(g?d:f)(b.x1,b.cpx1,b.x2,a),(g?d:f)(b.y1,b.cpy1,b.y2,a)]}p=a(50);var n=a(10),l=p.quadraticSubdivide,h=p.cubicSubdivide,f=p.quadraticAt,e=p.cubicAt,d=p.quadraticDerivativeAt,c=p.cubicDerivativeAt,b=[];r.exports=a(45).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(c,a){var g=a.x1,d=a.y1,e=a.x2,f=a.y2,v=a.cpx1,t=a.cpy1,m=a.cpx2,n=a.cpy2,w=a.percent;0!==w&&(c.moveTo(g,d),null==m||null==n?(1>w&&(l(g,v,e,w,b),v=b[1],e=b[2],l(d,t,f,w,b),t=b[1],f=b[2]),c.quadraticCurveTo(v,t,e,f)):(1>w&&(h(g,v,m,e,w,b),v=b[1],m=b[2],e=b[3],h(d,t,n,f,w,b),t=b[1],n=b[2],f=b[3]),c.bezierCurveTo(v,t,m,n,e,f)))},pointAt:function(b){return m(this.shape,b,!1)},tangentAt:function(b){b=m(this.shape,b,!0);return n.normalize(b,b)}})},function(r,p,a){r.exports=a(45).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,n){var l=n.cx,h=n.cy,f=Math.max(n.r,0),e=n.startAngle,d=n.endAngle,c=n.clockwise;a.moveTo(Math.cos(e)*f+l,Math.sin(e)*f+h);a.arc(l,h,f,e,d,!c)}})},function(r,p,a){var m=a(45);r.exports=m.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,l=this.shape.paths,h=0;h<l.length;h++)a=a||l[h].__dirtyPath;this.__dirtyPath=a;this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],l=this.getGlobalScale(),h=0;h<a.length;h++)a[h].path.setScale(l[0],l[1])},buildPath:function(a,l){for(var h=l.paths||[],f=0;f<h.length;f++)h[f].buildPath(a,h[f].shape,!0)},afterBrush:function(){for(var a=this.shape.paths,l=0;l<a.length;l++)a[l].__dirtyPath=!1},getBoundingRect:function(){this._updatePathDirty();return m.prototype.getBoundingRect.call(this)}})},function(r,p,a){p=a(4);var m=a(61);a=function(a,l,h,f,e,d){this.x=null==a?0:a;this.y=null==l?0:l;this.x2=null==h?1:h;this.y2=null==f?0:f;this.type="linear";this.global=d||!1;m.call(this,e)};a.prototype={constructor:a};p.inherits(a,m);r.exports=a},function(r,p,a){p=a(4);var m=a(61);a=function(a,l,h,f,e){this.x=null==a?.5:a;this.y=null==l?.5:l;this.r=null==h?.5:h;this.type="radial";this.global=e||!1;m.call(this,f)};a.prototype={constructor:a};p.inherits(a,m);r.exports=a},function(r,p,a){var m=a(32),n=a(2),l=a(82),h=a(84),f=a(86),e=a(89),d=!n.canvasSupported,c={canvas:a(91)},b={},k={version:"3.1.3",init:function(c,a){var d=new q(m(),c,a);return b[d.id]=d},dispose:function(c){if(c)c.dispose();else{for(var a in b)b[a].dispose();b={}}return k},getInstance:function(c){return b[c]},registerPainter:function(b,a){c[b]=a}},q=function(b,a,k){k=k||{};this.dom=a;this.id=b;var q=this,v=new h;b=k.renderer;if(d){if(!c.vml)throw Error("You need to require 'zrender/vml/vml' to support IE8");b="vml"}else b&&c[b]||(b="canvas");a=new c[b](a,v,k);this.storage=v;this.painter=a;k=n.node?null:new e(a.getViewportRoot());this.handler=new l(v,a,k);this.animation=new f({stage:{update:function(){q._needsRefresh&&q.refreshImmediately();q._needsRefreshHover&&q.refreshHoverImmediately()}}});this.animation.start();var t=v.delFromMap,m=v.addToMap;v.delFromMap=function(b){var c=v.get(b);t.call(v,b);c&&c.removeSelfFromZr(q)};v.addToMap=function(b){m.call(v,b);b.addSelfToZr(q)}};q.prototype={constructor:q,getId:function(){return this.id},add:function(b){this.storage.addRoot(b);this._needsRefresh=!0},remove:function(b){this.storage.delRoot(b);this._needsRefresh=!0},configLayer:function(b,c){this.painter.configLayer(b,c);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},addHover:function(b,c){this.painter.addHover&&(this.painter.addHover(b,c),this.refreshHover())},removeHover:function(b){this.painter.removeHover&&(this.painter.removeHover(b),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(){this.painter.resize();this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(b,c,a){var d=m();return this.painter.pathToImage(d,b,c,a)},setCursorStyle:function(b){this.handler.setCursorStyle(b)},on:function(b,c,a){this.handler.on(b,c,a)},off:function(b,c){this.handler.off(b,c)},trigger:function(b,c){this.handler.trigger(b,c)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;delete b[this.id]}};r.exports=k},function(r,p,a){function m(){}var n=a(4),l=a(83),h=a(33);m.prototype.dispose=function(){};var f="click dblclick mousewheel mouseout mouseup mousedown mousemove".split(" "),e=function(a,c,b){h.call(this);this.storage=a;this.painter=c;this.proxy=b=b||new m;b.handler=this;l.call(this);n.each(f,function(c){b.on&&b.on(c,this[c],this)},this)};e.prototype={constructor:e,mousemove:function(a){var c=this.findHover(a.zrX,a.zrY,null),b=this._hovered,k=this.proxy;this._hovered=c;k.setCursor&&k.setCursor(c?c.cursor:"default");b&&c!==b&&b.__zr&&this.dispatchToElement(b,"mouseout",a);this.dispatchToElement(c,"mousemove",a);c&&c!==b&&this.dispatchToElement(c,"mouseover",a)},mouseout:function(a){this.dispatchToElement(this._hovered,"mouseout",a);this.trigger("globalout",{event:a})},resize:function(a){this._hovered=null},dispatch:function(a,c){var b=this[a];b&&b.call(this,c)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var c=this.proxy;c.setCursor&&c.setCursor(a)},dispatchToElement:function(a,c,b){for(var k="on"+c,e={type:c,event:b,target:a,cancelBubble:!1,offsetX:b.zrX,offsetY:b.zrY,gestureEvent:b.gestureEvent,pinchX:b.pinchX,pinchY:b.pinchY,pinchScale:b.pinchScale,wheelDelta:b.zrDelta};a&&(a[k]&&(e.cancelBubble=a[k].call(a,e)),a.trigger(c,e),a=a.parent,!e.cancelBubble););e.cancelBubble||(this.trigger(c,e),this.painter&&this.painter.eachOtherLayer(function(b){"function"==typeof b[k]&&b[k].call(b,e);b.trigger&&b.trigger(c,e)}))},findHover:function(a,c,b){for(var k=this.storage.getDisplayList(),e=k.length-1;0<=e;e--){var g;if(g=!k[e].silent&&k[e]!==b&&!k[e].ignore)a:{var f=k[e];g=a;var h=c;if(f[f.rectHover?"rectContain":"contain"](g,h)){for(;f;){if(f.silent||f.clipPath&&!f.clipPath.contain(g,h)){g=!1;break a}f=f.parent}g=!0}else g=!1}if(g)return k[e]}}};n.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(a){e.prototype[a]=function(c){var b=this.findHover(c.zrX,c.zrY,null);if("mousedown"===a)this._upel=this._downel=b;else if("mosueup"===a)this._upel=b;else if("click"===a&&this._downel!==this._upel)return;this.dispatchToElement(b,a,c)}});n.mixin(e,h);n.mixin(e,l);r.exports=e},function(r,p){function a(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}a.prototype={constructor:a,_dragStart:function(a){var n=a.target;n&&n.draggable&&(this._draggingTarget=n,n.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(n,"dragstart",a.event))},_drag:function(a){var n=this._draggingTarget;if(n){var l=a.offsetX,h=a.offsetY,f=l-this._x,e=h-this._y;this._x=l;this._y=h;n.drift(f,e,a);this.dispatchToElement(n,"drag",a.event);l=this.findHover(l,h,n);h=this._dropTarget;this._dropTarget=l;n!==l&&(h&&l!==h&&this.dispatchToElement(h,"dragleave",a.event),l&&l!==h&&this.dispatchToElement(l,"dragenter",a.event))}},_dragEnd:function(a){var n=this._draggingTarget;n&&(n.dragging=!1);this.dispatchToElement(n,"dragend",a.event);this._dropTarget&&this.dispatchToElement(this._dropTarget,"drop",a.event);this._dropTarget=this._draggingTarget=null}};r.exports=a},function(r,p,a){function m(a,d){return a.zlevel===d.zlevel?a.z===d.z?a.z2-d.z2:a.z-d.z:a.zlevel-d.zlevel}var n=a(4),l=a(2),h=a(30),f=a(85);p=function(){this._elements={};this._roots=[];this._displayList=[];this._displayListLen=0};p.prototype={constructor:p,traverse:function(a,d){for(var c=0;c<this._roots.length;c++)this._roots[c].traverse(a,d)},getDisplayList:function(a,d){a&&this.updateDisplayList(d||!1);return this._displayList},updateDisplayList:function(a){this._displayListLen=0;for(var d=this._roots,c=this._displayList,b=0,k=d.length;b<k;b++)this._updateAndAddDisplayable(d[b],null,a);c.length=this._displayListLen;l.canvasSupported&&f(c,m)},_updateAndAddDisplayable:function(a,d,c){if(!a.ignore||c){a.beforeUpdate();a.__dirty&&a.update();a.afterUpdate();var b=a.clipPath;b&&(b.parent=a,b.updateTransform(),d?(d=d.slice(),d.push(b)):d=[b]);if(a.isGroup){for(var b=a._children,k=0;k<b.length;k++){var q=b[k];a.__dirty&&(q.__dirty=!0);this._updateAndAddDisplayable(q,d,c)}a.__dirty=!1}else a.__clipPaths=d,this._displayList[this._displayListLen++]=a}},addRoot:function(a){this._elements[a.id]||(a instanceof h&&a.addChildrenToStorage(this),this.addToMap(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(var d=0;d<this._roots.length;d++)a=this._roots[d],a instanceof h&&a.delChildrenFromStorage(this);this._elements={};this._roots=[];this._displayList=[];this._displayListLen=0}else if(a instanceof Array)for(var d=0,c=a.length;d<c;d++)this.delRoot(a[d]);else d="string"==typeof a?this._elements[a]:a,a=n.indexOf(this._roots,d),0<=a&&(this.delFromMap(d.id),this._roots.splice(a,1),d instanceof h&&d.delChildrenFromStorage(this))},addToMap:function(a){a instanceof h&&(a.__storage=this);a.dirty(!1);this._elements[a.id]=a;return this},get:function(a){return this._elements[a]},delFromMap:function(a){var d=this._elements,c=d[a];c&&(delete d[a],c instanceof h&&(c.__storage=null));return this},dispose:function(){this._elements=this._renderList=this._roots=null},displayableSortFunc:m};r.exports=p},function(r,p){function a(a,e,d,c){var b=e+1;if(b===d)return 1;if(0>c(a[b++],a[e])){for(;b<d&&0>c(a[b],a[b-1]);)b++;d=e;c=b;for(c--;d<c;){var k=a[d];a[d++]=a[c];a[c--]=k}}else for(;b<d&&0<=c(a[b],a[b-1]);)b++;return b-e}function m(a,e,d,c,b){for(c===e&&c++;c<d;c++){for(var k=a[c],q=e,g=c,u;q<g;)u=q+g>>>1,0>b(k,a[u])?g=u:q=u+1;g=c-q;switch(g){case 3:a[q+3]=a[q+2];case 2:a[q+2]=a[q+1];case 1:a[q+1]=a[q];break;default:for(;0<g;)a[q+g]=a[q+g-1],g--}a[q]=k}}function n(a,e,d,c,b,k){var q=0,g=1;if(0<k(a,e[d+b])){for(c-=b;g<c&&0<k(a,e[d+b+g]);)q=g,g=(g<<1)+1,0>=g&&(g=c);g>c&&(g=c);q+=b;g+=b}else{for(c=b+1;g<c&&0>=k(a,e[d+b-g]);)q=g,g=(g<<1)+1,0>=g&&(g=c);g>c&&(g=c);c=q;q=b-g;g=b-c}for(q++;q<g;)b=q+(g-q>>>1),0<k(a,e[d+b])?q=b+1:g=b;return g}function l(a,e,d,c,b,k){var q=0,g=1;if(0>k(a,e[d+b])){for(c=b+1;g<c&&0>k(a,e[d+b-g]);)q=g,g=(g<<1)+1,0>=g&&(g=c);g>c&&(g=c);c=q;q=b-g;g=b-c}else{for(c-=b;g<c&&0<=k(a,e[d+b+g]);)q=g,g=(g<<1)+1,0>=g&&(g=c);g>c&&(g=c);q+=b;g+=b}for(q++;q<g;)b=q+(g-q>>>1),0>k(a,e[d+b])?g=b:q=b+1;return g}function h(a,e){function d(d){var h=b[d],x=k[d],v=b[d+1],t=k[d+1];k[d]=x+t;d===q-3&&(b[d+1]=b[d+2],k[d+1]=k[d+2]);q--;d=l(a[v],a,h,x,0,e);h+=d;x-=d;if(0!==x&&(t=n(a[h+x-1],a,v,t,t-1,e),0!==t))if(x<=t){for(var m=h,h=x,x=t,t=0;t<h;t++)g[t]=a[m+t];d=0;a[m++]=a[v++];if(0===--x)for(t=0;t<h;t++)a[m+t]=g[d+t];else if(1===h){for(t=0;t<x;t++)a[m+t]=a[v+t];a[m+x]=g[d]}else{for(var z=c,w,p,r;;){p=w=0;r=!1;do if(0>e(a[v],g[d])){if(a[m++]=a[v++],p++,w=0,0===--x){r=!0;break}}else if(a[m++]=g[d++],w++,p=0,1===--h){r=!0;break}while((w|p)<z);if(r)break;do{w=l(a[v],g,d,h,0,e);if(0!==w){for(t=0;t<w;t++)a[m+t]=g[d+t];m+=w;d+=w;h-=w;if(1>=h){r=!0;break}}a[m++]=a[v++];if(0===--x){r=!0;break}p=n(g[d],a,v,x,0,e);if(0!==p){for(t=0;t<p;t++)a[m+t]=a[v+t];m+=p;v+=p;x-=p;if(0===x){r=!0;break}}a[m++]=g[d++];if(1===--h){r=!0;break}z--}while(7<=w||7<=p);if(r)break;0>z&&(z=0);z+=2}c=z;1>c&&(c=1);if(1===h){for(t=0;t<x;t++)a[m+t]=a[v+t];a[m+x]=g[d]}else{if(0===h)throw Error();for(t=0;t<h;t++)a[m+t]=g[d+t]}}}else{for(d=0;d<t;d++)g[d]=a[v+d];m=h+x-1;z=t-1;v=v+t-1;a[v--]=a[m--];if(0===--x)for(w=v-(t-1),d=0;d<t;d++)a[w+d]=g[d];else if(1===t){v-=x;p=v+1;w=m-x+1;for(d=x-1;0<=d;d--)a[p+d]=a[w+d];a[v]=g[z]}else{for(r=c;;){var D=0,J=0,E=!1;do if(0>e(g[z],a[m])){if(a[v--]=a[m--],D++,J=0,0===--x){E=!0;break}}else if(a[v--]=g[z--],J++,D=0,1===--t){E=!0;break}while((D|J)<r);if(E)break;do{D=x-l(g[z],a,h,x,x-1,e);if(0!==D){v-=D;m-=D;x-=D;p=v+1;w=m+1;for(d=D-1;0<=d;d--)a[p+d]=a[w+d];if(0===x){E=!0;break}}a[v--]=g[z--];if(1===--t){E=!0;break}J=t-n(a[m],g,0,t,t-1,e);if(0!==J){v-=J;z-=J;t-=J;p=v+1;w=z+1;for(d=0;d<J;d++)a[p+d]=g[w+d];if(1>=t){E=!0;break}}a[v--]=a[m--];if(0===--x){E=!0;break}r--}while(7<=D||7<=J);if(E)break;0>r&&(r=0);r+=2}c=r;1>c&&(c=1);if(1===t){v-=x;p=v+1;w=m-x+1;for(d=x-1;0<=d;d--)a[p+d]=a[w+d];a[v]=g[z]}else{if(0===t)throw Error();w=v-(t-1);for(d=0;d<t;d++)a[w+d]=g[d]}}}}var c=7,b,k,q=0,g=[];b=[];k=[];this.mergeRuns=function(){for(;1<q;){var b=q-2;if(1<=b&&k[b-1]<=k[b]+k[b+1]||2<=b&&k[b-2]<=k[b]+k[b-1])k[b-1]<k[b+1]&&b--;else if(k[b]>k[b+1])break;d(b)}};this.forceMergeRuns=function(){for(;1<q;){var b=q-2;0<b&&k[b-1]<k[b+1]&&b--;d(b)}};this.pushRun=function(a,c){b[q]=a;k[q]=c;q+=1}}r.exports=function(f,e,d,c){d||(d=0);c||(c=f.length);var b=c-d;if(!(2>b)){var k;if(32>b)k=a(f,d,c,e),m(f,d,c,d+k,e);else{var q=new h(f,e),g;k=b;for(g=0;32<=k;)g|=k&1,k>>=1;g=k+g;do{k=a(f,d,c,e);if(k<g){var u=b;u>g&&(u=g);m(f,d,d+u,d+k,e);k=u}q.pushRun(d,k);q.mergeRuns();b-=k;d+=k}while(0!==b);q.forceMergeRuns()}}}},function(r,p,a){var m=a(4),n=a(87).Dispatcher,l=a(88),h=a(36);p=function(a){a=a||{};this.stage=a.stage||{};this.onframe=a.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;n.call(this)};p.prototype={constructor:p,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;a=a.getClips();for(var e=0;e<a.length;e++)this.addClip(a[e])},removeClip:function(a){a=m.indexOf(this._clips,a);0<=a&&this._clips.splice(a,1)},removeAnimator:function(a){for(var e=a.getClips(),d=0;d<e.length;d++)this.removeClip(e[d]);a.animation=null},_update:function(){for(var a=(new Date).getTime()-this._pausedTime,e=a-this._time,d=this._clips,c=d.length,b=[],k=[],q=0;q<c;q++){var g=d[q],h=g.step(a);h&&(b.push(h),k.push(g))}for(q=0;q<c;)d[q]._needsRemove?(d[q]=d[c-1],d.pop(),c--):q++;c=b.length;for(q=0;q<c;q++)k[q].fire(b[q]);this._time=a;this.onframe(e);this.trigger("frame",e);this.stage.update&&this.stage.update()},_startLoop:function(){function a(){e._running&&(l(a),!e._paused&&e._update())}var e=this;this._running=!0;l(a)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(a,e){e=e||{};return new h(a,e.loop,e.getter,e.setter)}};m.mixin(p,n);r.exports=p},function(r,p,a){function m(a,h,f){a=a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0};f=f||{};f.zrX=h.clientX-a.left;f.zrY=h.clientY-a.top;return f}p=a(33);var n="undefined"!==typeof window&&!!window.addEventListener;r.exports={clientToLocal:m,normalizeEvent:function(a,h){h=h||window.event;if(null!=h.zrX)return h;var f=h.type;f&&0<=f.indexOf("touch")?(f="touchend"!=f?h.targetTouches[0]:h.changedTouches[0])&&m(a,f,h):(m(a,h,h),h.zrDelta=h.wheelDelta?h.wheelDelta/120:-(h.detail||0)/3);return h},addEventListener:function(a,h,f){n?a.addEventListener(h,f):a.attachEvent("on"+h,f)},removeEventListener:function(a,h,f){n?a.removeEventListener(h,f):a.detachEvent("on"+h,f)},stop:n?function(a){a.preventDefault();a.stopPropagation();a.cancelBubble=!0}:function(a){a.returnValue=!1;a.cancelBubble=!0},Dispatcher:p}},function(r,p){r.exports="undefined"!==typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)}},function(r,p,a){function m(b){return"mousewheel"===b&&c.browser.firefox?"DOMMouseScroll":b}function n(b,a,c){var g=b._gestureMgr;"start"===c&&g.clear();var d=g.recognize(a,b.handler.findHover(a.zrX,a.zrY,null),b.dom);"end"===c&&g.clear();d&&(c=d.type,a.gestureEvent=c,b.handler.dispatchToElement(d.target,c,d.event))}function l(b){b._touching=!0;clearTimeout(b._touchTimer);b._touchTimer=setTimeout(function(){b._touching=!1},700)}function h(b){function a(b,c){return function(){if(!c._touching)return b.apply(c,arguments)}}for(var c=0;c<y.length;c++){var g=y[c];b._handlers[g]=e.bind(x[g],b)}for(c=0;c<u.length;c++)g=u[c],b._handlers[g]=a(x[g],b)}function f(a){function g(b,c){e.each(b,function(b){k(a,m(b),c._handlers[b])},c)}d.call(this);this.dom=a;this._touching=!1;this._gestureMgr=new b;this._handlers={};h(this);c.touchEventsSupported&&g(y,this);g(u,this)}p=a(87);var e=a(4),d=a(33),c=a(2),b=a(90),k=p.addEventListener,q=p.removeEventListener,g=p.normalizeEvent,u="click dblclick mousewheel mouseout mouseup mousedown mousemove".split(" "),y=["touchstart","touchend","touchmove"],x={mousemove:function(b){b=g(this.dom,b);this.trigger("mousemove",b)},mouseout:function(b){b=g(this.dom,b);var a=b.toElement||b.relatedTarget;if(a!=this.dom)for(;a&&9!=a.nodeType;){if(a===this.dom)return;a=a.parentNode}this.trigger("mouseout",b)},touchstart:function(b){b=g(this.dom,b);this._lastTouchMoment=new Date;n(this,b,"start");x.mousemove.call(this,b);x.mousedown.call(this,b);l(this)},touchmove:function(b){b=g(this.dom,b);n(this,b,"change");x.mousemove.call(this,b);l(this)},touchend:function(b){b=g(this.dom,b);n(this,b,"end");x.mouseup.call(this,b);300>+new Date-this._lastTouchMoment&&x.click.call(this,b);l(this)}};e.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(b){x[b]=function(a){a=g(this.dom,a);this.trigger(b,a)}});a=f.prototype;a.dispose=function(){for(var b=u.concat(y),a=0;a<b.length;a++){var c=b[a];q(this.dom,m(c),this._handlers[c])}};a.setCursor=function(b){this.dom.style.cursor=b||"default"};e.mixin(f,d);r.exports=f},function(r,p,a){function m(a){var f=a[1][0]-a[0][0];a=a[1][1]-a[0][1];return Math.sqrt(f*f+a*a)}var n=a(87);p=function(){this._track=[]};p.prototype={constructor:p,recognize:function(a,f,e){this._doTrack(a,f,e);return this._recognize(a)},clear:function(){this._track.length=0;return this},_doTrack:function(a,f,e){var d=a.touches;if(d){a={points:[],touches:[],target:f,event:a};f=0;for(var c=d.length;f<c;f++){var b=d[f],k=n.clientToLocal(e,b);a.points.push([k.zrX,k.zrY]);a.touches.push(b)}this._track.push(a)}},_recognize:function(a){for(var f in l)if(l.hasOwnProperty(f)){var e=l[f](this._track,a);if(e)return e}}};var l={pinch:function(a,f){var e=a.length;if(e){var d=(a[e-1]||{}).points;if((e=(a[e-2]||{}).points||d)&&1<e.length&&d&&1<d.length)return e=m(d)/m(e),!isFinite(e)&&(e=1),f.pinchScale=e,d=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2],f.pinchX=d[0],f.pinchY=d[1],{type:"pinch",target:a[0].target,event:f}}}};r.exports=p},function(r,p,a){function m(b){b.__unusedCount++}function n(b){1==b.__unusedCount&&b.clear()}var l=a(41),h=a(4),f=a(40);p=a(9);var e=a(85),d=a(92),c=a(88),b=new p(0,0,0,0),k=new p(0,0,0,0);p=function(b,a,c){var k=!b.nodeName||"CANVAS"===b.nodeName.toUpperCase();c=c||{};this.dpr=c.devicePixelRatio||l.devicePixelRatio;this._singleCanvas=k;this.root=b;if(c=b.style)c["-webkit-tap-highlight-color"]="transparent",c["-webkit-user-select"]=c["user-select"]=c["-webkit-touch-callout"]="none",b.innerHTML="";this.storage=a;a=this._zlevelList=[];c=this._layers={};this._layerConfig={};if(k)k=b.height,this._width=b.width,this._height=k,b=new d(b,this,1),b.initContext(),c[0]=b,a.push(0);else{this._width=this._getWidth();this._height=this._getHeight();k=this._width;a=this._height;c=document.createElement("div");var e=c.style;e.position="relative";e.overflow="hidden";e.width=k+"px";e.height=a+"px";k=this._domRoot=c;b.appendChild(k)}this.pathToImage=this._createPathToImage();this._progressiveLayers=[];this._hoverElements=[]};p.prototype={constructor:p,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(b){var a=this.storage.getDisplayList(!0),c=this._zlevelList;this._paintList(a,b);for(b=0;b<c.length;b++)a=this._layers[c[b]],!a.isBuildin&&a.refresh&&a.refresh();this.refreshHover();this._progressiveLayers.length&&this._startProgessive();return this},addHover:function(b,a){if(!b.__hoverMir){var c=new b.constructor({style:b.style,shape:b.shape});c.__from=b;b.__hoverMir=c;c.setStyle(a);this._hoverElements.push(c)}},removeHover:function(b){var a=this._hoverElements,c=h.indexOf(a,b.__hoverMir);0<=c&&a.splice(c,1);b.__hoverMir=null},clearHover:function(b){b=this._hoverElements;for(var a=0;a<b.length;a++){var c=b[a].__from;c&&(c.__hoverMir=null)}b.length=0},refreshHover:function(){var b=this._hoverElements,a=b.length,c=this._hoverlayer;c&&c.clear();if(a){e(b,this.storage.displayableSortFunc);c||(c=this._hoverlayer=this.getLayer(1E5));var d={};c.ctx.save();for(var k=0;k<a;){var f=b[k],h=f.__from;h&&h.__zr?(k++,h.invisible||(f.transform=h.transform,f.invTransform=h.invTransform,f.__clipPaths=h.__clipPaths,this._doPaintEl(f,c,!0,d))):(b.splice(k,1),h.__hoverMir=null,a--)}c.ctx.restore()}},_startProgessive:function(){function b(){d===a._progressiveToken&&a.storage&&(a._doPaintList(a.storage.getDisplayList()),a._furtherProgressive?(a._progress++,c(b)):a._progressiveToken=-1)}var a=this;if(a._furtherProgressive){var d=a._progressiveToken=+new Date;a._progress++;c(b)}},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;h.each(this._progressiveLayers,function(b){b.__dirty&&b.clear()})},_paintList:function(b,a){null==a&&(a=!1);this._updateLayerStatus(b);this._clearProgressive();this.eachBuildinLayer(m);this._doPaintList(b,a);this.eachBuildinLayer(n)},_doPaintList:function(b,a){function c(b){var a=e.dpr||1;e.save();e.globalAlpha=1;e.shadowBlur=0;d.__dirty=!0;e.setTransform(1,0,0,1,0,0);e.drawImage(b.dom,0,0,w*a,p*a);e.restore()}for(var d,k,e,l,m=0,n,w=this._width,p=this._height,r,D=this._progress,J=0,E=b.length;J<E;J++){var H=b[J];r=this._singleCanvas?0:H.zlevel;var F=H.__frame;0>F&&n&&(c(n),n=null);k!==r&&(e&&e.restore(),l={},k=r,d=this.getLayer(k),d.isBuildin||f("ZLevel "+k+" has been used by unkown layer "+d.id),e=d.ctx,e.save(),d.__unusedCount=0,(d.__dirty||a)&&d.clear());if(d.__dirty||a){if(0<=F){if(!n){n=this._progressiveLayers[Math.min(m++,4)];n.ctx.save();n.renderScope={};if(n&&n.__progress>n.__maxProgress){J=n.__nextIdxNotProg-1;continue}r=n.__progress;n.__dirty||(D=r);n.__progress=D+1}F===D&&this._doPaintEl(H,n,!0,n.renderScope)}else this._doPaintEl(H,d,a,l);H.__dirty=!1}}n&&c(n);e&&e.restore();this._furtherProgressive=!1;h.each(this._progressiveLayers,function(b){b.__maxProgress>=b.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(a,c,d,e){var f=c.ctx,h=a.transform;if(d=(c.__dirty||d)&&!a.invisible&&0!==a.style.opacity&&!(h&&!h[0]&&!h[3])){if(d=a.culling)d=this._width,h=this._height,b.copy(a.getBoundingRect()),a.transform&&b.applyTransform(a.transform),k.width=d,k.height=h,d=!b.intersect(k);d=!d}if(d){d=a.__clipPaths;if(!(h=e.prevClipLayer!==c))a:if(h=e.prevElClipPaths,d==h)h=!1;else if(d&&h&&d.length===h.length){for(var l=0;l<d.length;l++)if(d[l]!==h[l]){h=!0;break a}h=void 0}else h=!0;if(h&&(e.prevElClipPaths&&(e.prevClipLayer.ctx.restore(),e.prevClipLayer=e.prevElClipPaths=null,e.prevEl=null),d)){f.save();for(h=0;h<d.length;h++){var l=d[h],m=l.path;l.setTransform(f);m.beginPath(f);l.buildPath(m,l.shape);f.clip();l.restoreTransform(f)}e.prevClipLayer=c;e.prevElClipPaths=d}a.beforeBrush&&a.beforeBrush(f);a.brush(f,e.prevEl||null);e.prevEl=a;a.afterBrush&&a.afterBrush(f)}},getLayer:function(b){if(this._singleCanvas)return this._layers[0];var a=this._layers[b];a||(a=new d("zr_"+b,this,this.dpr),a.isBuildin=!0,this._layerConfig[b]&&h.merge(a,this._layerConfig[b],!0),this.insertLayer(b,a),a.initContext());return a},insertLayer:function(b,a){var c=this._layers,d=this._zlevelList,k=d.length,e=null,h=-1,l=this._domRoot;if(c[b])f("ZLevel "+b+" has been used already");else if(a&&(a.isBuildin||"function"===typeof a.resize&&"function"===typeof a.refresh)){if(0<k&&b>d[0]){for(h=0;h<k-1&&!(d[h]<b&&d[h+1]>b);h++);e=c[d[h]]}d.splice(h+1,0,b);e?(d=e.dom,d.nextSibling?l.insertBefore(a.dom,d.nextSibling):l.appendChild(a.dom)):l.firstChild?l.insertBefore(a.dom,l.firstChild):l.appendChild(a.dom);c[b]=a}else f("Layer of zlevel "+b+" is not valid")},eachLayer:function(b,a){var c=this._zlevelList,d,k;for(k=0;k<c.length;k++)d=c[k],b.call(a,this._layers[d],d)},eachBuildinLayer:function(b,a){var c=this._zlevelList,d,k,e;for(e=0;e<c.length;e++)k=c[e],d=this._layers[k],d.isBuildin&&b.call(a,d,k)},eachOtherLayer:function(b,a){var c=this._zlevelList,d,k,e;for(e=0;e<c.length;e++)k=c[e],d=this._layers[k],d.isBuildin||b.call(a,d,k)},getLayers:function(){return this._layers},_updateLayerStatus:function(b){var a=this._layers,c=this._progressiveLayers,k={},e={};this.eachBuildinLayer(function(b,a){k[a]=b.elCount;b.elCount=0;b.__dirty=!1});h.each(c,function(b,a){e[a]=b.elCount;b.elCount=0;b.__dirty=!1});for(var f=0,l,m,n=0,w=0,p=b.length;w<p;w++){var r=b[w],D=a[this._singleCanvas?0:r.zlevel],J=r.progressive;D&&(D.elCount++,D.__dirty=D.__dirty||r.__dirty);if(0<=J){m!==J&&(m=J,n++);J=r.__frame=n-1;if(!l){var E=Math.min(f,4);l=c[E];l||(l=c[E]=new d("progressive",this,this.dpr),l.initContext());l.__maxProgress=0}l.__dirty=l.__dirty||r.__dirty;l.elCount++;l.__maxProgress=Math.max(l.__maxProgress,J);l.__maxProgress>=l.__progress&&(D.__dirty=!0)}else r.__frame=-1,l&&(l.__nextIdxNotProg=w,f++,l=null)}l&&(f++,l.__nextIdxNotProg=w);this.eachBuildinLayer(function(b,a){k[a]!==b.elCount&&(b.__dirty=!0)});c.length=Math.min(f,5);h.each(c,function(b,a){e[a]!==b.elCount&&(r.__dirty=!0);b.__dirty&&(b.__progress=0)})},clear:function(){this.eachBuildinLayer(this._clearLayer);return this},_clearLayer:function(b){b.clear()},configLayer:function(b,a){if(a){var c=this._layerConfig;c[b]?h.merge(c[b],a,!0):c[b]=a;var d=this._layers[b];d&&h.merge(d,c[b],!0)}},delLayer:function(b){var a=this._layers,c=this._zlevelList,d=a[b];d&&(d.dom.parentNode.removeChild(d.dom),delete a[b],c.splice(h.indexOf(c,b),1))},resize:function(b,a){var c=this._domRoot;c.style.display="none";b=b||this._getWidth();a=a||this._getHeight();c.style.display="";if(this._width!=b||a!=this._height){c.style.width=b+"px";c.style.height=a+"px";for(var d in this._layers)this._layers[d].resize(b,a);this.refresh(!0)}this._width=b;this._height=a;return this},clearLayer:function(b){(b=this._layers[b])&&b.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(b){b=b||{};if(this._singleCanvas)return this._layers[0].dom;var a=new d("image",this,b.pixelRatio||this.dpr);a.initContext();a.clearColor=b.backgroundColor;a.clear();b=this.storage.getDisplayList(!0);for(var c={},k=0;k<b.length;k++)this._doPaintEl(b[k],a,!0,c);return a.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var b=this.root,a=document.defaultView.getComputedStyle(b);return(b.clientWidth||parseInt(a.width,10)||parseInt(b.style.width,10))-(parseInt(a.paddingLeft,10)||0)-(parseInt(a.paddingRight,10)||0)|0},_getHeight:function(){var b=this.root,a=document.defaultView.getComputedStyle(b);return(b.clientHeight||parseInt(a.height,10)||parseInt(b.style.height,10))-(parseInt(a.paddingTop,10)||0)-(parseInt(a.paddingBottom,10)||0)|0},_pathToImage:function(b,c,d,k,e){var f=document.createElement("canvas"),h=f.getContext("2d");f.width=d*e;f.height=k*e;h.clearRect(0,0,d*e,k*e);d=c.position;k=c.rotation;e=c.scale;c.position=[0,0,0];c.rotation=0;c.scale=[1,1];c&&c.brush(h);b=new (a(62))({id:b,style:{x:0,y:0,image:f}});null!=d&&(b.position=c.position=d);null!=k&&(b.rotation=c.rotation=k);null!=e&&(b.scale=c.scale=e);return b},_createPathToImage:function(){var b=this;return function(a,c,d,k){return b._pathToImage(a,c,d,k,b.dpr)}}};r.exports=p},function(r,p,a){function m(){return!1}function n(a,c,b,k){c=document.createElement(c);var e=b.getWidth();b=b.getHeight();var g=c.style;g.position="absolute";g.left=0;g.top=0;g.width=e+"px";g.height=b+"px";c.width=e*k;c.height=b*k;c.setAttribute("data-zr-dom-id",a);return c}var l=a(4),h=a(41),f=a(47),e=a(59);p=function(a,c,b){var k;b=b||h.devicePixelRatio;"string"===typeof a?k=n(a,"canvas",c,b):l.isObject(a)&&(k=a,a=k.id);this.id=a;this.dom=k;if(a=k.style)k.onselectstart=m,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";this.ctxBack=this.domBack=null;this.painter=c;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=b};p.prototype={constructor:p,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=n("back-"+this.id,"canvas",this.painter,a);this.ctxBack=this.domBack.getContext("2d");1!=a&&this.ctxBack.scale(a,a)},resize:function(a,c){var b=this.dpr,k=this.dom,e=k.style,g=this.domBack;e.width=a+"px";e.height=c+"px";k.width=a*b;k.height=c*b;g&&(g.width=a*b,g.height=c*b,1!=b&&this.ctxBack.scale(b,b))},clear:function(a){var c=this.dom,b=this.ctx,k=c.width,q=c.height,g=this.clearColor,h=this.motionBlur&&!a;a=this.lastFrameAlpha;var l=this.dpr;h&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(c,0,0,k/l,q/l));b.clearRect(0,0,k,q);if(g){var x;g.colorStops?(x=g.__canvasGradient||f.getGradient(b,g,{x:0,y:0,width:k,height:q}),g.__canvasGradient=x):g.image&&(x=e.prototype.getCanvasPattern.call(g,b));b.save();b.fillStyle=x||g;b.fillRect(0,0,k,q);b.restore()}h&&(c=this.domBack,b.save(),b.globalAlpha=a,b.drawImage(c,0,0,k,q),b.restore())}};r.exports=p},function(r,p,a){var m=a(61);r.exports=function(a){a.eachRawSeries(function(l){var h=(l.visualColorAccessPath||"itemStyle.normal.color").split("."),f=l.getData(),e=l.get(h)||l.getColorFromPalette(l.get("name"));f.setVisual("color",e);a.isSeriesFiltered(l)||("function"!==typeof e||e instanceof m||f.each(function(a){f.setItemVisual(a,"color",e(l.getDataParams(a)))}),f.each(function(a){var c=f.getItemModel(a).get(h,!0);null!=c&&f.setItemVisual(a,"color",c)}))})}},function(r,p,a){function m(a){d(h,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}var n=a(4),l=a(95),h=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],f="grid geo parallel legend toolbox title visualMap dataZoom timeline".split(" "),e="bar boxplot candlestick chord effectScatter funnel gauge lines graph heatmap line map parallel pie radar sankey scatter treemap".split(" "),d=n.each;r.exports=function(a){d(a.series,function(b){if(n.isObject(b)){var a=b.type;l(b);"pie"!==a&&"gauge"!==a||null==b.clockWise||(b.clockwise=b.clockWise);if("gauge"===a){for(var a=["pointer.color"],c=b,d=0;d<a.length&&(c=c&&c[a[d]],null!=c);d++);a=c;if(null!=a){for(var c=["itemStyle.normal.color"],d=b,f,h=0;h<c.length-1;h++)f=c[h],null==d[f]&&(d[f]={}),d=d[f];null==d[c[h]]&&(d[c[h]]=a)}}for(a=0;a<e.length;a++)if(e[a]===b.type){m(b);break}}});a.dataRange&&(a.visualMap=a.dataRange);d(f,function(b){if(b=a[b])n.isArray(b)||(b=[b]),d(b,function(b){m(b)})})}},function(r,p,a){function m(a){var f=a&&a.itemStyle;f&&n.each(l,function(e){var d=f.normal,c=f.emphasis;d&&d[e]&&(a[e]=a[e]||{},a[e].normal?n.merge(a[e].normal,d[e]):a[e].normal=d[e],d[e]=null);c&&c[e]&&(a[e]=a[e]||{},a[e].emphasis?n.merge(a[e].emphasis,c[e]):a[e].emphasis=c[e],c[e]=null)})}var n=a(4),l="areaStyle lineStyle nodeStyle linkStyle chordStyle label labelLine".split(" ");r.exports=function(a){if(a){m(a);m(a.markPoint);m(a.markLine);var f=a.data;if(f){for(var e=0;e<f.length;e++)m(f[e]);if((e=a.markPoint)&&e.data)for(f=e.data,e=0;e<f.length;e++)m(f[e]);if((a=a.markLine)&&a.data)for(a=a.data,e=0;e<a.length;e++)n.isArray(a[e])?(m(a[e][0]),m(a[e][1])):m(a[e])}}}},function(r,p,a){var m=a(43),n=a(4),l=Math.PI;r.exports=function(a,f){f=f||{};n.defaults(f,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var e=new m.Rect({style:{fill:f.maskColor},zlevel:f.zlevel,z:1E4}),d=new m.Arc({shape:{startAngle:-l/2,endAngle:-l/2+.1,r:10},style:{stroke:f.color,lineCap:"round",lineWidth:5},zlevel:f.zlevel,z:10001}),c=new m.Rect({style:{fill:"none",text:f.text,textPosition:"right",textDistance:10,textFill:f.textColor},zlevel:f.zlevel,z:10001});d.animateShape(!0).when(1E3,{endAngle:3*l/2}).start("circularInOut");d.animateShape(!0).when(1E3,{startAngle:3*l/2}).delay(300).start("circularInOut");var b=new m.Group;b.add(d);b.add(c);b.add(e);b.resize=function(){var b=a.getWidth()/2,q=a.getHeight()/2;d.setShape({cx:b,cy:q});var g=d.shape.r;c.setShape({x:b-g,y:q-g,width:2*g,height:2*g});e.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})};b.resize();return b}},function(r,p,a){(function(m){function n(b){d.isArray(b)||(b=[b]);return b}function l(b,a){var c=b.dimensions,k=new g(d.map(c,b.getDimensionInfo,b),b.hostModel);q(k,b);for(var e=k._storage={},f=b._storage,h=0;h<c.length;h++){var l=c[h],u=f[l];0<=d.indexOf(a,l)?e[l]=new u.constructor(f[l].length):e[l]=f[l]}return k}m="undefined"===typeof window?m:window;var h={"float":"undefined"===typeof m.Float64Array?Array:m.Float64Array,"int":"undefined"===typeof m.Int32Array?Array:m.Int32Array,ordinal:Array,number:Array,time:Array},f=a(12),e=a(98),d=a(4),c=a(5),b=d.isObject,k=["stackedOn","hasItemOption","_nameList","_idList","_rawData"],q=function(b,a){d.each(k.concat(a.__wrappedMethods||[]),function(c){a.hasOwnProperty(c)&&(b[c]=a[c])});b.__wrappedMethods=a.__wrappedMethods},g=function(b,a){b=b||["x","y"];for(var c={},d=[],g=0;g<b.length;g++){var k,e;"string"===typeof b[g]?(k=b[g],e={name:k,stackable:!1,type:"number"}):(e=b[g],k=e.name,e.type=e.type||"number");d.push(k);c[k]=e}this.dimensions=d;this._dimensionInfos=c;this.hostModel=a;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[]};m=g.prototype;m.type="list";m.hasItemOption=!0;m.getDimension=function(b){isNaN(b)||(b=this.dimensions[b]||b);return b};m.getDimensionInfo=function(b){return d.clone(this._dimensionInfos[this.getDimension(b)])};m.initData=function(b,a,g){b=b||[];if(!d.isArray(b))throw Error("Invalid data.");this._rawData=b;var k=this._storage={},e=this.indices=[],q=this.dimensions,f=b.length,l=this._dimensionInfos,u=[],m={};a=a||[];for(var n=0;n<q.length;n++)k[q[n]]=new h[l[q[n]].type](f);var p=this;g||(p.hasItemOption=!1);g=g||function(b,a,d,g){d=c.getDataItemValue(b);c.isDataItemOption(b)&&(p.hasItemOption=!0);return c.converDataValue(d instanceof Array?d[g]:d,l[a])};for(n=0;n<b.length;n++){for(var f=b[n],r=0;r<q.length;r++){var F=q[r];k[F][n]=g(f,F,n,r)}e.push(n)}for(n=0;n<b.length;n++)!a[n]&&b[n]&&null!=b[n].name&&(a[n]=b[n].name),g=a[n]||"",k=b[n]&&b[n].id,!k&&g&&(m[g]=m[g]||0,k=g,0<m[g]&&(k+="__ec__"+m[g]),m[g]++),k&&(u[n]=k);this._nameList=a;this._idList=u};m.count=function(){return this.indices.length};m.get=function(b,a,c){var d=this._storage,g=this.indices[a];if(null==g)return NaN;d=d[b]&&d[b][g];if(c&&(c=this._dimensionInfos[b])&&c.stackable)for(c=this.stackedOn;c;){g=c.get(b,a);if(0<=d&&0<g||0>=d&&0>g)d+=g;c=c.stackedOn}return d};m.getValues=function(b,a,c){var g=[];d.isArray(b)||(c=a,a=b,b=this.dimensions);for(var k=0,e=b.length;k<e;k++)g.push(this.get(b[k],a,c));return g};m.hasValue=function(b){for(var a=this.dimensions,c=this._dimensionInfos,d=0,g=a.length;d<g;d++)if("ordinal"!==c[a[d]].type&&isNaN(this.get(a[d],b)))return!1;return!0};m.getDataExtent=function(b,a){b=this.getDimension(b);var c=this._storage[b],d=this.getDimensionInfo(b);a=d&&d.stackable&&a;if(d=(this._extent||(this._extent={}))[b+!!a])return d;if(c){for(var d=Infinity,g=-Infinity,k=0,e=this.count();k<e;k++)c=this.get(b,k,a),c<d&&(d=c),c>g&&(g=c);return this._extent[b+!!a]=[d,g]}return[Infinity,-Infinity]};m.getSum=function(b,a){var c=0;if(this._storage[b])for(var d=0,g=this.count();d<g;d++){var k=this.get(b,d,a);isNaN(k)||(c+=k)}return c};m.indexOf=function(b,a){var c=this._storage[b],d=this.indices;if(c)for(var g=0,k=d.length;g<k;g++)if(c[d[g]]===a)return g;return-1};m.indexOfName=function(b){for(var a=this.indices,c=this._nameList,d=0,g=a.length;d<g;d++)if(c[a[d]]===b)return d;return-1};m.indexOfRawIndex=function(b){for(var a=this.indices,c=0,d=a.length-1;c<=d;){var g=(c+d)/2|0;if(a[g]<b)c=g+1;else if(a[g]>b)d=g-1;else return g}return-1};m.indexOfNearest=function(b,a,c,d){var g=this._storage[b];null==d&&(d=Infinity);var k=-1;if(g)for(var g=Number.MAX_VALUE,e=0,q=this.count();e<q;e++){var f=a-this.get(b,e,c),h=Math.abs(f);f<=d&&(h<g||h===g&&0<f)&&(g=h,k=e)}return k};m.getRawIndex=function(b){b=this.indices[b];return null==b?-1:b};m.getRawDataItem=function(b){return this._rawData[this.getRawIndex(b)]};m.getName=function(b){return this._nameList[this.indices[b]]||""};m.getId=function(b){return this._idList[this.indices[b]]||this.getRawIndex(b)+""};m.each=function(b,a,c,g){"function"===typeof b&&(g=c,c=a,a=b,b=[]);b=d.map(n(b),this.getDimension,this);var k=[],e=b.length,q=this.indices;g=g||this;for(var f=0;f<q.length;f++)switch(e){case 0:a.call(g,f);break;case 1:a.call(g,this.get(b[0],f,c),f);break;case 2:a.call(g,this.get(b[0],f,c),this.get(b[1],f,c),f);break;default:for(var h=0;h<e;h++)k[h]=this.get(b[h],f,c);k[h]=f;a.apply(g,k)}};m.filterSelf=function(b,a,c,g){"function"===typeof b&&(g=c,c=a,a=b,b=[]);b=d.map(n(b),this.getDimension,this);var k=[],e=[],q=b.length,f=this.indices;g=g||this;for(var h=0;h<f.length;h++){var l;if(1===q)l=a.call(g,this.get(b[0],h,c),h);else{for(l=0;l<q;l++)e[l]=this.get(b[l],h,c);e[l]=h;l=a.apply(g,e)}l&&k.push(f[h])}this.indices=k;this._extent={};return this};m.mapArray=function(b,a,c,d){"function"===typeof b&&(d=c,c=a,a=b,b=[]);var g=[];this.each(b,function(){g.push(a&&a.apply(this,arguments))},c,d);return g};m.map=function(b,a,c,g){b=d.map(n(b),this.getDimension,this);var k=l(this,b),e=k.indices=this.indices,q=k._storage,f=[];this.each(b,function(){var c=arguments[arguments.length-1],d=a&&a.apply(this,arguments);if(null!=d){"number"===typeof d&&(f[0]=d,d=f);for(var g=0;g<d.length;g++){var k=q[b[g]],h=e[c];k&&(k[h]=d[g])}}},c,g);return k};m.downSample=function(b,a,c,d){var g=l(this,[b]),k=this._storage,e=g._storage,q=this.indices,f=g.indices=[],h=[],u=[];a=Math.floor(1/a);for(var m=e[b],n=this.count(),p=0;p<k[b].length;p++)e[b][p]=k[b][p];for(p=0;p<n;p+=a){a>n-p&&(a=n-p,h.length=a);for(k=0;k<a;k++)b=q[p+k],h[k]=m[b],u[k]=b;k=c(h);b=u[d(h,k)||0];m[b]=k;f.push(b)}return g};m.getItemModel=function(b){var a=this.hostModel;b=this.indices[b];return new f(this._rawData[b],a,a&&a.ecModel)};m.diff=function(b){var a=this._idList,c=b&&b._idList;return new e(b?b.indices:[],this.indices,function(b){return c[b]||b+""},function(b){return a[b]||b+""})};m.getVisual=function(b){var a=this._visual;return a&&a[b]};m.setVisual=function(a,c){if(b(a))for(var d in a)a.hasOwnProperty(d)&&this.setVisual(d,a[d]);else this._visual=this._visual||{},this._visual[a]=c};m.setLayout=function(a,c){if(b(a))for(var d in a)a.hasOwnProperty(d)&&this.setLayout(d,a[d]);else this._layout[a]=c};m.getLayout=function(b){return this._layout[b]};m.getItemLayout=function(b){return this._itemLayouts[b]};m.setItemLayout=function(b,a,c){this._itemLayouts[b]=c?d.extend(this._itemLayouts[b]||{},a):a};m.clearItemLayouts=function(){this._itemLayouts.length=0};m.getItemVisual=function(b,a,c){b=(b=this._itemVisuals[b])&&b[a];return null!=b||c?b:this.getVisual(a)};m.setItemVisual=function(a,c,d){var g=this._itemVisuals[a]||{};this._itemVisuals[a]=g;if(b(c))for(var k in c)c.hasOwnProperty(k)&&(g[k]=c[k]);else g[c]=d};m.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};var u=function(b){b.seriesIndex=this.seriesIndex;b.dataIndex=this.dataIndex;b.dataType=this.dataType};m.setItemGraphicEl=function(b,a){var c=this.hostModel;a&&(a.dataIndex=b,a.dataType=this.dataType,a.seriesIndex=c&&c.seriesIndex,"group"===a.type&&a.traverse(u,a));this._graphicEls[b]=a};m.getItemGraphicEl=function(b){return this._graphicEls[b]};m.eachItemGraphicEl=function(b,a){d.each(this._graphicEls,function(c,d){c&&b&&b.call(a,c,d)})};m.cloneShallow=function(){var b=d.map(this.dimensions,this.getDimensionInfo,this),b=new g(b,this.hostModel);b._storage=this._storage;q(b,this);b.indices=this.indices.slice();this._extent&&(b._extent=d.extend({},this._extent));return b};m.wrapMethod=function(b,a){var c=this[b];"function"===typeof c&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(b),this[b]=function(){var b=c.apply(this,arguments);return a.apply(this,[b].concat(d.slice(arguments)))})};m.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];m.CHANGABLE_METHODS=["filterSelf"];r.exports=g}).call(p,function(){return this}())},function(r,p){function a(a){return a}function m(l,h,f,e){this._old=l;this._new=h;this._oldKeyGetter=f||a;this._newKeyGetter=e||a}function n(a,h,f,e){for(var d=0;d<a.length;d++){var c=e(a[d],d),b=h[c];null==b?(f.push(c),h[c]=d):(b.length||(h[c]=b=[b]),b.push(d))}}m.prototype={constructor:m,add:function(a){this._add=a;return this},update:function(a){this._update=a;return this},remove:function(a){this._remove=a;return this},execute:function(){var a=this._old,h=this._new,f=this._newKeyGetter,e={},d=[],c=[];n(a,{},d,this._oldKeyGetter);n(h,e,c,f);for(h=0;h<a.length;h++){var b=d[h],f=e[b];if(null!=f){var k=f.length;k?(1===k&&(e[b]=null),f=f.unshift()):e[b]=null;this._update&&this._update(f,h)}else this._remove&&this._remove(h)}for(h=0;h<c.length;h++)if(b=c[h],e.hasOwnProperty(b)&&(f=e[b],null!=f))if(f.length)for(a=0,k=f.length;a<k;a++)this._add&&this._add(f[a]);else this._add&&this._add(f)}};r.exports=m},function(r,p,a){r=a(4);p=a(1);var m=p.PRIORITY;a(100);a(103);p.registerVisual(r.curry(a(109),"line","circle","line"));p.registerLayout(r.curry(a(110),"line"));p.registerProcessor(m.PROCESSOR.STATISTIC,r.curry(a(111),"line"));a(112)},function(r,p,a){var m=a(101);p=a(28);r.exports=p.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,l){var h=a.coordinateSystem;if("polar"!==h&&"cartesian2d"!==h)throw Error("Line not support coordinateSystem besides cartesian and polar");return m(a.data,this,l)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}})},function(r,p,a){function m(b){for(var a=0;a<b.length&&null==b[a];)a++;b=b[a];return null!=b&&!d.isArray(k(b))}function n(b){return"category"!==b&&"time"!==b}function l(b){return"category"===b?"ordinal":"time"===b?"time":"float"}function h(b,a){var c=[],g=b&&b.dimensions[b.categoryIndex],k;g&&(k=b.categoryAxesModels[g.name]);if(k&&(g=k.getCategories()))if(k=a.length,d.isArray(a[0])&&1<a[0].length)for(var c=[],e=0;e<k;e++)c[e]=g[a[e][b.categoryIndex||0]];else c=g.slice(0);return c}var f=a(97),e=a(102),d=a(4),c=a(5),b=a(26),k=c.getDataItemValue,q=c.converDataValue,g={cartesian2d:function(b,a,c){var g=d.map(["xAxis","yAxis"],function(b){return c.queryComponents({mainType:b,index:a.get(b+"Index"),id:a.get(b+"Id")})[0]}),k=g[0],g=g[1];if(!k)throw Error('xAxis "'+d.retrieve(a.get("xAxisIndex"),a.get("xAxisId"),0)+'" not found');if(!g)throw Error('yAxis "'+d.retrieve(a.get("xAxisIndex"),a.get("yAxisId"),0)+'" not found');var q=k.get("type"),f=g.get("type"),h=[{name:"x",type:l(q),stackable:n(q)},{name:"y",type:l(f),stackable:n(f)}],q="category"===q,f="category"===f;e(h,b,["x","y","z"]);b={};q&&(b.x=k);f&&(b.y=g);return{dimensions:h,categoryIndex:q?0:f?1:-1,categoryAxesModels:b}},polar:function(b,a,c){c=c.queryComponents({mainType:"polar",index:a.get("polarIndex"),id:a.get("polarId")})[0];a=c.findAxisModel("angleAxis");c=c.findAxisModel("radiusAxis");if(!a)throw Error("angleAxis option not found");if(!c)throw Error("radiusAxis option not found");var d=c.get("type"),g=a.get("type"),k=[{name:"radius",type:l(d),stackable:n(d)},{name:"angle",type:l(g),stackable:n(g)}],g="category"===g,d="category"===d;e(k,b,["radius","angle","value"]);b={};d&&(b.radius=c);g&&(b.angle=a);return{dimensions:k,categoryIndex:g?1:d?0:-1,categoryAxesModels:b}},geo:function(b,a,c){return{dimensions:e([{name:"lng"},{name:"lat"}],b,["lng","lat","value"])}}};r.exports=function(a,l,n){a=a||[];if(!d.isArray(a))throw Error("Invalid data.");var v=l.get("coordinateSystem"),t=g[v],v=b.get(v),A=t&&t(a,l,n),z=A&&A.dimensions;z||(z=v&&v.dimensions||["x","y"],z=e(z,a,z.concat(["value"])));var w=A?A.categoryIndex:-1,p=new f(z,l);l=h(A,a);var r={};n=0<=w&&m(a)?function(b,a,d,g){c.isDataItemOption(b)&&(p.hasItemOption=!0);return g===w?d:q(k(b),z[g])}:function(b,a,g,e){g=k(b);e=q(g&&g[e],z[e]);c.isDataItemOption(b)&&(p.hasItemOption=!0);(b=A&&A.categoryAxesModels)&&b[a]&&"string"===typeof e&&(r[a]=r[a]||b[a].getCategories(),e=d.indexOf(r[a],e),0>e&&!isNaN(e)&&(e=+e));return e};p.hasItemOption=!1;p.initData(a,l,n);return p}},function(r,p,a){function m(a,e,d,c){if(!e)return a;var b=n(e[0]),b=l.isArray(b)&&b.length||1;d=d||[];c=c||"extra";for(var k=0;k<b;k++)if(!a[k]){var q=d[k]||c+(k-d.length);a[k]=h(e,k)?{type:"ordinal",name:q}:q}return a}function n(a){return l.isArray(a)?a:l.isObject(a)?a.value:a}var l=a(4),h=m.guessOrdinal=function(a,e){for(var d=0,c=a.length;d<c;d++){var b=n(a[d]);if(!l.isArray(b))break;b=b[e];if(null!=b&&isFinite(b))break;else if(l.isString(b)&&"-"!==b)return!0}return!1};r.exports=m},function(r,p,a){function m(b,a){if(b.length===a.length){for(var c=0;c<b.length;c++){var d=b[c],g=a[c];if(d[0]!==g[0]||d[1]!==g[1])return}return!0}}function n(b){return"number"===typeof b?b:b?.3:0}function l(b){var a=b.getGlobalExtent();if(b.onBand){b=b.getBandWidth()/2-1;var c=a[1]>a[0]?1:-1;a[0]+=c*b;a[1]-=c*b}return a}function h(b){return 0<=b?1:-1}function f(b,a){var c=b.getBaseAxis(),d=b.getOtherAxis(c),g=c.onZero?0:d.scale.getExtent()[0],k=d.dim,e="x"===k||"radius"===k?1:0;return a.mapArray([k],function(d,q){for(var f,l=a.stackedOn;l&&h(l.get(k,q))===h(d);){f=l;break}l=[];l[e]=a.get(c.dim,q);l[1-e]=f?f.get(k,q,!0):g;return b.dataToPoint(l)},!0)}function e(b,a){if(null!=a.dataIndex)return a.dataIndex;if(null!=a.name)return b.indexOfName(a.name)}function d(b,a,c){if("polar"===b.type){var d=b.getAngleAxis(),g=b.getRadiusAxis().getExtent(),k=d.getExtent(),e=Math.PI/180;b=new x.Sector({shape:{cx:b.cx,cy:b.cy,r0:g[0],r:g[1],startAngle:-k[0]*e,endAngle:-k[1]*e,clockwise:d.inverse}});a&&(b.shape.endAngle=-k[0]*e,x.initProps(b,{shape:{endAngle:-k[1]*e}},c));a=b}else{d=l(b.getAxis("x"));g=l(b.getAxis("y"));b=b.getBaseAxis().isHorizontal();var k=Math.min(d[0],d[1]),e=Math.min(g[0],g[1]),d=Math.max(d[0],d[1])-k,g=Math.max(g[0],g[1])-e,q=c.get("lineStyle.normal.width")||2,q=c.get("clipOverflow")?q/2:Math.max(d,g);b?(e-=q,g+=2*q):(k-=q,d+=2*q);k=new x.Rect({shape:{x:k,y:e,width:d,height:g}});a&&(k.shape[b?"width":"height"]=0,x.initProps(k,{shape:{width:d,height:g}},c));a=k}return a}function c(b,a,c){a=a.getBaseAxis();a="x"===a.dim||"radius"===a.dim?0:1;for(var d=[],g=0;g<b.length-1;g++){var k=b[g+1],e=b[g];d.push(e);var q=[];switch(c){case "end":q[a]=k[a];q[1-a]=e[1-a];d.push(q);break;case "middle":var f=[];q[a]=f[a]=(e[a]+k[a])/2;q[1-a]=e[1-a];f[1-a]=k[1-a];d.push(q);d.push(f);break;default:q[a]=e[a],q[1-a]=k[1-a],d.push(q)}}b[g]&&d.push(b[g]);return d}function b(b,a){return Math.max(Math.min(b,a[1]),a[0])}function k(a,c){var d=a.getVisual("visualMeta");if(d&&d.length){for(var g,k=d.length-1;0<=k;k--)if(2>d[k].dimension){g=d[k];break}if(g&&"cartesian2d"===c.type){var d=a.dimensions[g.dimension],e=a.getDataExtent(d),q=g.stops,f=[];q[0].interval&&q.sort(function(b,a){return b.interval[0]-a.interval[0]});g=q[0];var h=q[q.length-1];g=g.interval?b(g.interval[0],e):g.value;var h=h.interval?b(h.interval[1],e):h.value,l=h-g;if(0===l)return a.getItemVisual(0,"color");for(k=0;k<q.length;k++)q[k].interval?q[k].interval[1]!==q[k].interval[0]&&f.push({offset:(b(q[k].interval[0],e)-g)/l,color:q[k].color},{offset:(b(q[k].interval[1],e)-g)/l,color:q[k].color}):f.push({offset:(q[k].value-g)/l,color:q[k].color});e=new x.LinearGradient(0,0,0,0,f,!0);k=c.getAxis(d);g=Math.round(k.toGlobalCoord(k.dataToCoord(g)));h=Math.round(k.toGlobalCoord(k.dataToCoord(h)));e[d]=g;e[d+"2"]=h;return e}console.warn("Visual map on line style only support x or y dimension.")}}var q=a(4),g=a(104),u=a(105),y=a(107),x=a(43),v=a(108),t=a(42);r.exports=t.extend({type:"line",init:function(){var b=new x.Group,a=new g;this.group.add(a.group);this._symbolDraw=a;this._lineGroup=b},render:function(b,a,g){a=b.coordinateSystem;var e=this.group,h=b.getData(),l=b.getModel("lineStyle.normal"),u=b.getModel("areaStyle.normal"),y=h.mapArray(h.getItemLayout,!0),v="polar"===a.type,x=this._coordSys,t=this._symbolDraw,p=this._polyline,r=this._polygon,I=this._lineGroup,G=b.get("animation"),N=!u.isEmpty(),P=f(a,h),R=b.get("showSymbol"),T=R&&!v&&!b.get("showAllSymbol")&&this._getSymbolIgnoreFunc(h,a),O=this._data;O&&O.eachItemGraphicEl(function(b,a){b.__temp&&(e.remove(b),O.setItemGraphicEl(a,null))});R||t.remove();e.add(I);v=!v&&b.get("step");p&&x.type===a.type&&v===this._step?(N&&!r?r=this._newPolygon(y,P,a,G):r&&!N&&(I.remove(r),r=this._polygon=null),I.setClipPath(d(a,!1,b)),R&&t.updateData(h,T),h.eachItemGraphicEl(function(b){b.stopAnimation(!0)}),m(this._stackedOnPoints,P)&&m(this._points,y)||(G?this._updateAnimation(h,P,a,g,v):(v&&(y=c(y,a,v),P=c(P,a,v)),p.setShape({points:y}),r&&r.setShape({points:y,stackedOnPoints:P})))):(R&&t.updateData(h,T),v&&(y=c(y,a,v),P=c(P,a,v)),p=this._newPolyline(y,a,G),N&&(r=this._newPolygon(y,P,a,G)),I.setClipPath(d(a,!0,b)));g=k(h,a)||h.getVisual("color");p.useStyle(q.defaults(l.getLineStyle(),{fill:"none",stroke:g,lineJoin:"bevel"}));l=b.get("smooth");l=n(b.get("smooth"));p.setShape({smooth:l,smoothMonotone:b.get("smoothMonotone"),connectNulls:b.get("connectNulls")});r&&(p=h.stackedOn,x=0,r.useStyle(q.defaults(u.getAreaStyle(),{fill:g,opacity:.7,lineJoin:"bevel"})),p&&(x=n(p.hostModel.get("smooth"))),r.setShape({smooth:l,stackedOnSmooth:x,smoothMonotone:b.get("smoothMonotone"),connectNulls:b.get("connectNulls")}));this._data=h;this._coordSys=a;this._stackedOnPoints=P;this._points=y;this._step=v},highlight:function(b,a,c,d){var g=b.getData(),k=e(g,d);!(k instanceof Array)&&null!=k&&0<=k?(a=g.getItemGraphicEl(k),a||(c=g.getItemLayout(k),a=new u(g,k),a.position=c,a.setZ(b.get("zlevel"),b.get("z")),a.ignore=isNaN(c[0])||isNaN(c[1]),a.__temp=!0,g.setItemGraphicEl(k,a),a.stopSymbolAnimation(!0),this.group.add(a)),a.highlight()):t.prototype.highlight.call(this,b,a,c,d)},downplay:function(b,a,c,d){var g=b.getData(),k=e(g,d);if(null!=k&&0<=k){if(b=g.getItemGraphicEl(k))b.__temp?(g.setItemGraphicEl(k,null),this.group.remove(b)):b.downplay()}else t.prototype.downplay.call(this,b,a,c,d)},_newPolyline:function(b){var a=this._polyline;a&&this._lineGroup.remove(a);a=new v.Polyline({shape:{points:b},silent:!0,z2:10});this._lineGroup.add(a);return this._polyline=a},_newPolygon:function(b,a){var c=this._polygon;c&&this._lineGroup.remove(c);c=new v.Polygon({shape:{points:b,stackedOnPoints:a},silent:!0});this._lineGroup.add(c);return this._polygon=c},_getSymbolIgnoreFunc:function(b,a){var c=a.getAxesByScale("ordinal")[0];if(c&&c.isLabelIgnored)return q.bind(c.isLabelIgnored,c)},_updateAnimation:function(b,a,d,g,k){var e=this._polyline;g=this._polygon;var q=b.hostModel;a=y(this._data,b,this._stackedOnPoints,a,this._coordSys,d);var f=a.current,h=a.stackedOnCurrent,l=a.next,u=a.stackedOnNext;k&&(f=c(a.current,d,k),h=c(a.stackedOnCurrent,d,k),l=c(a.next,d,k),u=c(a.stackedOnNext,d,k));e.shape.__points=a.current;e.shape.points=f;x.updateProps(e,{shape:{points:l}},q);g&&(g.setShape({points:f,stackedOnPoints:h}),x.updateProps(g,{shape:{points:l,stackedOnPoints:u,__points:a.next}},q));var m=[];d=a.status;for(k=0;k<d.length;k++)"\x3d"===d[k].cmd&&(g=b.getItemGraphicEl(d[k].idx1))&&m.push({el:g,ptIdx:k});e.animators&&e.animators.length&&e.animators[0].during(function(){for(var b=0;b<m.length;b++)m[b].el.attr("position",e.shape.__points[m[b].ptIdx])})},remove:function(b){var a=this.group,c=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);c&&c.eachItemGraphicEl(function(b,d){b.__temp&&(a.remove(b),c.setItemGraphicEl(d,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(r,p,a){function m(a){this.group=new l.Group;this._symbolCtor=a||h}function n(a,e,d){var c=a.getItemLayout(e);return c&&!isNaN(c[0])&&!isNaN(c[1])&&!(d&&d(e))&&"none"!==a.getItemVisual(e,"symbol")}var l=a(43),h=a(105);p=m.prototype;p.updateData=function(a,e){var d=this.group,c=a.hostModel,b=this._data,k=this._symbolCtor,q={itemStyle:c.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:c.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:c.get("symbolRotate"),symbolOffset:c.get("symbolOffset"),hoverAnimation:c.get("hoverAnimation"),labelModel:c.getModel("label.normal"),hoverLabelModel:c.getModel("label.emphasis")};a.diff(b).add(function(b){var c=a.getItemLayout(b);if(n(a,b,e)){var h=new k(a,b,q);h.attr("position",c);a.setItemGraphicEl(b,h);d.add(h)}}).update(function(g,h){var y=b.getItemGraphicEl(h),m=a.getItemLayout(g);n(a,g,e)?(y?(y.updateData(a,g,q),l.updateProps(y,{position:m},c)):(y=new k(a,g),y.attr("position",m)),d.add(y),a.setItemGraphicEl(g,y)):d.remove(y)}).remove(function(a){var c=b.getItemGraphicEl(a);c&&c.fadeOut(function(){d.remove(c)})}).execute();this._data=a};p.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(e,d){var c=a.getItemLayout(d);e.attr("position",c)})};p.remove=function(a){var e=this.group,d=this._data;d&&(a?d.eachItemGraphicEl(function(a){a.fadeOut(function(){e.remove(a)})}):e.removeAll())};r.exports=m},function(r,p,a){function m(b){b instanceof Array||(b=[+b,+b]);return b}function n(b,a,c){e.Group.call(this);this.updateData(b,a,c)}function l(b,a){this.parent.drift(b,a)}var h=a(4),f=a(106),e=a(43),d=a(7);p=n.prototype;p._createSymbol=function(b,a,c){this.removeAll();var d=a.hostModel,k=a.getItemVisual(c,"color"),k=f.createSymbol(b,-.5,-.5,1,1,k);k.attr({z2:100,culling:!0,scale:[0,0]});k.drift=l;a=m(a.getItemVisual(c,"symbolSize"));e.initProps(k,{scale:a},d,c);this._symbolType=b;this.add(k)};p.stopSymbolAnimation=function(b){this.childAt(0).stopAnimation(b)};p.getSymbolPath=function(){return this.childAt(0)};p.getScale=function(){return this.childAt(0).scale};p.highlight=function(){this.childAt(0).trigger("emphasis")};p.downplay=function(){this.childAt(0).trigger("normal")};p.setZ=function(b,a){var c=this.childAt(0);c.zlevel=b;c.z=a};p.setDraggable=function(b){var a=this.childAt(0);a.draggable=b;a.cursor=b?"move":"pointer"};p.updateData=function(b,a,c){this.silent=!1;var d=b.getItemVisual(a,"symbol")||"circle",k=b.hostModel,q=m(b.getItemVisual(a,"symbolSize"));d!==this._symbolType?this._createSymbol(d,b,a):(d=this.childAt(0),e.updateProps(d,{scale:q},k,a));this._updateCommon(b,a,q,c);this._seriesModel=k};var c=["itemStyle","normal"],b=["itemStyle","emphasis"],k=["label","normal"],q=["label","emphasis"];p._updateCommon=function(a,f,l,n){var v=this.childAt(0),t=a.hostModel,A=a.getItemVisual(f,"color");"image"!==v.type&&v.useStyle({strokeNoScale:!0});var p=(n=n||null)&&n.itemStyle,w=n&&n.hoverItemStyle,r=n&&n.symbolRotate,B=n&&n.symbolOffset,D=n&&n.labelModel,J=n&&n.hoverLabelModel,E=n&&n.hoverAnimation;!n||a.hasItemOption?(E=a.getItemModel(f),p=E.getModel(c).getItemStyle(["color"]),w=E.getModel(b).getItemStyle(),r=E.getShallow("symbolRotate"),B=E.getShallow("symbolOffset"),D=E.getModel(k),J=E.getModel(q),E=E.getShallow("hoverAnimation")):w=h.extend({},w);n=v.style;v.rotation=(r||0)*Math.PI/180||0;B&&v.attr("position",[d.parsePercent(B[0],l[0]),d.parsePercent(B[1],l[1])]);v.setColor(A);v.setStyle(p);l=a.getItemVisual(f,"opacity");null!=l&&(n.opacity=l);l=a.dimensions.slice();for(var H,F;l.length&&(H=l.pop(),F=a.getDimensionInfo(H).type,"ordinal"===F||"time"===F););null!=H&&D.getShallow("show")?(e.setText(n,D,A),n.text=h.retrieve(t.getFormattedLabel(f,"normal"),a.get(H,f))):n.text="";null!=H&&J.getShallow("show")?(e.setText(w,J,A),w.text=h.retrieve(t.getFormattedLabel(f,"emphasis"),a.get(H,f))):w.text="";var K=m(a.getItemVisual(f,"symbolSize"));v.off("mouseover").off("mouseout").off("emphasis").off("normal");v.hoverStyle=w;e.setHoverStyle(v);E&&t.ifEnableAnimation()&&(a=function(){this.animateTo({scale:[Math.max(1.1*K[0],K[0]+3),Math.max(1.1*K[1],K[1]+K[1]/K[0]*3)]},400,"elasticOut")},f=function(){this.animateTo({scale:K},400,"elasticOut")},v.on("mouseover",a).on("mouseout",f).on("emphasis",a).on("normal",f))};p.fadeOut=function(b){var a=this.childAt(0);this.silent=!0;a.style.text="";e.updateProps(a,{scale:[0,0]},this._seriesModel,this.dataIndex,b)};h.inherits(n,e.Group);r.exports=n},function(r,p,a){var m=a(43),n=a(9);p=m.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(b,a){var c=a.cx,d=a.cy,e=a.width/2,f=a.height/2;b.moveTo(c,d-f);b.lineTo(c+e,d+f);b.lineTo(c-e,d+f);b.closePath()}});a=m.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(b,a){var c=a.cx,d=a.cy,e=a.width/2,f=a.height/2;b.moveTo(c,d-f);b.lineTo(c+e,d);b.lineTo(c,d+f);b.lineTo(c-e,d);b.closePath()}});var l=m.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(b,a){var c=a.x,d=a.y,e=a.width/5*3,f=Math.max(e,a.height),h=e/2,e=h*h/(f-h),f=d-f+h+e,l=Math.asin(e/h),n=Math.cos(l)*h,m=Math.sin(l),w=Math.cos(l);b.arc(c,f,h,Math.PI-l,2*Math.PI+l);l=.6*h;h*=.7;b.bezierCurveTo(c+n-m*l,f+e+w*l,c,d-h,c,d);b.bezierCurveTo(c,d-h,c-n+m*l,f+e+w*l,c-n,f+e);b.closePath()}}),h=m.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(b,a){var c=a.height,d=a.x,e=a.y,f=a.width/3*2;b.moveTo(d,e);b.lineTo(d+f,e+c);b.lineTo(d,e+c/4*3);b.lineTo(d-f,e+c);b.lineTo(d,e);b.closePath()}});p={line:m.Line,rect:m.Rect,roundRect:m.Rect,square:m.Rect,circle:m.Circle,diamond:a,pin:l,arrow:h,triangle:p};var f={line:function(b,a,c,d,e){e.x1=b;e.y1=a+d/2;e.x2=b+c;e.y2=a+d/2},rect:function(b,a,c,d,e){e.x=b;e.y=a;e.width=c;e.height=d},roundRect:function(b,a,c,d,e){e.x=b;e.y=a;e.width=c;e.height=d;e.r=Math.min(c,d)/4},square:function(b,a,c,d,e){c=Math.min(c,d);e.x=b;e.y=a;e.width=c;e.height=c},circle:function(b,a,c,d,e){e.cx=b+c/2;e.cy=a+d/2;e.r=Math.min(c,d)/2},diamond:function(b,a,c,d,e){e.cx=b+c/2;e.cy=a+d/2;e.width=c;e.height=d},pin:function(b,a,c,d,e){e.x=b+c/2;e.y=a+d/2;e.width=c;e.height=d},arrow:function(b,a,c,d,e){e.x=b+c/2;e.y=a+d/2;e.width=c;e.height=d},triangle:function(b,a,c,d,e){e.cx=b+c/2;e.cy=a+d/2;e.width=c;e.height=d}},e={},d;for(d in p)e[d]=new p[d];var c=m.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var b=this.style;"pin"===this.shape.symbolType&&"inside"===b.textPosition&&(b.textPosition=["50%","40%"],b.textAlign="center",b.textVerticalAlign="middle")},buildPath:function(b,a,c){var d=a.symbolType,h=e[d];"none"!==a.symbolType&&(h||(d="rect",h=e[d]),f[d](a.x,a.y,a.width,a.height,h.shape),h.buildPath(b,h.shape,c))}}),b=function(b){if("image"!==this.type){var a=this.style,c=this.shape;c&&"line"===c.symbolType?a.stroke=b:this.__isEmptyBrush?(a.stroke=b,a.fill="#fff"):(a.fill&&(a.fill=b),a.stroke&&(a.stroke=b));this.dirty(!1)}};r.exports={createSymbol:function(a,d,g,e,f,h){var l=0===a.indexOf("empty");l&&(a=a.substr(5,1).toLowerCase()+a.substr(6));a=0===a.indexOf("image://")?new m.Image({style:{image:a.slice(8),x:d,y:g,width:e,height:f}}):0===a.indexOf("path://")?m.makePath(a.slice(7),{},new n(d,g,e,f)):new c({shape:{symbolType:a,x:d,y:g,width:e,height:f}});a.__isEmptyBrush=l;a.setColor=b;a.setColor(h);return a}}},function(r,p){function a(a){return 0<=a?1:-1}function m(l,h,f){for(var e=l.getBaseAxis(),d=l.getOtherAxis(e),c=e.onZero?0:d.scale.getExtent()[0],d=d.dim,b="x"===d||"radius"===d?1:0,k,q=h.stackedOn,g=h.get(d,f);q&&a(q.get(d,f))===a(g);){k=q;break}q=[];q[b]=h.get(e.dim,f);q[1-b]=k?k.get(d,f,!0):c;return l.dataToPoint(q)}function n(a,h){var f=[];h.diff(a).add(function(a){f.push({cmd:"+",idx:a})}).update(function(a,d){f.push({cmd:"\x3d",idx:d,idx1:a})}).remove(function(a){f.push({cmd:"-",idx:a})}).execute();return f}r.exports=function(a,h,f,e,d,c){for(var b=n(a,h),k=[],q=[],g=[],u=[],y=[],x=[],v=[],t=c.dimensions,A=0;A<b.length;A++){var p=b[A],w=!0;switch(p.cmd){case "\x3d":var r=a.getItemLayout(p.idx),B=h.getItemLayout(p.idx1);if(isNaN(r[0])||isNaN(r[1]))r=B.slice();k.push(r);q.push(B);g.push(f[p.idx]);u.push(e[p.idx1]);v.push(h.getRawIndex(p.idx1));break;case "+":r=p.idx;k.push(d.dataToPoint([h.get(t[0],r,!0),h.get(t[1],r,!0)]));q.push(h.getItemLayout(r).slice());g.push(m(d,h,r));u.push(e[r]);v.push(h.getRawIndex(r));break;case "-":r=p.idx,B=a.getRawIndex(r),B!==r?(k.push(a.getItemLayout(r)),q.push(c.dataToPoint([a.get(t[0],r,!0),a.get(t[1],r,!0)])),g.push(f[r]),u.push(m(c,a,r)),v.push(B)):w=!1}w&&(y.push(p),x.push(x.length))}x.sort(function(b,a){return v[b]-v[a]});a=[];h=[];f=[];e=[];d=[];for(A=0;A<x.length;A++)r=x[A],a[A]=k[r],h[A]=q[r],f[A]=g[r],e[A]=u[r],d[A]=y[r];return{current:a,next:h,stackedOnCurrent:f,stackedOnNext:e,status:d}}},function(r,p,a){function m(b){return isNaN(b[0])||isNaN(b[1])}function n(a,l,n,x,v,t,A,p,w,r,B){for(var D=0,J=n,E=0;E<x;E++){var H=l[J];if(J>=v||0>J)break;if(m(H)){if(B){J+=t;continue}break}if(J===n)a[0<t?"moveTo":"lineTo"](H[0],H[1]),c(k,H);else if(0<w){var F=J+t,K=l[F];if(B)for(;K&&m(l[F]);)F+=t,K=l[F];var M=.5,D=l[D],K=l[F];!K||m(K)?c(q,H):(m(K)&&!B&&(K=H),h.sub(b,K,D),"x"===r||"y"===r?(M="x"===r?0:1,F=Math.abs(H[M]-D[M]),K=Math.abs(H[M]-K[M])):(F=h.dist(H,D),K=h.dist(H,K)),M=K/(K+F),d(q,H,b,-w*(1-M)));f(k,k,p);e(k,k,A);f(q,q,p);e(q,q,A);a.bezierCurveTo(k[0],k[1],q[0],q[1],H[0],H[1]);d(k,H,b,w*M)}else a.lineTo(H[0],H[1]);D=J;J+=t}return E}function l(b,a){var c=[Infinity,Infinity],d=[-Infinity,-Infinity];if(a)for(var k=0;k<b.length;k++){var e=b[k];e[0]<c[0]&&(c[0]=e[0]);e[1]<c[1]&&(c[1]=e[1]);e[0]>d[0]&&(d[0]=e[0]);e[1]>d[1]&&(d[1]=e[1])}return{min:a?c:d,max:a?d:c}}p=a(45);var h=a(10),f=h.min,e=h.max,d=h.scaleAndAdd,c=h.copy,b=[],k=[],q=[];r.exports={Polyline:p.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(b,a){var c=a.points,d=0,k=c.length,e=l(c,a.smoothConstraint);if(a.connectNulls){for(;0<k&&m(c[k-1]);k--);for(;d<k&&m(c[d]);d++);}for(;d<k;)d+=n(b,c,d,k,k,1,e.min,e.max,a.smooth,a.smoothMonotone,a.connectNulls)+1}}),Polygon:p.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(b,a){var c=a.points,d=a.stackedOnPoints,k=0,e=c.length,q=a.smoothMonotone,f=l(c,a.smoothConstraint),h=l(d,a.smoothConstraint);if(a.connectNulls){for(;0<e&&m(c[e-1]);e--);for(;k<e&&m(c[k]);k++);}for(;k<e;){var p=n(b,c,k,e,e,1,f.min,f.max,a.smooth,q,a.connectNulls);n(b,d,k+p-1,p,e,-1,h.min,h.max,a.stackedOnSmooth,q,a.connectNulls);k+=p+1;b.closePath()}}})}},function(r,p){r.exports=function(a,m,n,l,h){l.eachRawSeriesByType(a,function(a){var e=a.getData(),d=a.get("symbol")||m,c=a.get("symbolSize");e.setVisual({legendSymbol:n||d,symbol:d,symbolSize:c});l.isSeriesFiltered(a)||("function"===typeof c&&e.each(function(b){var d=a.getRawValue(b),q=a.getDataParams(b);e.setItemVisual(b,"symbolSize",c(d,q))}),e.each(function(b){var a=e.getItemModel(b),c=a.getShallow("symbol",!0),a=a.getShallow("symbolSize",!0);null!=c&&e.setItemVisual(b,"symbol",c);null!=a&&e.setItemVisual(b,"symbolSize",a)}))})}},function(r,p){r.exports=function(a,m){m.eachSeriesByType(a,function(a){var l=a.getData(),h=a.coordinateSystem;h&&(a=h.dimensions,"singleAxis"===h.type?l.each(a[0],function(a,e){l.setItemLayout(e,isNaN(a)?[NaN,NaN]:h.dataToPoint(a))}):l.each(a,function(a,e,d){l.setItemLayout(d,isNaN(a)||isNaN(e)?[NaN,NaN]:h.dataToPoint([a,e]))},!0))})}},function(r,p){var a={average:function(a){for(var l=0,h=0,f=0;f<a.length;f++)isNaN(a[f])||(l+=a[f],h++);return 0===h?NaN:l/h},sum:function(a){for(var l=0,h=0;h<a.length;h++)l+=a[h]||0;return l},max:function(a){for(var l=-Infinity,h=0;h<a.length;h++)a[h]>l&&(l=a[h]);return l},min:function(a){for(var l=Infinity,h=0;h<a.length;h++)a[h]<l&&(l=a[h]);return l},nearest:function(a){return a[0]}},m=function(a,l){return Math.round(a.length/2)};r.exports=function(n,l,h){l.eachSeriesByType(n,function(f){var e=f.getData(),d=f.get("sampling"),c=f.coordinateSystem;if("cartesian2d"===c.type&&d){var b=c.getBaseAxis(),c=c.getOtherAxis(b),b=b.getExtent(),b=b[1]-b[0],b=Math.round(e.count()/b);if(1<b){var k;"string"===typeof d?k=a[d]:"function"===typeof d&&(k=d);k&&(e=e.downSample(c.dim,1/b,k,m),f.setData(e))}}},this)}},function(r,p,a){var m=a(43),n=a(4);r=a(1);a(113);a(130);r.extendComponentView({type:"grid",render:function(a,h){this.group.removeAll();a.get("show")&&this.group.add(new m.Rect({shape:a.coordinateSystem.getRect(),style:n.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0}))}});r.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})})},function(r,p,a){function m(b,a,c){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(b,a,c);this._model=b}function n(b,a){var c=b.getExtent(),d=c[0]+c[1];b.toGlobalCoord="x"===b.dim?function(b){return b+a}:function(b){return d-b+a};b.toLocalCoord="x"===b.dim?function(b){return b-a}:function(b){return d-b+a}}function l(b,a){return d.map(u,function(c){var g=a.queryComponents({mainType:c,index:b.get(c+"Index"),id:b.get(c+"Id")})[0];if(!g)throw Error(c+' "'+d.retrieve(b.get(c+"Index"),b.get(c+"Id"),0)+'" not found');return g})}function h(b){return"cartesian2d"===b.get("coordinateSystem")}var f=a(21),e=a(114),d=a(4),c=a(120),b=a(122),k=d.each,q=e.ifAxisCrossZero,g=e.niceScaleExtent;a(125);p=m.prototype;p.type="grid";p.getRect=function(){return this._rect};p.update=function(b,a){function c(b){b=d[b];for(var a in b){var g=b[a];if(g&&("category"===g.type||!q(g)))return!0}return!1}var d=this._axesMap;this._updateScale(b,this._model);k(d.x,function(b){g(b,b.model)});k(d.y,function(b){g(b,b.model)});k(d.x,function(b){c("y")&&(b.onZero=!1)});k(d.y,function(b){c("x")&&(b.onZero=!1)});this.resize(this._model,a)};p.resize=function(b,a){function c(){k(g,function(b){var a=b.isHorizontal(),c=a?[0,d.width]:[0,d.height],g=b.inverse?1:0;b.setExtent(c[g],c[1-g]);n(b,a?d.x:d.y)})}var d=f.getLayoutRect(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()});this._rect=d;var g=this._axesList;c();b.get("containLabel")&&(k(g,function(b){if(!b.model.get("axisLabel.inside")){var a;a=b.model;var c=a.getFormattedLabels(),g,k=1,e=c.length;40<e&&(k=Math.ceil(e/40));for(var q=0;q<e;q+=k)if(!b.isLabelIgnored(q)){var f=a.getTextRect(c[q]);g?g.union(f):g=f}if(a=g)c=b.isHorizontal()?"height":"width",g=b.model.get("axisLabel.margin"),d[c]-=a[c]+g,"top"===b.position?d.y+=a.height+g:"left"===b.position&&(d.x+=a.width+g)}}),c())};p.getAxis=function(b,a){var c=this._axesMap[b];if(null!=c){if(null==a)for(var d in c)return c[d];return c[a]}};p.getCartesian=function(b,a){if(null!=b&&null!=a)return this._coordsMap["x"+b+"y"+a];for(var c=0,d=this._coordsList;c<d.length;c++)if(d[c].getAxis("x").index===b||d[c].getAxis("y").index===a)return d[c]};p._initCartesian=function(a,d,g){function q(c){return function(d,g){if(d.findGridModel()===a){var k=d.get("position");"x"===c?"top"!==k&&"bottom"!==k&&(k="bottom",f[k]&&(k="top"===k?"bottom":"top")):"left"!==k&&"right"!==k&&(k="left",f[k]&&(k="left"===k?"right":"left"));f[k]=!0;k=new b(c,e.createScaleByModel(d),[0,0],d.get("type"),k);k.onBand="category"===k.type&&d.get("boundaryGap");k.inverse=d.get("inverse");k.onZero=d.get("axisLine.onZero");d.axis=k;k.model=d;k.grid=this;k.index=g;this._axesList.push(k);h[c][g]=k;l[c]++}}}var f={left:!1,right:!1,top:!1,bottom:!1},h={x:{},y:{}},l={x:0,y:0};d.eachComponent("xAxis",q("x"),this);d.eachComponent("yAxis",q("y"),this);l.x&&l.y?(this._axesMap=h,k(h.x,function(b,a){k(h.y,function(d,g){var k="x"+a+"y"+g,e=new c(k);e.grid=this;this._coordsMap[k]=e;this._coordsList.push(e);e.addAxis(b);e.addAxis(d)},this)},this)):(this._axesMap={},this._axesList=[])};p._updateScale=function(b,a){function c(b,a,d){k(d.coordDimToDataDim(a.dim),function(c){a.scale.unionExtent(b.getDataExtent(c,"ordinal"!==a.scale.type))})}d.each(this._axesList,function(b){b.scale.setExtent(Infinity,-Infinity)});b.eachSeries(function(d){if(h(d)){var g=l(d,b),k=g[0],g=g[1],e;(e=k.findGridModel()!==a)||(e=g.findGridModel()!==a);e||(e=this.getCartesian(k.componentIndex,g.componentIndex),k=d.getData(),g=e.getAxis("x"),e=e.getAxis("y"),"list"===k.type&&(c(k,g,d),c(k,e,d)))}},this)};var u=["xAxis","yAxis"];m.create=function(b,a){var c=[];b.eachComponent("grid",function(d,g){var k=new m(d,b,a);k.name="grid_"+g;k.resize(d,a);d.coordinateSystem=k;c.push(k)});b.eachSeries(function(a){if(h(a)){var c=l(a,b),g=c[0],c=c[1],k=g.findGridModel();if(!k)throw Error('Grid "'+d.retrieve(g.get("gridIndex"),g.get("gridId"),0)+'" not found');if(g.findGridModel()!==c.findGridModel())throw Error("xAxis and yAxis must use the same grid");a.coordinateSystem=k.coordinateSystem.getCartesian(g.componentIndex,c.componentIndex)}});return c};m.dimensions=c.prototype.dimensions;a(26).register("cartesian2d",m);r.exports=m},function(r,p,a){var m=a(115),n=a(117);a(118);a(119);var l=a(116),h=a(7),f=a(4),e=a(8),d={getScaleExtent:function(a,b){var d=a.scale,e=d.getExtent(),g=e[1]-e[0];if("ordinal"===d.type)return isFinite(g)?e:[0,0];var d=b.getMin?b.getMin():b.get("min"),l=b.getMax?b.getMax():b.get("max"),m=b.getNeedCrossZero?b.getNeedCrossZero():!b.get("scale"),n=b.get("boundaryGap");f.isArray(n)||(n=[n||0,n||0]);n[0]=h.parsePercent(n[0],1);n[1]=h.parsePercent(n[1],1);var v=!0,t=!0;null==d&&(d=e[0]-n[0]*g,v=!1);null==l&&(l=e[1]+n[1]*g,t=!1);"dataMin"===d&&(d=e[0]);"dataMax"===l&&(l=e[1]);m&&(0<d&&0<l&&!v&&(d=0),0>d&&0>l&&!t&&(l=0));return[d,l]},niceScaleExtent:function(a,b){var k=a.scale,e=d.getScaleExtent(a,b),g=null!=(b.getMin?b.getMin():b.get("min")),f=null!=(b.getMax?b.getMax():b.get("max")),h=b.get("splitNumber");"log"===k.type&&(k.base=b.get("logBase"));k.setExtent(e[0],e[1]);k.niceExtent(h,g,f);e=b.get("minInterval");!isFinite(e)||g||f||"interval"!==k.type||(g=k.getInterval(),g=Math.max(Math.abs(g),e)/g,e=k.getExtent(),k.setExtent(g*e[0],e[1]*g),k.niceExtent(h));g=b.get("interval");null!=g&&k.setInterval&&k.setInterval(g)},createScaleByModel:function(a,b){if(b=b||a.get("type"))switch(b){case "category":return new m(a.getCategories(),[Infinity,-Infinity]);case "value":return new n;default:return(l.getClass(b)||n).create(a)}},ifAxisCrossZero:function(a){var b=a.scale.getExtent();a=b[0];b=b[1];return!(0<a&&0<b||0>a&&0>b)},getAxisLabelInterval:function(a,b,d,q){var g,f=0,h=0,l=1;40<b.length&&(l=Math.floor(b.length/40));for(var n=0;n<a.length;n+=l){var m=a[n],p=e.getBoundingRect(b[n],d,"center","top");p[q?"x":"y"]+=m;p[q?"width":"height"]*=1.3;g?g.intersect(p)?(h++,f=Math.max(f,h)):(g.union(p),h=0):g=p.clone()}return 0===f&&1<l?l:(f+1)*l-1},getFormattedLabels:function(a,b){var d=a.scale,e=d.getTicksLabels(),g=d.getTicks();return"string"===typeof b?(b=function(b){return function(a){return b.replace("{value}",a)}}(b),f.map(e,b)):"function"===typeof b?f.map(g,function(g,e){return b("category"===a.type?d.getLabel(g):g,e)},this):e}};r.exports=d},function(r,p,a){var m=a(4);p=a(116);var n=p.prototype,l=p.extend({type:"ordinal",init:function(a,f){this._data=a;this._extent=f||[0,a.length-1]},parse:function(a){return"string"===typeof a?m.indexOf(this._data,a):Math.round(a)},contain:function(a){a=this.parse(a);return n.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return n.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(n.scale.call(this,a))},getTicks:function(){for(var a=[],f=this._extent,e=f[0];e<=f[1];)a.push(e),e++;return a},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:m.noop,niceExtent:m.noop});l.create=function(){return new l};r.exports=l},function(r,p,a){function m(){this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}p=a(13);a=m.prototype;a.parse=function(a){return a};a.contain=function(a){var l=this._extent;return a>=l[0]&&a<=l[1]};a.normalize=function(a){var l=this._extent;return l[1]===l[0]?.5:(a-l[0])/(l[1]-l[0])};a.scale=function(a){var l=this._extent;return a*(l[1]-l[0])+l[0]};a.unionExtent=function(a){var l=this._extent;a[0]<l[0]&&(l[0]=a[0]);a[1]>l[1]&&(l[1]=a[1])};a.getExtent=function(){return this._extent.slice()};a.setExtent=function(a,l){var h=this._extent;isNaN(a)||(h[0]=a);isNaN(l)||(h[1]=l)};a.getTicksLabels=function(){for(var a=[],l=this.getTicks(),h=0;h<l.length;h++)a.push(this.getLabel(l[h]));return a};p.enableClassExtend(m);p.enableClassManagement(m,{registerWhenExtend:!0});r.exports=m},function(r,p,a){var m=a(7),n=a(6);p=a(116);var l=Math.floor,h=Math.ceil,f=m.getPrecisionSafe,e=m.round,d=p.extend({type:"interval",_interval:0,setExtent:function(a,b){var d=this._extent;isNaN(a)||(d[0]=parseFloat(a));isNaN(b)||(d[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1]);d.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){this._interval||this.niceTicks();return this._interval},setInterval:function(a){this._interval=a;this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var a=this._interval,b=this._extent,d=[];if(a){var q=this._niceExtent,g=f(a)+2;b[0]<q[0]&&d.push(b[0]);for(var h=q[0];h<=q[1];)if(d.push(h),h=e(h+a,g),1E4<d.length)return[];b[1]>q[1]&&d.push(b[1])}return d},getTicksLabels:function(){for(var a=[],b=this.getTicks(),d=0;d<b.length;d++)a.push(this.getLabel(b[d]));return a},getLabel:function(a){return n.addCommas(a)},niceTicks:function(a){a=a||5;var b=this._extent,d=b[1]-b[0];isFinite(d)&&(0>d&&(d=-d,b.reverse()),a=e(m.nice(d/a,!0),Math.max(f(b[0]),f(b[1]))+2),d=f(a)+2,b=[e(h(b[0]/a)*a,d),e(l(b[1]/a)*a,d)],this._interval=a,this._niceExtent=b)},niceExtent:function(a,b,d){var q=this._extent;if(q[0]===q[1])if(0!==q[0]){var g=q[0];d||(q[1]+=g/2);q[0]-=g/2}else q[1]=1;isFinite(q[1]-q[0])||(q[0]=0,q[1]=1);this.niceTicks(a);a=this._interval;b||(q[0]=e(l(q[0]/a)*a));d||(q[1]=e(h(q[1]/a)*a))}});d.create=function(){return new d};r.exports=d},function(r,p,a){p=a(4);var m=a(7),n=a(6);a=a(117);var l=a.prototype,h=Math.ceil,f=Math.floor,e=a.extend({type:"time",getLabel:function(a){return n.formatTime(this._stepLvl[0],new Date(a))},niceExtent:function(a,b,d){var e=this._extent;e[0]===e[1]&&(e[0]-=864E5,e[1]+=864E5);if(-Infinity===e[1]&&Infinity===e[0]){var g=new Date;e[1]=new Date(g.getFullYear(),g.getMonth(),g.getDate());e[0]=e[1]-864E5}this.niceTicks(a);a=this._interval;b||(e[0]=m.round(f(e[0]/a)*a));d||(e[1]=m.round(h(e[1]/a)*a))},niceTicks:function(a){a=a||10;for(var b=this._extent,e=b[1]-b[0],q=d.length,g=0,l=q;g<l;){var n=g+l>>>1;d[n][2]<e/a?g=n+1:l=n}q=d[Math.min(g,q-1)];g=q[2];"year"===q[0]&&(a=m.nice(e/g/a,!0),g*=a);b=[h(b[0]/g)*g,f(b[1]/g)*g];this._stepLvl=q;this._interval=g;this._niceExtent=b},parse:function(a){return+m.parseDate(a)}});p.each(["contain","normalize"],function(a){e.prototype[a]=function(b){return l[a].call(this,this.parse(b))}});var d=[["hh:mm:ss",1,1E3],["hh:mm:ss",5,5E3],["hh:mm:ss",10,1E4],["hh:mm:ss",15,15E3],["hh:mm:ss",30,3E4],["hh:mm\nMM-dd",1,6E4],["hh:mm\nMM-dd",5,3E5],["hh:mm\nMM-dd",10,6E5],["hh:mm\nMM-dd",15,9E5],["hh:mm\nMM-dd",30,18E5],["hh:mm\nMM-dd",1,36E5],["hh:mm\nMM-dd",2,72E5],["hh:mm\nMM-dd",6,216E5],["hh:mm\nMM-dd",12,432E5],["MM-dd\nyyyy",1,864E5],["week",7,6048E5],["month",1,26784E5],["quarter",3,8208E6],["half-year",6,16416E6],["year",1,32832E6]];e.create=function(){return new e};r.exports=e},function(r,p,a){var m=a(4);p=a(116);var n=a(7);a=a(117);var l=p.prototype,h=a.prototype,f=Math.floor,e=Math.ceil,d=Math.pow,c=Math.log,b=p.extend({type:"log",base:10,getTicks:function(){return m.map(h.getTicks.call(this),function(a){return n.round(d(this.base,a))},this)},getLabel:h.getLabel,scale:function(a){a=l.scale.call(this,a);return d(this.base,a)},setExtent:function(a,b){var d=this.base;a=c(a)/c(d);b=c(b)/c(d);h.setExtent.call(this,a,b)},getExtent:function(){var a=this.base,b=l.getExtent.call(this);b[0]=d(a,b[0]);b[1]=d(a,b[1]);return b},unionExtent:function(a){var b=this.base;a[0]=c(a[0])/c(b);a[1]=c(a[1])/c(b);l.unionExtent.call(this,a)},niceTicks:function(a){a=a||10;var b=this._extent,c=b[1]-b[0];if(!(Infinity===c||0>=c)){var d=n.quantity(c);for(.5>=a/c*d&&(d*=10);!isNaN(d)&&1>Math.abs(d)&&0<Math.abs(d);)d*=10;a=[n.round(e(b[0]/d)*d),n.round(f(b[1]/d)*d)];this._interval=d;this._niceExtent=a}},niceExtent:h.niceExtent});m.each(["contain","normalize"],function(a){b.prototype[a]=function(b){b=c(b)/c(this.base);return l[a].call(this,b)}});b.create=function(){return new b};r.exports=b},function(r,p,a){function m(a){n.call(this,a)}p=a(4);var n=a(121);m.prototype={constructor:m,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var h=this.getAxis("x"),f=this.getAxis("y");return h.contain(h.toLocalCoord(a[0]))&&f.contain(f.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoints:function(a,h){return a.mapArray(["x","y"],function(a,e){return this.dataToPoint([a,e])},h,this)},dataToPoint:function(a,h){var f=this.getAxis("x"),e=this.getAxis("y");return[f.toGlobalCoord(f.dataToCoord(a[0],h)),e.toGlobalCoord(e.dataToCoord(a[1],h))]},pointToData:function(a,h){var f=this.getAxis("x"),e=this.getAxis("y");return[f.coordToData(f.toLocalCoord(a[0]),h),e.coordToData(e.toLocalCoord(a[1]),h)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}};p.inherits(m,n);r.exports=m},function(r,p,a){function m(a){return this._axes[a]}var n=a(4);p=function(a){this._axes={};this._dimList=[];this.name=a||""};p.prototype={constructor:p,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return n.map(this._dimList,m,this)},getAxesByScale:function(a){a=a.toLowerCase();return n.filter(this.getAxes(),function(h){return h.scale.type===a})},addAxis:function(a){var h=a.dim;this._axes[h]=a;this._dimList.push(h)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,h){for(var f=this._dimList,e=a instanceof Array?[]:{},d=0;d<f.length;d++){var c=f[d];e[c]=this._axes[c][h](a[c])}return e}};r.exports=p},function(r,p,a){p=a(4);var m=a(123),n=a(124);a=function(a,h,f,e,d){m.call(this,a,h,f);this.type=e||"value";this.position=d||"bottom"};a.prototype={constructor:a,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(){var a=this.getExtent();a[0]=this.toGlobalCoord(a[0]);a[1]=this.toGlobalCoord(a[1]);return a},getLabelInterval:function(){var a=this._labelInterval;a||(a=this._labelInterval=n(this));return a},isLabelIgnored:function(a){if("category"===this.type){var h=this.getLabelInterval();return"function"===typeof h&&!h(a,this.scale.getLabel(a))||a%(h+1)}},toLocalCoord:null,toGlobalCoord:null};p.inherits(a,m);r.exports=a},function(r,p,a){function m(a,d){var c=(a[1]-a[0])/d/2;a[0]+=c;a[1]-=c}var n=a(7),l=n.linearMap,h=a(4),f=[0,1];p=function(a,d,c){this.dim=a;this.scale=d;this._extent=c||[0,0];this.onBand=this.inverse=!1};p.prototype={constructor:p,contain:function(a){var d=this._extent,c=Math.max(d[0],d[1]);return a>=Math.min(d[0],d[1])&&a<=c},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return n.getPixelPrecision(a||this.scale.getExtent(),this._extent)},setExtent:function(a,d){var c=this._extent;c[0]=a;c[1]=d},dataToCoord:function(a,d){var c=this._extent,b=this.scale;a=b.normalize(a);this.onBand&&"ordinal"===b.type&&(c=c.slice(),m(c,b.count()));return l(a,f,c,d)},coordToData:function(a,d){var c=this._extent,b=this.scale;this.onBand&&"ordinal"===b.type&&(c=c.slice(),m(c,b.count()));c=l(a,c,f,d);return this.scale.scale(c)},getTicksCoords:function(a){if(this.onBand&&!a){a=this.getBands();for(var d=[],c=0;c<a.length;c++)d.push(a[c][0]);a[c-1]&&d.push(a[c-1][1]);return d}return h.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return h.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var a=this.getExtent(),d=[],c=this.scale.count(),b=a[0],a=a[1]-b,k=0;k<c;k++)d.push([a*k/c+b,a*(k+1)/c+b]);return d},getBandWidth:function(){var a=this._extent,d=this.scale.getExtent(),d=d[1]-d[0]+(this.onBand?1:0);0===d&&(d=1);return Math.abs(Math.abs(a[1]-a[0]))/d}};r.exports=p},function(r,p,a){var m=a(4),n=a(114);r.exports=function(a){var h=a.model,f=h.getModel("axisLabel"),e=f.get("interval");return"category"!==a.type||"auto"!==e?"auto"===e?0:e:n.getAxisLabelInterval(m.map(a.scale.getTicks(),a.dataToCoord,a),h.getFormattedLabels(),f.getModel("textStyle").getFont(),a.isHorizontal())}},function(r,p,a){a(126);p=a(19);r.exports=p.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(r,p,a){function m(a,e){return e.type||(e.data?"category":"value")}var n=a(19),l=a(4);p=a(127);var h=n.extend({type:"cartesian2dAxis",axis:null,init:function(){h.superApply(this,"init",arguments);this._resetRange()},mergeOption:function(){h.superApply(this,"mergeOption",arguments);this._resetRange()},restoreData:function(){h.superApply(this,"restoreData",arguments);this._resetRange()},setRange:function(a,e){this.option.rangeStart=a;this.option.rangeEnd=e},getMin:function(){var a=this.option;return null!=a.rangeStart?a.rangeStart:a.min},getMax:function(){var a=this.option;return null!=a.rangeEnd?a.rangeEnd:a.max},getNeedCrossZero:function(){var a=this.option;return null!=a.rangeStart||null!=a.rangeEnd?!1:!a.scale},findGridModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.get("gridIndex"),id:this.get("gridId")})[0]},_resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}});l.merge(h.prototype,a(129));a={offset:0};p("x",h,m,a);p("y",h,m,a);r.exports=h},function(r,p,a){var m=a(128),n=a(4),l=a(19),h=a(21),f=["value","category","time","log"];r.exports=function(a,d,c,b){n.each(f,function(k){d.extend({type:a+"Axis."+k,mergeDefaultAndTheme:function(b,d){var f=this.layoutMode,l=f?h.getLayoutParams(b):{},m=d.getTheme();n.merge(b,m.get(k+"Axis"));n.merge(b,this.getDefaultOption());b.type=c(a,b);f&&h.mergeLayoutParam(b,l,f)},defaultOption:n.mergeAll([{},m[k+"Axis"],b],!0)})});l.registerSubTypeDefaulter(a+"Axis",n.curry(c,a))}},function(r,p,a){a=a(4);var m={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};p=a.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},m);var m=a.merge({boundaryGap:[0,0],splitNumber:5},m),n=a.defaults({scale:!0,min:"dataMin",max:"dataMax"},m);a=a.defaults({logBase:10},m);a.scale=!0;r.exports={categoryAxis:p,valueAxis:m,timeAxis:n,logAxis:a}},function(r,p,a){function m(a){return n.isObject(a)&&null!=a.value?a.value:a}var n=a(4),l=a(114);r.exports={getFormattedLabels:function(){return l.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&n.map(this.get("data"),m)}}},function(r,p,a){a(126);a(131)},function(r,p,a){function m(a,c){function d(a,b){var c=g.getAxis(a);return c.toGlobalCoord(c.dataToCoord(0))}var g=a.coordinateSystem,e=c.axis,f={},h=e.position,l=e.onZero?"onZero":h,m=e.dim,n=g.getRect(),n=[n.x,n.x+n.width,n.y,n.y+n.height],p=c.get("offset")||0,p={x:{top:n[2]-p,bottom:n[3]+p},y:{left:n[0]-p,right:n[1]+p}};p.x.onZero=Math.max(Math.min(d("y"),p.x.bottom),p.x.top);p.y.onZero=Math.max(Math.min(d("x"),p.y.right),p.y.left);f.position=["y"===m?p.y[l]:n[0],"x"===m?p.x[l]:n[3]];f.rotation=Math.PI/2*("x"===m?0:1);f.labelDirection=f.tickDirection=f.nameDirection={top:-1,bottom:1,left:-1,right:1}[h];e.onZero&&(f.labelOffset=p[m][h]-p[m].onZero);c.getModel("axisTick").get("inside")&&(f.tickDirection=-f.tickDirection);c.getModel("axisLabel").get("inside")&&(f.labelDirection=-f.labelDirection);h=c.getModel("axisLabel").get("rotate");f.labelRotation="top"===l?-h:h;f.labelInterval=e.getLabelInterval();f.z2=1;return f}var n=a(4),l=a(43),h=a(132),f=h.ifIgnoreOnTick,e=h.getInterval,d=["axisLine","axisLabel","axisTick","axisName"],c=["splitArea","splitLine"];r=a(1).extendComponentView({type:"axis",render:function(a,e){this.group.removeAll();var q=this._axisGroup;this._axisGroup=new l.Group;this.group.add(this._axisGroup);if(a.get("show")){var g=a.findGridModel(),f=m(g,a),y=new h(a,f);n.each(d,y.add,y);this._axisGroup.add(y.getGroup());n.each(c,function(c){if(a.get(c+".show"))this["_"+c](a,g,f.labelInterval)},this);l.groupTransition(q,this._axisGroup,a)}},_splitLine:function(a,c,d){var g=a.axis,h=a.getModel("splitLine"),m=h.getModel("lineStyle");a=m.get("color");d=e(h,d);a=n.isArray(a)?a:[a];c=c.coordinateSystem.getRect();for(var h=g.isHorizontal(),x=0,v=g.getTicksCoords(),t=g.scale.getTicks(),p=[],r=[],m=m.getLineStyle(),w=0;w<v.length;w++)if(!f(g,w,d)){var C=g.toGlobalCoord(v[w]);h?(p[0]=C,p[1]=c.y,r[0]=C,r[1]=c.y+c.height):(p[0]=c.x,p[1]=C,r[0]=c.x+c.width,r[1]=C);C=x++%a.length;this._axisGroup.add(new l.Line(l.subPixelOptimizeLine({anid:"line_"+t[w],shape:{x1:p[0],y1:p[1],x2:r[0],y2:r[1]},style:n.defaults({stroke:a[C]},m),silent:!0})))}},_splitArea:function(a,c,d){var g=a.axis,h=a.getModel("splitArea"),m=h.getModel("areaStyle");a=m.get("color");c=c.coordinateSystem.getRect();var x=g.getTicksCoords(),v=g.scale.getTicks(),t=g.toGlobalCoord(x[0]),p=g.toGlobalCoord(x[0]),r=0;d=e(h,d);m=m.getAreaStyle();a=n.isArray(a)?a:[a];for(h=1;h<x.length;h++)if(!f(g,h,d)){var w=g.toGlobalCoord(x[h]),C;g.isHorizontal()?(p=c.y,C=w-t,w=c.height):(t=c.x,C=c.width,w-=p);var B=r++%a.length;this._axisGroup.add(new l.Rect({anid:"area_"+v[h],shape:{x:t,y:p,width:C,height:w},style:n.defaults({fill:a[B]},m),silent:!0}));t+=C;p+=w}}});r.extend({type:"xAxis"});r.extend({type:"yAxis"})},function(r,p,a){function m(a){var b={componentType:a.mainType};b[a.mainType+"Index"]=a.componentIndex;return b}function n(a,c,d){a=b(c-a.rotation);k(a)?(c=0<d?"top":"bottom",d="center"):k(a-u)?(c=0<d?"bottom":"top",d="center"):(c="middle",d=0<a&&a<u?0<d?"right":"left":0<d?"left":"right");return{rotation:a,textAlign:d,verticalAlign:c}}function l(a,c,d,g){a=b(d-a.rotation);g=g[0]>g[1];g="start"===c&&!g||"start"!==c&&g;k(a-u/2)?(c=g?"bottom":"top",g="center"):k(a-1.5*u)?(c=g?"top":"bottom",g="center"):(c="middle",g=a<1.5*u&&a>u/2?g?"left":"right":g?"right":"left");return{rotation:a,textAlign:g,verticalAlign:c}}function h(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}var f=a(4),e=a(6),d=a(43),c=a(12);p=a(7);var b=p.remRadian,k=p.isRadianAroundZero,q=a(10).applyTransform,g=f.retrieve,u=Math.PI;a=function(a,b){this.opt=b;this.axisModel=a;f.defaults(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new d.Group;var c=new d.Group({position:b.position.slice(),rotation:b.rotation});c.updateTransform();this._transform=c.transform;this._dumbGroup=c};a.prototype={constructor:a,hasBuilder:function(a){return!!y[a]},add:function(a){y[a].call(this)},getGroup:function(){return this.group}};var y={axisLine:function(){var a=this.opt,b=this.axisModel;if(b.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),g=this._transform,e=[c[0],0],c=[c[1],0];g&&(q(e,e,g),q(c,c,g));this.group.add(new d.Line(d.subPixelOptimizeLine({anid:"line",shape:{x1:e[0],y1:e[1],x2:c[0],y2:c[1]},style:f.extend({lineCap:"round"},b.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var a=this.axisModel;if(a.get("axisTick.show"))for(var b=a.axis,c=a.getModel("axisTick"),g=this.opt,e=c.getModel("lineStyle"),k=c.get("length"),h=v(c,g.labelInterval),c=b.getTicksCoords(c.get("alignWithLabel")),l=b.scale.getTicks(),u=[],m=[],n=this._transform,y=0;y<c.length;y++)if(!x(b,y,h)){var p=c[y];u[0]=p;u[1]=0;m[0]=p;m[1]=g.tickDirection*k;n&&(q(u,u,n),q(m,m,n));this.group.add(new d.Line(d.subPixelOptimizeLine({anid:"tick_"+l[y],shape:{x1:u[0],y1:u[1],x2:m[0],y2:m[1]},style:f.defaults(e.getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){function a(b,c){var d=b&&b.getBoundingRect().clone(),g=c&&c.getBoundingRect().clone();if(d&&g)return d.applyTransform(b.getLocalTransform()),g.applyTransform(c.getLocalTransform()),d.intersect(g)}var b=this.opt,e=this.axisModel;if(g(b.axisLabelShow,e.get("axisLabel.show"))){for(var k=e.axis,q=e.getModel("axisLabel"),f=q.getModel("textStyle"),l=q.get("margin"),v=k.scale.getTicks(),y=e.getFormattedLabels(),q=g(b.labelRotation,q.get("rotate"))||0,q=q*u/180,p=n(b,q,b.labelDirection),r=e.get("data"),q=[],K=h(e),M=e.get("triggerEvent"),L=0;L<v.length;L++)if(!x(k,L,b.labelInterval)){var I=f;r&&r[L]&&r[L].textStyle&&(I=new c(r[L].textStyle,f,e.ecModel));var G=I.getTextColor()||e.get("axisLine.lineStyle.color"),N=[k.dataToCoord(v[L]),b.labelOffset+b.labelDirection*l],P=k.scale.getLabel(v[L]),I=new d.Text({anid:"label_"+v[L],style:{text:y[L],textAlign:I.get("align",!0)||p.textAlign,textVerticalAlign:I.get("baseline",!0)||p.verticalAlign,textFont:I.getFont(),fill:"function"===typeof G?G(P):G},position:N,rotation:p.rotation,silent:K,z2:10});M&&(I.eventData=m(e),I.eventData.targetType="axisLabel",I.eventData.value=P);this._dumbGroup.add(I);I.updateTransform();q.push(I);this.group.add(I);I.decomposeTransform()}if("category"!==k.type){if(e.getMin?e.getMin():e.get("min"))b=q[0],a(b,q[1])&&(b.ignore=!0);if(e.getMax?e.getMax():e.get("max"))e=q[q.length-1],a(q[q.length-2],e)&&(e.ignore=!0)}}},axisName:function(){var a=this.opt,b=this.axisModel,c=g(a.axisName,b.get("name"));if(c){var k=b.get("nameLocation"),q=a.nameDirection,v=b.getModel("nameTextStyle"),y=b.get("nameGap")||0,x=this.axisModel.axis.getExtent(),p=x[0]>x[1]?-1:1,y=["start"===k?x[0]-p*y:"end"===k?x[1]+p*y:(x[0]+x[1])/2,"middle"===k?a.labelOffset+q*y:0],p=b.get("nameRotate");null!=p&&(p=p*u/180);var r;"middle"===k?k=n(a,null!=p?p:a.rotation,q):(k=l(a,k,p||0,x),r=a.axisNameAvailableWidth,null!=r&&(r=Math.abs(r/Math.sin(k.rotation)),!isFinite(r)&&(r=null)));a=v.getFont();q=b.get("nameTruncate",!0)||{};x=q.ellipsis;r=g(q.maxWidth,r);r=null!=x&&null!=r?e.truncateText(c,r,a,x,{minChar:2,placeholder:q.placeholder}):c;q=b.get("tooltip",!0);x=b.mainType;p={componentType:x,name:c,$vars:["name"]};p[x+"Index"]=b.componentIndex;v=new d.Text({anid:"name",__fullText:c,__truncatedText:r,style:{text:r,textFont:a,fill:v.getTextColor()||b.get("axisLine.lineStyle.color"),textAlign:k.textAlign,textVerticalAlign:k.verticalAlign},position:y,rotation:k.rotation,silent:h(b),z2:1,tooltip:q&&q.show?f.extend({content:c,formatter:function(){return c},formatterParams:p},q):null});b.get("triggerEvent")&&(v.eventData=m(b),v.eventData.targetType="axisName",v.eventData.name=c);this._dumbGroup.add(v);v.updateTransform();this.group.add(v);v.decomposeTransform()}}},x=a.ifIgnoreOnTick=function(a,b,c){var d;a=a.scale;return"ordinal"===a.type&&("function"===typeof c?(d=a.getTicks()[b],!c(d,a.getLabel(d))):b%(c+1))},v=a.getInterval=function(a,b){var c=a.get("interval");if(null==c||"auto"==c)c=b;return c};r.exports=a},function(r,p,a){r=a(4);a(113);a(134);a(135);p=a(137);var m=a(1);m.registerLayout(r.curry(p,"bar"));m.registerVisual(function(a){a.eachSeriesByType("bar",function(a){a.getData().setVisual("legendSymbol","roundRect")})});a(112)},function(r,p,a){p=a(28);var m=a(101);r.exports=p.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(a,l){if("cartesian2d"!==a.coordinateSystem)throw Error("Bar only support cartesian2d coordinateSystem");return m(a.data,this,l)},getMarkerPosition:function(a){var l=this.coordinateSystem;if(l){a=l.dataToPoint(a,!0);var h=this.getData(),f=h.getLayout("offset"),h=h.getLayout("size"),l=l.getBaseAxis().isHorizontal()?0:1;a[l]+=f+h/2;return a}return[NaN,NaN]},brushSelector:"rect",defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}})},function(r,p,a){function m(a,f){var e=0<a.width?1:-1,d=0<a.height?1:-1;f=Math.min(f,Math.abs(a.width),Math.abs(a.height));a.x+=e*f/2;a.y+=d*f/2;a.width-=e*f;a.height-=d*f}var n=a(4),l=a(43);n.extend(a(12).prototype,a(136));r.exports=a(1).extendChartView({type:"bar",render:function(a,f,e){"cartesian2d"===a.get("coordinateSystem")&&this._renderOnCartesian(a,f,e);return this.group},_renderOnCartesian:function(a,f,e){function d(c,d){var e=b.getItemLayout(c),k=b.getItemModel(c).get(u)||0;m(e,k);k=new l.Rect({shape:n.extend({},e)});if(g){var f=q?"height":"width",p={};k.shape[f]=0;p[f]=e[f];l[d?"updateProps":"initProps"](k,{shape:p},a,c)}return k}var c=this.group,b=a.getData(),k=this._data,q=a.coordinateSystem.getBaseAxis().isHorizontal(),g=a.get("animation"),u=["itemStyle","normal","barBorderWidth"];b.diff(k).add(function(a){if(b.hasValue(a)){var g=d(a);b.setItemGraphicEl(a,g);c.add(g)}}).update(function(g,e){var q=k.getItemGraphicEl(e);if(b.hasValue(g)){q||(q=d(g,!0));var f=b.getItemLayout(g),n=b.getItemModel(g).get(u)||0;m(f,n);l.updateProps(q,{shape:f},a,g);b.setItemGraphicEl(g,q);c.add(q)}else c.remove(q)}).remove(function(b){var d=k.getItemGraphicEl(b);d&&(d.style.text="",l.updateProps(d,{shape:{width:0}},a,b,function(){c.remove(d)}))}).execute();this._updateStyle(a,b,q);this._data=b},_updateStyle:function(a,f,e){f.eachItemGraphicEl(function(d,c){var b=f.getItemModel(c),k=f.getItemVisual(c,"color"),q=f.getItemVisual(c,"opacity"),g=f.getItemLayout(c),u=b.getModel("itemStyle.normal"),m=b.getModel("itemStyle.emphasis").getBarItemStyle();d.setShape("r",u.get("barBorderRadius")||0);d.useStyle(n.defaults({fill:k,opacity:q},u.getBarItemStyle()));q=e?0<g.height?"bottom":"top":0<g.width?"left":"right";g=b.getModel("label.normal");b=b.getModel("label.emphasis");u=d.style;if(g.get("show")){var x=n.retrieve(a.getFormattedLabel(c,"normal"),a.getRawValue(c));l.setText(u,g,k);u.text=x;"outside"===u.textPosition&&(u.textPosition=q)}else u.text="";b.get("show")?(g=n.retrieve(a.getFormattedLabel(c,"emphasis"),a.getRawValue(c)),l.setText(m,b,k),m.text=g,"outside"===m.textPosition&&(m.textPosition=q)):m.text="";l.setHoverStyle(d,m)})},remove:function(a,f){var e=this.group;a.get("animation")?this._data&&this._data.eachItemGraphicEl(function(d){d.style.text="";l.updateProps(d,{shape:{width:0}},a,d.dataIndex,function(){e.remove(d)})}):e.removeAll()}})},function(r,p,a){var m=a(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);r.exports={getBarItemStyle:function(a){a=m.call(this,a);if(this.getBorderLineDash){var l=this.getBorderLineDash();l&&(a.lineDash=l)}return a}}},function(r,p,a){function m(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function n(a,e){var d={};l.each(a,function(a,c){var e=a.getData(),g=a.coordinateSystem.getBaseAxis(),f=g.getExtent(),l="category"===g.type?g.getBandWidth():Math.abs(f[1]-f[0])/e.count(),e=d[g.dim+g.index]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=e.stacks;d[g.dim+g.index]=e;g=m(a);f[g]||e.autoWidthCount++;f[g]=f[g]||{width:0,maxWidth:0};var n=h(a.get("barWidth"),l),l=h(a.get("barMaxWidth"),l),v=a.get("barGap"),t=a.get("barCategoryGap");n&&!f[g].width&&(n=Math.min(e.remainedWidth,n),f[g].width=n,e.remainedWidth-=n);l&&(f[g].maxWidth=l);null!=v&&(e.gap=v);null!=t&&(e.categoryGap=t)});var c={};l.each(d,function(a,d){c[d]={};var e=a.stacks,g=h(a.categoryGap,a.bandWidth),f=h(a.gap,1),m=a.remainedWidth,n=a.autoWidthCount,v=(m-g)/(n+(n-1)*f),v=Math.max(v,0);l.each(e,function(a,b){var c=a.maxWidth;!a.width&&c&&c<v&&(c=Math.min(c,m),m-=c,a.width=c,n--)});var v=(m-g)/(n+(n-1)*f),v=Math.max(v,0),t=0,p;l.each(e,function(a,b){a.width||(a.width=v);p=a;t+=a.width*(1+f)});p&&(t-=p.width*f);var r=-t/2;l.each(e,function(a,b){c[d][b]=c[d][b]||{offset:r,width:a.width};r+=a.width*(1+f)})});return c}var l=a(4),h=a(7).parsePercent;r.exports=function(a,e,d){var c=n(l.filter(e.getSeriesByType(a),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type})),b={};e.eachSeriesByType(a,function(a){var d=a.getData(),g=a.coordinateSystem,e=g.getBaseAxis(),f=m(a),h=c[e.dim+e.index][f],l=h.offset,n=h.width,p=g.getOtherAxis(e),r=a.get("barMinHeight")||0,w=e.onZero?p.toGlobalCoord(p.dataToCoord(0)):p.getGlobalExtent()[0],C=g.dataToPoints(d,!0);b[f]=b[f]||[];d.setLayout({offset:l,size:n});d.each(p.dim,function(a,c){if(!isNaN(a)){b[f][c]||(b[f][c]={p:w,n:w});var g=0<=a?"p":"n",e=C[c],k=b[f][c][g],h,u,m;p.isHorizontal()?(h=k,u=e[1]+l,m=e[0]-k,e=n,Math.abs(m)<r&&(m=(0>m?-1:1)*r),b[f][c][g]+=m):(h=e[0]+l,u=k,m=n,e=e[1]-k,Math.abs(e)<r&&(e=(0>=e?-1:1)*r),b[f][c][g]+=e);d.setItemLayout(c,{x:h,y:u,width:m,height:e})}},!0)},this)}},function(r,p,a){r=a(4);p=a(1);a(139);a(141);a(142)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);p.registerVisual(r.curry(a(143),"pie"));p.registerLayout(r.curry(a(144),"pie"));p.registerProcessor(r.curry(a(146),"pie"))},function(r,p,a){var m=a(97);p=a(4);var n=a(5),l=a(102),h=a(140),f=a(1).extendSeriesModel({type:"series.pie",init:function(a){f.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed};this.updateSelectedMap(a.data);this._defaultLabelLine(a)},mergeOption:function(a){f.superCall(this,"mergeOption",a);this.updateSelectedMap(this.option.data)},getInitialData:function(a,d){var c=l(["value"],a.data),c=new m(c,this);c.initData(a.data);return c},getDataParams:function(a){var d=this._data,c=f.superCall(this,"getDataParams",a),b=d.getSum("value");c.percent=b?+(d.get("value",a)/b*100).toFixed(2):0;c.$vars.push("percent");return c},_defaultLabelLine:function(a){n.defaultEmphasis(a.labelLine,["show"]);var d=a.labelLine.normal,c=a.labelLine.emphasis;d.show=d.show&&a.label.normal.show;c.show=c.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationEasing:"cubicOut",data:[]}});p.mixin(f,h);r.exports=f},function(r,p,a){var m=a(4);r.exports={updateSelectedMap:function(a){this._selectTargetMap=m.reduce(a||[],function(a,h){a[h.name]=h;return a},{})},select:function(a){var l=this._selectTargetMap;a=l[a];"single"===this.get("selectedMode")&&m.each(l,function(a){a.selected=!1});a&&(a.selected=!0)},unSelect:function(a){(a=this._selectTargetMap[a])&&(a.selected=!1)},toggleSelected:function(a){var l=this._selectTargetMap[a];if(null!=l)return this[l.selected?"unSelect":"select"](a),l.selected},isSelected:function(a){return(a=this._selectTargetMap[a])&&a.selected}}},function(r,p,a){function m(a,c,b,e){var q=c.getData(),g=q.getName(this.dataIndex),f=c.get("selectedOffset");e.dispatchAction({type:"pieToggleSelect",from:a,name:g,seriesId:c.id});q.each(function(a){n(q.getItemGraphicEl(a),q.getItemLayout(a),c.isSelected(q.getName(a)),f,b)})}function n(a,c,b,e,q){c=(c.startAngle+c.endAngle)/2;b=b?e:0;b=[Math.cos(c)*b,Math.sin(c)*b];q?a.animate().when(200,{position:b}).start("bounceOut"):a.attr("position",b)}function l(a,c){function b(){g.ignore=g.hoverIgnore;h.ignore=h.hoverIgnore}function e(){g.ignore=g.normalIgnore;h.ignore=h.normalIgnore}f.Group.call(this);var q=new f.Sector({z2:2}),g=new f.Polyline,h=new f.Text;this.add(q);this.add(g);this.add(h);this.updateData(a,c,!0);this.on("emphasis",b).on("normal",e).on("mouseover",b).on("mouseout",e)}function h(a,c,b,k,q){k=k.getModel("textStyle");q="inside"===q||"inner"===q;return{fill:k.getTextColor()||(q?"#fff":a.getItemVisual(c,"color")),opacity:a.getItemVisual(c,"opacity"),textFont:k.getFont(),text:e.retrieve(a.hostModel.getFormattedLabel(c,b),a.getName(c))}}var f=a(43),e=a(4);p=l.prototype;p.updateData=function(a,c,b){function k(){g.stopAnimation(!0);g.animateTo({shape:{r:m.r+10}},300,"elasticOut")}function q(){g.stopAnimation(!0);g.animateTo({shape:{r:m.r}},300,"elasticOut")}var g=this.childAt(0),h=a.hostModel,l=a.getItemModel(c),m=a.getItemLayout(c),v=e.extend({},m);v.label=null;b?(g.setShape(v),g.shape.endAngle=m.startAngle,f.updateProps(g,{shape:{endAngle:m.endAngle}},h,c)):f.updateProps(g,{shape:v},h,c);b=l.getModel("itemStyle");v=a.getItemVisual(c,"color");g.useStyle(e.defaults({lineJoin:"bevel",fill:v},b.getModel("normal").getItemStyle()));g.hoverStyle=b.getModel("emphasis").getItemStyle();n(this,a.getItemLayout(c),l.get("selected"),h.get("selectedOffset"),h.get("animation"));g.off("mouseover").off("mouseout").off("emphasis").off("normal");if(l.get("hoverAnimation")&&h.ifEnableAnimation())g.on("mouseover",k).on("mouseout",q).on("emphasis",k).on("normal",q);this._updateLabel(a,c);f.setHoverStyle(this)};p._updateLabel=function(a,c){var b=this.childAt(1),e=this.childAt(2),q=a.hostModel,g=a.getItemModel(c),l=a.getItemLayout(c).label,m=a.getItemVisual(c,"color");f.updateProps(b,{shape:{points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]}},q,c);f.updateProps(e,{style:{x:l.x,y:l.y}},q,c);e.attr({style:{textVerticalAlign:l.verticalAlign,textAlign:l.textAlign,textFont:l.font},rotation:l.rotation,origin:[l.x,l.y],z2:10});var q=g.getModel("label.normal"),l=g.getModel("label.emphasis"),n=g.getModel("labelLine.normal"),g=g.getModel("labelLine.emphasis"),v=q.get("position")||l.get("position");e.setStyle(h(a,c,"normal",q,v));e.ignore=e.normalIgnore=!q.get("show");e.hoverIgnore=!l.get("show");b.ignore=b.normalIgnore=!n.get("show");b.hoverIgnore=!g.get("show");b.setStyle({stroke:m,opacity:a.getItemVisual(c,"opacity")});b.setStyle(n.getModel("lineStyle").getLineStyle());e.hoverStyle=h(a,c,"emphasis",l,v);b.hoverStyle=g.getModel("lineStyle").getLineStyle();(e=n.get("smooth"))&&!0===e&&(e=.4);b.setShape({smooth:e})};e.inherits(l,f.Group);a=a(42).extend({type:"pie",init:function(){this._sectorGroup=new f.Group},render:function(a,c,b,k){if(!k||k.from!==this.uid){var q=a.getData(),g=this._data,f=this.group;c=c.get("animation");var h=!g,n=e.curry(m,this.uid,a,c,b),v=a.get("selectedMode");q.diff(g).add(function(a){var b=new l(q,a);h&&b.eachChild(function(a){a.stopAnimation(!0)});v&&b.on("click",n);q.setItemGraphicEl(a,b);f.add(b)}).update(function(a,b){var c=g.getItemGraphicEl(b);c.updateData(q,a);c.off("click");v&&c.on("click",n);f.add(c);q.setItemGraphicEl(a,c)}).remove(function(a){a=g.getItemGraphicEl(a);f.remove(a)}).execute();c&&h&&0<q.count()&&(c=q.getItemLayout(0),b=Math.max(b.getWidth(),b.getHeight())/2,k=e.bind(f.removeClipPath,f),f.setClipPath(this._createClipPath(c.cx,c.cy,b,c.startAngle,c.clockwise,k,a)));this._data=q}},_createClipPath:function(a,c,b,e,q,g,h){a=new f.Sector({shape:{cx:a,cy:c,r0:0,r:b,startAngle:e,endAngle:e,clockwise:q}});f.initProps(a,{shape:{endAngle:e+(q?1:-1)*Math.PI*2}},h,g);return a}});r.exports=a},function(r,p,a){var m=a(1),n=a(4);r.exports=function(a,h){n.each(h,function(f){f.update="updateView";m.registerAction(f,function(e,d){var c={};d.eachComponent({mainType:"series",subType:a,query:e},function(a){if(a[f.method])a[f.method](e.name);var d=a.getData();d.each(function(e){e=d.getName(e);c[e]=a.isSelected(e)||!1})});return{name:e.name,selected:c}})})}},function(r,p){r.exports=function(a,m){var n={};m.eachRawSeriesByType(a,function(a){var h=a.getRawData(),f={};if(!m.isSeriesFiltered(a)){var e=a.getData();e.each(function(a){var c=e.getRawIndex(a);f[c]=a});h.each(function(d){var c=h.getItemModel(d),b=f[d],k=null!=b&&e.getItemVisual(b,"color",!0);k?h.setItemVisual(d,"color",k):(c=c.get("itemStyle.normal.color")||a.getColorFromPalette(h.getName(d),n),h.setItemVisual(d,"color",c),null!=b&&e.setItemVisual(b,"color",c))})}})}},function(r,p,a){var m=a(7),n=m.parsePercent,l=a(145),h=a(4),f=2*Math.PI,e=Math.PI/180;r.exports=function(a,c,b,k){c.eachSeriesByType(a,function(a){var c=a.get("center"),d=a.get("radius");h.isArray(d)||(d=[0,d]);h.isArray(c)||(c=[c,c]);var k=b.getWidth(),x=b.getHeight(),v=Math.min(k,x),t=n(c[0],k),p=n(c[1],x),r=n(d[0],v/2),w=n(d[1],v/2),C=a.getData(),B=-a.get("startAngle")*e,D=a.get("minAngle")*e,J=C.getSum("value"),E=Math.PI/(J||C.count())*2,H=a.get("clockwise"),F=a.get("roseType"),K=C.getDataExtent("value");K[0]=0;var M=f,L=0,I=B,G=H?1:-1;C.each("value",function(a,b){var c;c="area"!==F?0===J?E:a*E:f/(C.count()||1);c<D?(c=D,M-=D):L+=a;var d=I+G*c;C.setItemLayout(b,{angle:c,startAngle:I,endAngle:d,clockwise:H,cx:t,cy:p,r0:r,r:F?m.linearMap(a,K,[r,w]):w});I=d},!0);if(M<f)if(.001>=M){var N=f/C.count();C.each(function(a){var b=C.getItemLayout(a);b.startAngle=B+G*a*N;b.endAngle=B+G*(a+1)*N})}else E=M/L,I=B,C.each("value",function(a,b){var c=C.getItemLayout(b),d=c.angle===D?D:a*E;c.startAngle=I;c.endAngle=I+G*d;I+=d});l(a,w,k,x)})}},function(r,p,a){function m(a,f,e,d,c,b,k){function q(b,c,d,e){for(e=b;e<c;e++)if(a[e].y+=d,e>b&&e+1<c&&a[e+1].y>a[e].y+a[e].height){g(e,d/2);return}g(c-1,d/2)}function g(b,c){for(var d=b;0<=d&&!(a[d].y-=c,0<d&&a[d].y>a[d-1].y+a[d-1].height);d--);}function l(a,b,c,d,e,g){for(var k=b?Number.MAX_VALUE:0,q=0,f=a.length;q<f;q++)if("center"!==a[q].position){var h=Math.abs(a[q].y-d),m=a[q].len,u=a[q].len2,h=h<e+m?Math.sqrt((e+m+u)*(e+m+u)-h*h):Math.abs(a[q].x-c);b&&h>=k&&(h=k-10);!b&&h<=k&&(h=k+10);a[q].x=c+h*g;k=h}}a.sort(function(a,b){return a.y-b.y});var m=0;b=a.length;for(var n=[],v=[],t=0;t<b;t++)m=a[t].y-m,0>m&&q(t,b,-m,c),m=a[t].y+a[t].height;0>k-m&&g(b-1,m-k);for(t=0;t<b;t++)a[t].y>=e?v.push(a[t]):n.push(a[t]);l(n,!1,f,e,d,c);l(v,!0,f,e,d,c)}function n(a,f,e,d,c,b){for(var k=[],q=[],g=0;g<a.length;g++)a[g].x<f?k.push(a[g]):q.push(a[g]);m(q,f,e,d,1,c,b);m(k,f,e,d,-1,c,b);for(g=0;g<a.length;g++)if(e=a[g].linePoints)d=e[1][0]-e[2][0],e[2][0]=a[g].x<f?a[g].x+3:a[g].x-3,e[1][1]=e[2][1]=a[g].y,e[1][0]=e[2][0]+d}var l=a(8);r.exports=function(a,f,e,d){var c=a.getData(),b=[],k,q,g=!1;c.each(function(d){var e=c.getItemLayout(d),m=c.getItemModel(d),n=m.getModel("label.normal"),t=n.get("position")||m.get("label.emphasis.position"),p=m.getModel("labelLine.normal"),m=p.get("length"),p=p.get("length2"),r=(e.startAngle+e.endAngle)/2,w=Math.cos(r),C=Math.sin(r),B,D,J,E;k=e.cx;q=e.cy;var H="inside"===t||"inner"===t;if("center"===t)B=e.cx,D=e.cy,E="center";else{E=(H?(e.r+e.r0)/2*w:e.r*w)+k;var F=(H?(e.r+e.r0)/2*C:e.r*C)+q;B=E+3*w;D=F+3*C;if(!H){J=E+w*(m+f-e.r);var C=F+C*(m+f-e.r),K=J+(0>w?-1:1)*p;B=K+(0>w?-5:5);D=C;J=[[E,F],[J,C],[K,C]]}E=H?"center":0<w?"left":"right"}F=n.getModel("textStyle").getFont();n=n.get("rotate")?0>w?-r+Math.PI:-r:0;d=a.getFormattedLabel(d,"normal")||c.getName(d);d=l.getBoundingRect(d,F,E,"top");g=!!n;e.label={x:B,y:D,position:t,height:d.height,len:m,len2:p,linePoints:J,textAlign:E,verticalAlign:"middle",font:F,rotation:n};H||b.push(e.label)});!g&&a.get("avoidLabelOverlap")&&n(b,k,q,f,e,d)}},function(r,p){r.exports=function(a,m){var n=m.findComponents({mainType:"legend"});n&&n.length&&m.eachSeriesByType(a,function(a){var h=a.getData();h.filterSelf(function(a){a=h.getName(a);for(var e=0;e<n.length;e++)if(!n[e].isSelected(a))return!1;return!0},this)},this)}},function(r,p,a){r=a(4);p=a(1);a(148);a(149);p.registerVisual(r.curry(a(109),"scatter","circle",null));p.registerLayout(r.curry(a(110),"scatter"));a(112)},function(r,p,a){var m=a(101);p=a(28);r.exports=p.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(a,l){return m(a.data,this,l)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2E3,itemStyle:{normal:{opacity:.8}}}})},function(r,p,a){var m=a(104),n=a(150);a(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new m;this._largeSymbolDraw=new n},render:function(a,h,f){h=a.getData();f=this._largeSymbolDraw;var e=this._normalSymbolDraw,d=this.group;this._symbolDraw=a=a.get("large")&&h.count()>a.get("largeThreshold")?f:e;a.updateData(h);d.add(a.group);d.remove(a===f?e.group:f.group)},updateLayout:function(a){this._symbolDraw.updateLayout(a)},remove:function(a,h){this._symbolDraw&&this._symbolDraw.remove(h,!0)}})},function(r,p,a){function m(){this.group=new n.Group;this._symbolEl=new h({})}var n=a(43),l=a(106),h=n.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(a,e){for(var d=e.points,c=e.sizes,b=this.symbolProxy,k=b.shape,q=0;q<d.length;q++){var g=d[q],h=c[q];4>h[0]?a.rect(g[0]-h[0]/2,g[1]-h[1]/2,h[0],h[1]):(k.x=g[0]-h[0]/2,k.y=g[1]-h[1]/2,k.width=h[0],k.height=h[1],b.buildPath(a,k,!0))}},findDataIndex:function(a,e){for(var d=this.shape,c=d.points,d=d.sizes,b=c.length-1;0<=b;b--){var k=c[b],q=d[b],g=k[0]-q[0]/2,k=k[1]-q[1]/2;if(a>=g&&e>=k&&a<=g+q[0]&&e<=k+q[1])return b}return-1}});p=m.prototype;p.updateData=function(a){this.group.removeAll();var e=this._symbolEl,d=a.hostModel;e.setShape({points:a.mapArray(a.getItemLayout),sizes:a.mapArray(function(b){b=a.getItemVisual(b,"symbolSize");b instanceof Array||(b=[b,b]);return b})});e.symbolProxy=l.createSymbol(a.getVisual("symbol"),0,0,0,0);e.setColor=e.symbolProxy.setColor;e.useStyle(d.getModel("itemStyle.normal").getItemStyle(["color"]));var c=a.getVisual("color");c&&e.setColor(c);e.seriesIndex=d.seriesIndex;e.on("mousemove",function(a){e.dataIndex=null;a=e.findDataIndex(a.offsetX,a.offsetY);0<a&&(e.dataIndex=a)});this.group.add(e)};p.updateLayout=function(a){a=a.getData();this._symbolEl.setShape({points:a.mapArray(a.getItemLayout)})};p.remove=function(){this.group.removeAll()};r.exports=m},function(r,p,a){r=a(4);p=a(1);a(152);a(157);a(158);p.registerVisual(r.curry(a(143),"radar"));p.registerVisual(r.curry(a(109),"radar","circle",null));p.registerLayout(a(159));p.registerProcessor(r.curry(a(146),"radar"));p.registerPreprocessor(a(160))},function(r,p,a){a(153);a(155);a(156)},function(r,p,a){function m(a,c,b){this._model=a;this.dimensions=[];this._indicatorAxes=n.map(a.getIndicatorModels(),function(a,b){var c="indicator_"+b,d=new l(c,new h);d.name=a.get("name");d.model=a;a.axis=d;this.dimensions.push(c);return d},this);this.resize(a,b)}var n=a(4),l=a(154),h=a(117),f=a(7),e=a(114);m.prototype.getIndicatorAxes=function(){return this._indicatorAxes};m.prototype.dataToPoint=function(a,c){return this.coordToPoint(this._indicatorAxes[c].dataToCoord(a),c)};m.prototype.coordToPoint=function(a,c){var b=this._indicatorAxes[c].angle;return[this.cx+a*Math.cos(b),this.cy-a*Math.sin(b)]};m.prototype.pointToData=function(a){var c=a[0]-this.cx,b=a[1]-this.cy;a=Math.sqrt(c*c+b*b);for(var c=Math.atan2(-(b/a),c/a),b=Infinity,e,q=-1,g=0;g<this._indicatorAxes.length;g++){var f=this._indicatorAxes[g],h=Math.abs(c-f.angle);h<b&&(e=f,q=g,b=h)}return[q,+(e&&e.coodToData(a))]};m.prototype.resize=function(a,c){var b=a.get("center"),e=c.getWidth(),q=c.getHeight(),g=Math.min(e,q)/2;this.cx=f.parsePercent(b[0],e);this.cy=f.parsePercent(b[1],q);this.startAngle=a.get("startAngle")*Math.PI/180;this.r=f.parsePercent(a.get("radius"),g);n.each(this._indicatorAxes,function(a,b){a.setExtent(0,this.r);var c=this.startAngle+b*Math.PI*2/this._indicatorAxes.length,c=Math.atan2(Math.sin(c),Math.cos(c));a.angle=c},this)};m.prototype.update=function(a,c){function b(a){var b=Math.pow(10,Math.floor(Math.log(a)/Math.LN10));a/=b;return(2===a?5:2*a)*b}var k=this._indicatorAxes,q=this._model;n.each(k,function(a){a.scale.setExtent(Infinity,-Infinity)});a.eachSeriesByType("radar",function(b,c){if("radar"===b.get("coordinateSystem")&&a.getComponent("radar",b.get("radarIndex"))===q){var e=b.getData();n.each(k,function(a){a.scale.unionExtent(e.getDataExtent(a.dim))})}},this);var g=q.get("splitNumber");n.each(k,function(a,c){var d=e.getScaleExtent(a,a.model);e.niceScaleExtent(a,a.model);var k=a.model,q=a.scale,h=k.get("min"),l=k.get("max"),k=q.getInterval();if(null!=h&&null!=l)q.setInterval((l-h)/g);else if(null!=h){do l=h+k*g,q.setExtent(+h,l),q.setInterval(k),k=b(k);while(l<d[1]&&isFinite(l)&&isFinite(d[1]))}else if(null!=l){do h=l-k*g,q.setExtent(h,+l),q.setInterval(k),k=b(k);while(h>d[0]&&isFinite(h)&&isFinite(d[0]))}else q.getTicks().length-1>g&&(k=b(k)),d=Math.round((d[0]+d[1])/2/k)*k,h=Math.round(g/2),q.setExtent(f.round(d-h*k),f.round(d+(g-h)*k)),q.setInterval(k)})};m.dimensions=[];m.create=function(a,c){var b=[];a.eachComponent("radar",function(e){var q=new m(e,a,c);b.push(q);e.coordinateSystem=q});a.eachSeriesByType("radar",function(a){"radar"===a.get("coordinateSystem")&&(a.coordinateSystem=b[a.get("radarIndex")||0])});return b};a(26).register("radar",m);r.exports=m},function(r,p,a){function m(a,h,f){n.call(this,a,h,f);this.type="value";this.angle=0;this.name=""}p=a(4);var n=a(123);p.inherits(m,n);r.exports=m},function(r,p,a){p=a(128).valueAxis;var m=a(12),n=a(4),l=a(129);a=a(1).extendComponentModel({type:"radar",optionUpdated:function(){var a=this.get("boundaryGap"),f=this.get("splitNumber"),e=this.get("scale"),d=this.get("axisLine"),c=this.get("axisTick"),b=this.get("axisLabel"),k=this.get("name.textStyle"),q=this.get("name.show"),g=this.get("name.formatter"),u=this.get("nameGap"),y=n.map(this.get("indicator")||[],function(y){null!=y.max&&0<y.max&&!y.min?y.min=0:null!=y.min&&0>y.min&&!y.max&&(y.max=0);y=n.merge(n.clone(y),{boundaryGap:a,splitNumber:f,scale:e,axisLine:d,axisTick:c,axisLabel:b,name:y.text,nameLocation:"end",nameGap:u,nameTextStyle:k},!1);q||(y.name="");"string"===typeof g?y.name=g.replace("{value}",y.name):"function"===typeof g&&(y.name=g(y.name,y));return n.extend(new m(y,null,this.ecModel),l)},this);this.getIndicatorModels=function(){return y}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:n.merge({lineStyle:{color:"#bbb"}},p.axisLine),axisLabel:n.defaults({show:!1},p.axisLabel),axisTick:n.defaults({show:!1},p.axisTick),splitLine:n.defaults({show:!0},p.splitLine),splitArea:n.defaults({show:!0},p.splitArea),indicator:[]}});r.exports=a},function(r,p,a){var m=a(132),n=a(4),l=a(43),h=["axisLine","axisLabel","axisTick","axisName"];r.exports=a(1).extendComponentView({type:"radar",render:function(a,e,d){this.group.removeAll();this._buildAxes(a);this._buildSplitLineAndArea(a)},_buildAxes:function(a){var e=a.coordinateSystem;a=e.getIndicatorAxes();a=n.map(a,function(a){return new m(a.model,{position:[e.cx,e.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});n.each(a,function(a){n.each(h,a.add,a);this.group.add(a.getGroup())},this)},_buildSplitLineAndArea:function(a){function e(a,b,c){b=c%b.length;a[b]=a[b]||[];return b}var d=a.coordinateSystem,c=a.get("splitNumber"),b=d.getIndicatorAxes();if(b.length){var k=a.get("shape"),q=a.getModel("splitLine"),g=a.getModel("splitArea");a=q.getModel("lineStyle");var h=g.getModel("areaStyle"),q=q.get("show"),g=g.get("show"),m=a.get("color"),x=h.get("color"),m=n.isArray(m)?m:[m],x=n.isArray(x)?x:[x],v=[],t=[];if("circle"===k)for(var c=b[0].getTicksCoords(),b=d.cx,p=d.cy,k=0;k<c.length;k++){if(q){var r=e(v,m,k);v[r].push(new l.Circle({shape:{cx:b,cy:p,r:c[k]}}))}g&&k<c.length-1&&(r=e(t,x,k),t[r].push(new l.Ring({shape:{cx:b,cy:p,r0:c[k],r:c[k+1]}})))}else for(var p=n.map(b,function(a,b){var c=a.getTicksCoords();return n.map(c,function(a){return d.coordToPoint(a,b)})}),w=[],k=0;k<=c;k++){for(var C=[],r=0;r<b.length;r++)C.push(p[r][k]);C[0]?(C.push(C[0].slice()),q&&(r=e(v,m,k),v[r].push(new l.Polyline({shape:{points:C}}))),g&&w&&(r=e(t,x,k-1),t[r].push(new l.Polygon({shape:{points:C.concat(w)}}))),w=C.slice().reverse()):console.error("Can't draw value axis "+k)}var B=a.getLineStyle(),D=h.getAreaStyle();n.each(t,function(a,b){this.group.add(l.mergePath(a,{style:n.defaults({stroke:"none",fill:x[b%x.length]},D),silent:!0}))},this);n.each(v,function(a,b){this.group.add(l.mergePath(a,{style:n.defaults({fill:"none",stroke:m[b%m.length]},B),silent:!0}))},this)}}})},function(r,p,a){p=a(28);var m=a(97),n=a(102),l=a(4),h=p.extend({type:"series.radar",dependencies:["radar"],init:function(a){h.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed}},getInitialData:function(a,e){var d=a.data||[],c=n([],d,[],"indicator_"),c=new m(c,this);c.initData(d);return c},formatTooltip:function(a){var e=this.getRawValue(a),d=this.coordinateSystem.getIndicatorAxes();return(""==this._data.getName(a)?this.name:this._data.getName(a))+"\x3cbr/\x3e"+l.map(d,function(a,b){return a.name+" : "+e[b]}).join("\x3cbr /\x3e")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});r.exports=h},function(r,p,a){function m(a){l.isArray(a)||(a=[+a,+a]);return a}var n=a(43),l=a(4),h=a(106);r.exports=a(1).extendChartView({type:"radar",render:function(a,e,d){function c(b,c,d,e,g,k){d.removeAll();for(var q=0;q<c.length-1;q++){var l;l=e;var u=g,p=l.getItemVisual(u,"symbol")||"circle",r=l.getItemVisual(u,"color");"none"===p?l=void 0:(p=h.createSymbol(p,-.5,-.5,1,1,r),p.attr({style:{strokeNoScale:!0},z2:100,scale:m(l.getItemVisual(u,"symbolSize"))}),l=p);l&&(l.__dimIdx=q,b[q]?(l.attr("position",b[q]),n[k?"initProps":"updateProps"](l,{position:c[q]},a,g)):l.attr("position",c[q]),d.add(l))}}function b(a){return l.map(a,function(a){return[k.cx,k.cy]})}var k=a.coordinateSystem,q=this.group,g=a.getData(),u=this._data;g.diff(u).add(function(d){var e=g.getItemLayout(d);if(e){var k=new n.Polygon,q=new n.Polyline,h={shape:{points:e}};k.shape.points=b(e);q.shape.points=b(e);n.initProps(k,h,a,d);n.initProps(q,h,a,d);var h=new n.Group,l=new n.Group;h.add(q);h.add(k);h.add(l);c(q.shape.points,e,l,g,d,!0);g.setItemGraphicEl(d,h)}}).update(function(b,d){var e=u.getItemGraphicEl(d),k=e.childAt(0),q=e.childAt(1),h=e.childAt(2),l={shape:{points:g.getItemLayout(b)}};l.shape.points&&(c(k.shape.points,l.shape.points,h,g,b,!1),n.updateProps(k,l,a),n.updateProps(q,l,a),g.setItemGraphicEl(b,e))}).remove(function(a){q.remove(u.getItemGraphicEl(a))}).execute();g.eachItemGraphicEl(function(b,c){function d(){m.attr("ignore",E)}function e(){m.attr("ignore",J)}var k=g.getItemModel(c),h=b.childAt(0),m=b.childAt(1),u=b.childAt(2),p=g.getItemVisual(c,"color");q.add(b);h.useStyle(l.defaults(k.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:p}));h.hoverStyle=k.getModel("lineStyle.emphasis").getLineStyle();var h=k.getModel("areaStyle.normal"),r=k.getModel("areaStyle.emphasis"),J=h.isEmpty()&&h.parentModel.isEmpty(),E=r.isEmpty()&&r.parentModel.isEmpty(),E=E&&J;m.ignore=J;m.useStyle(l.defaults(h.getAreaStyle(),{fill:p,opacity:.7}));m.hoverStyle=r.getAreaStyle();var H=k.getModel("itemStyle.normal").getItemStyle(["color"]),F=k.getModel("itemStyle.emphasis").getItemStyle(),K=k.getModel("label.normal"),M=k.getModel("label.emphasis");u.eachChild(function(b){b.setStyle(H);b.hoverStyle=l.clone(F);var d=g.get(g.dimensions[b.__dimIdx],c);n.setText(b.style,K,p);b.setStyle({text:K.get("show")?l.retrieve(a.getFormattedLabel(c,"normal",null,b.__dimIdx),d):""});n.setText(b.hoverStyle,M,p);b.hoverStyle.text=M.get("show")?l.retrieve(a.getFormattedLabel(c,"emphasis",null,b.__dimIdx),d):""});b.off("mouseover").off("mouseout").off("normal").off("emphasis");b.on("emphasis",d).on("mouseover",d).on("normal",e).on("mouseout",e);n.setHoverStyle(b)});this._data=g},remove:function(){this.group.removeAll();this._data=null}})},function(r,p){r.exports=function(a){a.eachSeriesByType("radar",function(a){function n(a,c){h[c]=h[c]||[];h[c][e]=f.dataToPoint(a,e)}var l=a.getData(),h=[],f=a.coordinateSystem;if(f){for(var e=0;e<f.getIndicatorAxes().length;e++)l.each(l.dimensions[e],n);l.each(function(a){h[a][0]&&h[a].push(h[a][0].slice());l.setItemLayout(a,h[a])})}})}},function(r,p,a){var m=a(4);r.exports=function(a){var l=a.polar;if(l){m.isArray(l)||(l=[l]);var h=[];m.each(l,function(f,e){f.indicator?(f.type&&!f.shape&&(f.shape=f.type),a.radar=a.radar||[],m.isArray(a.radar)||(a.radar=[a.radar]),a.radar.push(f)):h.push(f)});a.polar=h}m.each(a.series,function(a){"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}},function(r,p,a){r=a(1);p=r.PRIORITY;a(162);a(172);a(176);a(163);r.registerLayout(a(178));r.registerVisual(a(179));r.registerProcessor(p.PROCESSOR.STATISTIC,a(180));r.registerPreprocessor(a(181));a(142)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(r,p,a){var m=a(97);p=a(28);var n=a(4),l=a(102),h=a(6),f=h.encodeHTML,e=h.addCommas,h=a(140),d=a(163),c=p.extend({type:"series.map",layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(a){this.option=a=this._fillOption(a,a.map);c.superApply(this,"init",arguments);this.updateSelectedMap(a.data)},getInitialData:function(a){var c=l(["value"],a.data||[]),c=new m(c,this);c.initData(a.data);return c},mergeOption:function(a){a.data&&(a=this._fillOption(a,this.option.map));c.superCall(this,"mergeOption",a);this.updateSelectedMap(this.option.data)},_fillOption:function(a,c){a=n.extend({},a);a.data=d.getFilledRegions(a.data,c);return a},getRawValue:function(a){return this._data.get("value",a)},getRegionModel:function(a){var c=this.getData();return c.getItemModel(c.indexOfName(a))},formatTooltip:function(a){var c=this.getData(),d=e(this.getRawValue(a));a=c.getName(a);for(var c=this.seriesGroup,g=[],h=0;h<c.length;h++){var l=c[h].originalData.indexOfName(a);isNaN(c[h].originalData.get("value",l))||g.push(f(c[h].name))}return g.join(", ")+"\x3cbr /\x3e"+a+" : "+d},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});n.mixin(c,h);r.exports=c},function(r,p,a){function m(a,b){var c=this.getBoundingRect(),d;d=a.get("layoutCenter");var f=a.get("layoutSize"),l=b.getWidth(),m=b.getHeight(),n=a.get("aspectScale")||.75,c=c.width/c.height*n,n=!1;d&&f&&(d=[e.parsePercent(d[0],l),e.parsePercent(d[1],m)],f=e.parsePercent(f,Math.min(l,m)),isNaN(d[0])||isNaN(d[1])||isNaN(f)?console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."):n=!0);n?(l={},1<c?(l.width=f,l.height=f/c):(l.height=f,l.width=f*c),l.y=d[1]-l.height/2,l.x=d[0]-l.width/2):(d=a.getBoxLayoutParams(),d.aspect=c,l=h.getLayoutRect(d,{width:l,height:m}));this.setViewRect(l.x,l.y,l.width,l.height);this.setCenter(a.get("center"));this.setZoom(a.get("zoom"))}function n(a,b){f.each(b.get("geoCoord"),function(b,c){a.addGeoCoord(c,b)})}var l=a(164),h=a(21),f=a(4),e=a(7),d={},c=function(a){console.error("Map "+a+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")},b={dimensions:l.prototype.dimensions,create:function(a,b){var e=[];a.eachComponent("geo",function(a,k){var f=a.get("map"),h=d[f];h||c(f);f=new l(f+k,f,h&&h.geoJson,h&&h.specialAreas,a.get("nameMap"));f.zoomLimit=a.get("scaleLimit");e.push(f);n(f,a);a.coordinateSystem=f;f.model=a;f.resize=m;f.resize(a,b)});a.eachSeries(function(a){if("geo"===a.get("coordinateSystem")){var b=a.get("geoIndex")||0;a.coordinateSystem=e[b]}});var h={};a.eachSeriesByType("map",function(a){var b=a.get("map");h[b]=h[b]||[];h[b].push(a)});f.each(h,function(a,k){var h=d[k];h||c(a[0].get("map"));var u=f.map(a,function(a){return a.get("nameMap")}),p=new l(k,k,h&&h.geoJson,h&&h.specialAreas,f.mergeAll(u));p.zoomLimit=f.retrieve.apply(null,f.map(a,function(a){return a.get("scaleLimit")}));e.push(p);p.resize=m;p.resize(a[0],b);f.each(a,function(a){a.coordinateSystem=p;n(p,a)})});return e},registerMap:function(a,b,c){b.geoJson&&!b.features&&(c=b.specialAreas,b=b.geoJson);"string"===typeof b&&(b="undefined"!==typeof JSON&&JSON.parse?JSON.parse(b):(new Function("return ("+b+");"))());d[a]={geoJson:b,specialAreas:c}},getMap:function(a){return d[a]},getFilledRegions:function(a,d){var e=(a||[]).slice(),f=b.getMap(d),h=f&&f.geoJson;if(!h)return c(d),a;for(var f={},h=h.features,l=0;l<e.length;l++)f[e[l].name]=e[l];for(l=0;l<h.length;l++){var m=h[l].properties.name;f[m]||e.push({name:m})}return e}};p=a(1);p.registerMap=b.registerMap;p.getMap=b.getMap;p.loadMap=function(){};p.registerCoordinateSystem("geo",b);r.exports=b},function(r,p,a){function m(a,c,b,e,q){f.call(this,a);this.map=c;this._nameCoordMap={};this.loadGeoJson(b,e,q)}var n=a(165),l=a(4),h=a(9),f=a(168),e=[a(169),a(170),a(171)];m.prototype={constructor:m,type:"geo",dimensions:["lng","lat"],containCoord:function(a){for(var c=this.regions,b=0;b<c.length;b++)if(c[b].contain(a))return!0;return!1},loadGeoJson:function(a,c,b){try{this.regions=a?n(a):[]}catch(f){throw"Invalid geoJson format\n"+f;}c=c||{};b=b||{};a=this.regions;for(var k={},q=0;q<a.length;q++){var g=a[q].name,g=b[g]||g;a[q].name=g;k[g]=a[q];this.addGeoCoord(g,a[q].center);(g=c[g])&&a[q].transformTo(g.left,g.top,g.width,g.height)}this._regionsMap=k;this._rect=null;l.each(e,function(a){a(this)},this)},transformTo:function(a,c,b,e){var q=this.getBoundingRect(),q=q.clone();q.y=-q.y-q.height;var g=this._viewTransform;g.transform=q.calculateTransform(new h(a,c,b,e));g.decomposeTransform();a=g.scale;a[1]=-a[1];g.updateTransform();this._updateTransform()},getRegion:function(a){return this._regionsMap[a]},getRegionByCoord:function(a){for(var c=this.regions,b=0;b<c.length;b++)if(c[b].contain(a))return c[b]},addGeoCoord:function(a,c){this._nameCoordMap[a]=c},getGeoCoord:function(a){return this._nameCoordMap[a]},getBoundingRect:function(){if(this._rect)return this._rect;for(var a,c=this.regions,b=0;b<c.length;b++){var e=c[b].getBoundingRect();a=a||e.clone();a.union(e)}return this._rect=a||new h(0,0,0,0)},dataToPoints:function(a){var c=[];return a.mapArray(["lng","lat"],function(a,d){c[0]=a;c[1]=d;return this.dataToPoint(c)},this)},dataToPoint:function(a){"string"===typeof a&&(a=this.getGeoCoord(a));if(a)return f.prototype.dataToPoint.call(this,a)}};l.mixin(m,f);r.exports=m},function(r,p,a){function m(a){if(!a.UTF8Encoding)return a;for(var e=a.features,d=0;d<e.length;d++)for(var c=e[d].geometry,b=c.coordinates,k=c.encodeOffsets,q=0;q<b.length;q++){var g=b[q];if("Polygon"===c.type)b[q]=n(g,k[q]);else if("MultiPolygon"===c.type)for(var h=0;h<g.length;h++)g[h]=n(g[h],k[q][h])}a.UTF8Encoding=!1;return a}function n(a,e){for(var d=[],c=e[0],b=e[1],k=0;k<a.length;k+=2){var q=a.charCodeAt(k)-64,g=a.charCodeAt(k+1)-64,q=q>>1^-(q&1),g=g>>1^-(g&1),q=q+c,g=g+b,c=q,b=g;d.push([q/1024,g/1024])}return d}var l=a(4),h=a(166);r.exports=function(a){m(a);return l.map(l.filter(a.features,function(a){return a.geometry&&a.properties}),function(a){var d=a.properties;a=a.geometry;var c=a.coordinates;if("MultiPolygon"===a.type){a=c;for(var c=[],b=0;b<a.length;b++)for(var k=0;k<a[b].length;k++)c.push(a[b][k])}return new h(d.name,c,d.cp)})}},function(r,p,a){function m(a,d,c){this.name=a;this.contours=d;c?c=[c[0],c[1]]:(a=this.getBoundingRect(),c=[a.x+a.width/2,a.y+a.height/2]);this.center=c}var n=a(167),l=a(9),h=a(51),f=a(10);m.prototype={constructor:m,getBoundingRect:function(){var a=this._rect;if(a)return a;for(var d=Number.MAX_VALUE,a=[d,d],d=[-d,-d],c=[],b=[],k=this.contours,q=0;q<k.length;q++)h.fromPoints(k[q],c,b),f.min(a,a,c),f.max(d,d,b);0===q&&(a[0]=a[1]=d[0]=d[1]=0);return this._rect=new l(a[0],a[1],d[0]-a[0],d[1]-a[1])},contain:function(a){var d=this.getBoundingRect(),c=this.contours;if(d.contain(a[0],a[1]))for(var d=0,b=c.length;d<b;d++)if(n.contain(c[d],a[0],a[1]))return!0;return!1},transformTo:function(a,d,c,b){var k=this.getBoundingRect(),q=k.width/k.height;c?b||(b=c/q):c=q*b;a=new l(a,d,c,b);k=k.calculateTransform(a);d=this.contours;for(c=0;c<d.length;c++)for(b=0;b<d[c].length;b++)f.applyTransform(d[c][b],d[c][b],k);k=this._rect;k.copy(a);this.center=[k.x+k.width/2,k.y+k.height/2]}};r.exports=m},function(r,p,a){var m=a(58);r.exports={contain:function(a,l,h){var f=0,e=a[0];if(!e)return!1;for(var d=1;d<a.length;d++)var c=a[d],f=f+m(e[0],e[1],c[0],c[1],l,h),e=c;a=a[0];1E-8>Math.abs(e[0]-a[0])&&1E-8>Math.abs(e[1]-a[1])||(f+=m(e[0],e[1],a[0],a[1],l,h));return 0!==f}}},function(r,p,a){function m(){f.call(this)}function n(a){this.name=a;f.call(this);this._roamTransform=new m;this._viewTransform=new m;this._center;this._zoom}var l=a(10),h=a(11),f=a(34);p=a(4);var e=a(9),d=l.applyTransform;p.mixin(m,f);n.prototype={constructor:n,type:"view",dimensions:["x","y"],setBoundingRect:function(a,b,d,q){return this._rect=new e(a,b,d,q)},getBoundingRect:function(){return this._rect},setViewRect:function(a,b,d,q){this.transformTo(a,b,d,q);this._viewRect=new e(a,b,d,q)},transformTo:function(a,b,d,q){var g=this.getBoundingRect(),f=this._viewTransform;f.transform=g.calculateTransform(new e(a,b,d,q));f.decomposeTransform();this._updateTransform()},setCenter:function(a){a&&(this._center=a,this._updateCenterAndZoom())},setZoom:function(a){a=a||1;var b=this.zoomLimit;b&&(null!=b.max&&(a=Math.min(b.max,a)),null!=b.min&&(a=Math.max(b.min,a)));this._zoom=a;this._updateCenterAndZoom()},getDefaultCenter:function(){var a=this.getBoundingRect();return[a.x+a.width/2,a.y+a.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var a=this._viewTransform.getLocalTransform(),b=this._roamTransform,d=this.getDefaultCenter(),e=this.getCenter(),g=this.getZoom(),e=l.applyTransform([],e,a),d=l.applyTransform([],d,a);b.origin=e;b.position=[d[0]-e[0],d[1]-e[1]];b.scale=[g,g];this._updateTransform()},_updateTransform:function(){var a=this._roamTransform,b=this._viewTransform;b.parent=a;a.updateTransform();b.updateTransform();b.transform&&h.copy(this.transform||(this.transform=[]),b.transform);this.transform?(this.invTransform=this.invTransform||[],h.invert(this.invTransform,this.transform)):this.invTransform=null;this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var a=this.getBoundingRect().clone();a.applyTransform(this.transform);return a},dataToPoint:function(a){var b=this.transform;return b?d([],a,b):[a[0],a[1]]},pointToData:function(a){var b=this.invTransform;return b?d([],a,b):[a[0],a[1]]}};p.mixin(n,f);r.exports=n},function(r,p,a){var m=a(166),n=[126,25],l=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(p=0;p<l.length;p++)for(a=0;a<l[p].length;a++)l[p][a][0]/=10.5,l[p][a][1]/=-14,l[p][a][0]+=n[0],l[p][a][1]+=n[1];r.exports=function(a){"china"===a.map&&a.regions.push(new m("\u5357\u6d77\u8bf8\u5c9b",l,n))}},function(r,p,a){var m=a(4),n={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};r.exports=function(a){m.each(a.regions,function(a){var f=n[a.name];f&&(a=a.center,a[0]+=f[0]/10.5,a[1]+=-f[1]/14)})}},function(r,p,a){var m=a(4),n={Russia:[100,60],"United States of America":[-99,38]};r.exports=function(a){m.each(a.regions,function(a){var f=n[a.name];f&&(a=a.center,a[0]=f[0],a[1]=f[1])})}},function(r,p,a){var m=a(43),n=a(173);a(1).extendChartView({type:"map",render:function(a,h,f,e){if(!e||"mapToggleSelect"!==e.type||e.from!==this.uid){var d=this.group;d.removeAll();if(e&&"geoRoam"===e.type&&"series"===e.componentType&&e.seriesId===a.id)(c=this._mapDraw)&&d.add(c.group);else if(a.needsDrawMap){var c=this._mapDraw||new n(f,!0);d.add(c.group);c.draw(a,h,f,this,e);this._mapDraw=c}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&h.getComponent("legend")&&this._renderSymbols(a,h,f)}},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},_renderSymbols:function(a,h,f){var e=a.originalData,d=this.group;e.each("value",function(c,b){if(!isNaN(c)){var k=e.getItemLayout(b);if(k&&k.point){var q=k.point,k=k.offset,g=new m.Circle({style:{fill:a.getData().getVisual("color")},shape:{cx:q[0]+9*k,cy:q[1],r:3},silent:!0,z2:10});if(!k){var q=a.mainSeries.getData(),f=e.getName(b),k=q.indexOfName(f),h=e.getItemModel(b),n=h.getModel("label.normal"),v=h.getModel("label.emphasis"),p=n.getModel("textStyle"),r=v.getModel("textStyle"),q=q.getItemGraphicEl(k);g.setStyle({textPosition:"bottom"});k=function(){g.setStyle({text:v.get("show")?f:"",textFill:r.getTextColor(),textFont:r.getFont()})};h=function(){g.setStyle({text:n.get("show")?f:"",textFill:p.getTextColor(),textFont:p.getFont()})};q.on("mouseover",k).on("mouseout",h).on("emphasis",k).on("normal",h);h()}d.add(g)}}})}})},function(r,p,a){function m(a,b){var d=a.getItemStyle(),e=a.get("areaColor");e&&(d.fill=e);return d}function n(a,b,d,e){b.off("click");a.get("selectedMode")&&b.on("click",function(g){for(g=g.target;!g.__region;)g=g.parent;g&&(g={type:("geo"===a.mainType?"geo":"map")+"ToggleSelect",name:g.__region.name,from:e.uid},g[a.mainType+"Id"]=a.id,d.dispatchAction(g),l(a,b))})}function l(a,b){b.eachChild(function(b){b.__region&&b.trigger(a.isSelected(b.__region.name)?"emphasis":"normal")})}function h(a,b){var d=new e.Group;this._controller=new f(a.getZr(),b?d:null,null);this.group=d;this._updateGroup=b}var f=a(174),e=a(43),d=a(4);h.prototype={constructor:h,draw:function(a,b,k,q,g){var f=a.getData&&a.getData(),h=a.coordinateSystem,p=this.group,v=h.scale,t={position:h.position,scale:v};!p.childAt(0)||g?p.attr(t):e.updateProps(p,t,a);p.removeAll();var r=["itemStyle","normal"],z=["itemStyle","emphasis"],w=["label","normal"],C=["label","emphasis"];d.each(h.regions,function(b){var g=new e.Group,k=new e.CompoundPath({shape:{paths:[]}});g.add(k);var q=a.getRegionModel(b.name)||a,h=q.getModel(r),l=q.getModel(z),n=m(h,v),l=m(l,v),y=q.getModel(w),t=q.getModel(C),I;f&&(I=f.indexOfName(b.name),q=f.getItemVisual(I,"color",!0))&&(n.fill=q);q=y.getModel("textStyle");h=t.getModel("textStyle");d.each(b.contours,function(a){a=new e.Polygon({shape:{points:a}});k.shape.paths.push(a)});k.setStyle(n);k.style.strokeNoScale=!0;k.culling=!0;var n=y.get("show"),y=t.get("show"),t=f&&isNaN(f.get("value",I)),G=f&&f.getItemLayout(I);if(!f||t&&(n||y)||G&&G.showLabel)G=f?I:b.name,t=a.getFormattedLabel(G,"normal"),G=a.getFormattedLabel(G,"emphasis"),q=new e.Text({style:{text:n?t||b.name:"",fill:q.getTextColor(),textFont:q.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:y?G||b.name:"",fill:h.getTextColor(),textFont:h.getFont()},position:b.center.slice(),scale:[1/v[0],1/v[1]],z2:10,silent:!0}),g.add(q);f?f.setItemGraphicEl(I,g):(q=a.getRegionModel(b.name),k.eventData={componentType:"geo",geoIndex:a.componentIndex,name:b.name,region:q&&q.option||{}});g.__region=b;e.setHoverStyle(g,l);p.add(g)});this._updateController(a,b,k);n(a,p,k,q);l(a,p)},remove:function(){this.group.removeAll();this._controller.dispose()},_updateController:function(a,b,e){function q(){var b={type:"geoRoam",componentType:f};b[f+"Id"]=a.id;return b}var g=a.coordinateSystem;b=this._controller;b.zoomLimit=a.get("scaleLimit");b.zoom=g.getZoom();b.enable(a.get("roam")||!1);var f=a.mainType;b.off("pan").on("pan",function(a,b){e.dispatchAction(d.extend(q(),{dx:a,dy:b}))});b.off("zoom").on("zoom",function(a,b,c){e.dispatchAction(d.extend(q(),{zoom:a,originX:b,originY:c}));if(this._updateGroup){a=this.group;var g=a.scale;a.traverse(function(a){"text"===a.type&&a.attr("scale",[1/g[0],1/g[1]])})}},this);b.rectProvider=function(){return g.getViewRectAfterRoam()}}};r.exports=h},function(r,p,a){function m(a){if(!a.target||!a.target.draggable){var b=a.offsetX;a=a.offsetY;var c=this.rectProvider&&this.rectProvider();c&&c.contain(b,a)&&(this._x=b,this._y=a,this._dragging=!0)}}function n(a){if(this._dragging&&(k.stop(a.event),"pinch"!==a.gestureEvent&&!q.isTaken(this._zr,"globalPan"))){var b=a.offsetX,c=a.offsetY,d=b-this._x,e=c-this._y;this._x=b;this._y=c;if(b=this.target)c=b.position,c[0]+=d,c[1]+=e,b.dirty();k.stop(a.event);this.trigger("pan",d,e)}}function l(a){this._dragging=!1}function h(a){e.call(this,a,0<a.wheelDelta?1.1:1/1.1,a.offsetX,a.offsetY)}function f(a){q.isTaken(this._zr,"globalPan")||e.call(this,a,1<a.pinchScale?1.1:1/1.1,a.pinchX,a.pinchY)}function e(a,b,c,d){var e=this.rectProvider&&this.rectProvider();if(e&&e.contain(c,d)){k.stop(a.event);a=this.target;var q=this.zoomLimit;if(a){var e=a.position,f=a.scale,h=this.zoom=this.zoom||1,h=h*b;q&&(h=Math.max(Math.min(q.max||Infinity,h),q.min||0));q=h/this.zoom;this.zoom=h;e[0]-=(c-e[0])*(q-1);e[1]-=(d-e[1])*(q-1);f[0]*=q;f[1]*=q;a.dirty()}this.trigger("zoom",b,c,d)}}function d(a,d,e){this.target=d;this.rectProvider=e;this._zr=a;d=b.bind;var k=d(m,this),q=d(n,this),p=d(l,this),r=d(h,this),z=d(f,this);c.call(this);this.enable=function(b){this.disable();null==b&&(b=!0);if(!0===b||"move"===b||"pan"===b)a.on("mousedown",k),a.on("mousemove",q),a.on("mouseup",p);if(!0===b||"scale"===b||"zoom"===b)a.on("mousewheel",r),a.on("pinch",z)};this.dispose=this.disable=function(){a.off("mousedown",k);a.off("mousemove",q);a.off("mouseup",p);a.off("mousewheel",r);a.off("pinch",z)};this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}var c=a(33),b=a(4),k=a(87),q=a(175);b.mixin(d,c);r.exports=d},function(r,p,a){a(1).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});r.exports={take:function(a,n,l){(a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={}))[n]=l},release:function(a,n,l){a=a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={});a[n]===l&&(a[n]=null)},isTaken:function(a,n){return!!(a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={}))[n]}}},function(r,p,a){var m=a(4),n=a(177);a(1).registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(a,h){var f=a.componentType||"series";h.eachComponent({mainType:f,query:a},function(e){var d=e.coordinateSystem;if("geo"===d.type){var c=n.updateCenterAndZoom(d,a,e.get("scaleLimit"));e.setCenter&&e.setCenter(c.center);e.setZoom&&e.setZoom(c.zoom);"series"===f&&m.each(e.seriesGroup,function(a){a.setCenter(c.center);a.setZoom(c.zoom)})}})})},function(r,p){r.exports={updateCenterAndZoom:function(a,m,n){var l=a.getZoom(),h=a.getCenter(),f=m.zoom,e=a.dataToPoint(h);null!=m.dx&&null!=m.dy&&(e[0]-=m.dx,e[1]-=m.dy,h=a.pointToData(e),a.setCenter(h));null!=f&&(n&&(f=Math.max(Math.min(l*f,n.max||Infinity),n.min||0)/l),a.scale[0]*=f,a.scale[1]*=f,n=a.position,h=(m.originY-n[1])*(f-1),n[0]-=(m.originX-n[0])*(f-1),n[1]-=h,a.updateTransform(),h=a.pointToData(e),a.setCenter(h),a.setZoom(f*l));return{center:a.getCenter(),zoom:a.getZoom()}}}},function(r,p,a){var m=a(4);r.exports=function(a){var l={};a.eachSeriesByType("map",function(h){var f=h.get("map");if(!l[f]){var e={};m.each(h.seriesGroup,function(c){var b=c.coordinateSystem,d=c.originalData;c.get("showLegendSymbol")&&a.getComponent("legend")&&d.each("value",function(a,c){var f=d.getName(c),h=b.getRegion(f);if(h&&!isNaN(a)){var l=e[f]||0,h=b.dataToPoint(h.center);e[f]=l+1;d.setItemLayout(c,{point:h,offset:l})}})});var d=h.getData();d.each(function(a){var b=d.getName(a),k=d.getItemLayout(a)||{};k.showLabel=!e[b];d.setItemLayout(a,k)});l[f]=!0}})}},function(r,p){r.exports=function(a){a.eachSeriesByType("map",function(a){var n=a.get("color"),l=a.getModel("itemStyle.normal"),h=l.get("areaColor"),n=l.get("color")||n[a.seriesIndex%n.length];a.getData().setVisual({areaColor:h,color:n})})}},function(r,p,a){function m(a,h){for(var f={},e=["value"],d=0;d<a.length;d++)a[d].each(e,function(c,b){var e=a[d].getName(b);f[e]=f[e]||[];isNaN(c)||f[e].push(c)});return a[0].map(e,function(c,b){for(var d=a[0].getName(b),e=0,g=Infinity,m=-Infinity,n=f[d].length,p=0;p<n;p++)g=Math.min(g,f[d][p]),m=Math.max(m,f[d][p]),e+=f[d][p];d="min"===h?g:"max"===h?m:"average"===h?e/n:e;return 0===n?NaN:d})}var n=a(4);r.exports=function(a){var h={};a.eachSeriesByType("map",function(a){var e=a.get("map");h[e]=h[e]||[];h[e].push(a)});n.each(h,function(a,e){for(var d=m(n.map(a,function(a){return a.getData()}),a[0].get("mapValueCalculation")),c=0;c<a.length;c++)a[c].originalData=a[c].getData();for(c=0;c<a.length;c++)a[c].seriesGroup=a,a[c].needsDrawMap=0===c,a[c].setData(d.cloneShallow()),a[c].mainSeries=a[0]})}},function(r,p,a){var m=a(4);r.exports=function(a){var l=[];m.each(a.series,function(a){"map"===a.type&&l.push(a)});m.each(l,function(a){a.map=a.map||a.mapType;m.defaults(a,a.mapLocation)})}},function(r,p,a){r=a(1);a(183);a(186);a(190);r.registerVisual(a(191));r.registerLayout(a(193))},function(r,p,a){function m(a,c){var d=0;f.each(a.children,function(a){m(a,c);a=a.value;f.isArray(a)&&(a=a[0]);d+=a});var e=a.value;0<=c&&(f.isArray(e)?e=e[0]:a.value=Array(c));if(null==e||isNaN(e))e=d;0>e&&(e=0);0<=c?a.value[0]=e:a.value=e}function n(a,c){var d=c.get("color");if(d){a=a||[];var g;f.each(a,function(a){a=new e(a);var b=a.get("color");if(a.get("itemStyle.normal.color")||b&&"none"!==b)g=!0});g||((a[0]||(a[0]={})).color=d.slice());return a}}var l=a(28),h=a(184),f=a(4),e=a(12);p=a(6);var d=p.encodeHTML,c=p.addCommas;r.exports=l.extend({type:"series.treemap",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:Infinity,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",visualDimension:0,zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(a,c){var d=a.data||[],e=a.name;null==e&&(e=a.name);e={name:e,children:a.data};d=(d[0]||{}).value;m(e,f.isArray(d)?d.length:-1);d=a.levels||[];d=a.levels=n(d,c);return h.createTree(e,this,d).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(a){var e=this.getData(),q=this.getRawValue(a),q=f.isArray(q)?c(q[0]):c(q);a=e.getName(a);return d(a)+": "+q},getDataParams:function(a){for(var c=l.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(a),e=c.treePathInfo=[];d;){var f=d.dataIndex;e.push({name:d.name,dataIndex:f,value:this.getRawValue(f)});d=d.parentNode}e.reverse();return c},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{};f.extend(this.layoutInfo,a)},mapIdToIndex:function(a){var c=this._idIndexMap;c||(c=this._idIndexMap={},this._idIndexMapCount=0);var d=c[a];null==d&&(c[a]=d=this._idIndexMapCount++);return d},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var c=this.getData().tree.root;if(!a||a!==c&&!c.contains(a))this._viewRoot=c}})},function(r,p,a){function m(a,b){this._nodes=[];this.hostModel=a;this.levelModels=n.map(b||[],function(b){return new l(b,a,a.ecModel)})}var n=a(4),l=a(12),h=a(97),f=a(185),e=a(102),d=function(a,b){this.name=a||"";this.height=this.depth=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=b};d.prototype={constructor:d,isRemoved:function(){return 0>this.dataIndex},eachNode:function(a,b,d){"function"===typeof a&&(d=b,b=a,a=null);a=a||{};n.isString(a)&&(a={order:a});var e=a.order||"preorder",g=this[a.attr||"children"],f;"preorder"===e&&(f=b.call(d,this));for(var h=0;!f&&h<g.length;h++)g[h].eachNode(a,b,d);"postorder"===e&&b.call(d,this)},updateDepthAndHeight:function(a){var b=0;this.depth=a;for(var d=0;d<this.children.length;d++){var e=this.children[d];e.updateDepthAndHeight(a+1);e.height>b&&(b=e.height)}this.height=b+1},getNodeById:function(a){if(this.getId()===a)return this;for(var b=0,d=this.children,e=d.length;b<e;b++){var g=d[b].getNodeById(a);if(g)return g}},contains:function(a){if(a===this)return!0;for(var b=0,d=this.children,e=d.length;b<e;b++){var g=d[b].contains(a);if(g)return g}},getAncestors:function(a){var b=[];for(a=a?this:this.parentNode;a;)b.push(a),a=a.parentNode;b.reverse();return b},getValue:function(a){var b=this.hostTree.data;return b.get(b.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,b){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(a){if(!(0>this.dataIndex)){var b=this.hostTree,d=b.data.getItemModel(this.dataIndex),e=this.getLevelModel();return d.getModel(a,(e||b.hostModel).getModel(a))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(a,b){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},getVisual:function(a,b){return this.hostTree.data.getItemVisual(this.dataIndex,a,b)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};m.prototype={constructor:m,type:"tree",eachNode:function(a,b,d){this.root.eachNode(a,b,d)},getNodeByDataIndex:function(a){a=this.data.getRawIndex(a);return this._nodes[a]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){for(var a=this.data,b=this._nodes,d=0,e=b.length;d<e;d++)b[d].dataIndex=-1;d=0;for(e=a.count();d<e;d++)b[a.getRawIndex(d)].dataIndex=d},clearLayouts:function(){this.data.clearItemLayouts()}};m.createTree=function(a,b,k){function q(a,b){l.push(a);var c=new d(a.name,g);if(b){var e=b.children;c.parentNode!==b&&(e.push(c),c.parentNode=b)}else g.root=c;g._nodes.push(c);if(e=a.children)for(var k=0;k<e.length;k++)q(e[k],c)}var g=new m(b,k),l=[];q(a);g.root.updateDepthAndHeight(0);a=e([{name:"value"}],l);b=new h(a,b);b.initData(l);f({mainData:b,struct:g,structAttr:"tree"});g.update();return g};r.exports=m},function(r,p,a){function m(a,c){if(this["\x00__link_mainData"]===this){var q=d.extend({},this["\x00__link_datas"]);q[this.dataType]=c;f(c,q,a)}else e(c,this.dataType,this["\x00__link_mainData"],a);return c}function n(a,c){a.struct&&a.struct.update(this);return c}function l(a,d){c(d["\x00__link_datas"],function(c,g){c!==d&&e(c.cloneShallow(),g,d,a)});return d}function h(a){var c=this["\x00__link_mainData"];return null==a||null==c?c:c["\x00__link_datas"][a]}function f(a,d,q){a["\x00__link_datas"]={};c(d,function(c,d){e(c,d,a,q)})}function e(a,c,d,e){d["\x00__link_datas"][c]=a;a["\x00__link_mainData"]=d;a.dataType=c;e.struct&&(a[e.structAttr]=e.struct,e.struct[e.datasAttr[c]]=a);a.getLinkedData=h}var d=a(4),c=d.each;r.exports=function(a){var e=a.mainData,q=a.datas;q||(q={main:e},a.datasAttr={main:"data"});a.datas=a.mainData=null;f(e,q,a);c(q,function(g){c(e.TRANSFERABLE_METHODS,function(c){g.wrapMethod(c,d.curry(m,a))})});e.wrapMethod("cloneShallow",d.curry(l,a));c(e.CHANGABLE_METHODS,function(c){e.wrapMethod(c,d.curry(n,a))});d.assert(q[e.dataType]===e)}},function(r,p,a){function m(){return{nodeGroup:[],background:[],content:[]}}function n(a,b,c,d,e,g,k,q,f,m){function n(b){Q.dataIndex=k.dataIndex;Q.seriesIndex=a.seriesIndex;var c=G.borderWidth,d=Math.max(N-2*c,0),e=Math.max(P-2*c,0);Q.culling=!0;Q.setShape({x:c,y:c,width:d,height:e});var g=k.getVisual("color",!0);p(Q,function(){var b={fill:g},c=k.getModel("itemStyle.emphasis").getItemStyle(),q=k.getModel(),f=q.get("name");if(G.isLeafRoot)var l=a.get("drillDownIcon",!0),f=l?l+" "+f:test;r(f,b,q,v,g,d,e);r(f,c,q,t,g,d,e);Q.setStyle(b);h.setHoverStyle(Q,c)});b.add(Q)}function p(a,b){R?!a.invisible&&g.push(a):(b(),a.__tmWillVisible||(a.invisible=!1))}function r(a,b,c,d,e,g,k){c=c.getModel(d);d=c.getModel("textStyle");h.setText(b,c,e);b.textAlign=d.get("align");b.textVerticalAlign=d.get("baseline");e=d.getTextRect(a);!c.getShallow("show")||e.height>k?b.text="":b.text=e.width>g?d.get("ellipsis")?d.truncateText(a,g,null,{minChar:2}):"":a}function x(a,g,q,f){var h=null!=O&&c[a][O],m=e[a];h?(c[a][O]=null,g=h,(m[T]={}).old="nodeGroup"===a?g.position.slice():l.extend({},g.shape)):R||(h=10*q+f,h=new g({z:(h-1)/h}),h.__tmDepth=q,h.__tmStorageName=a,m=m[T]={},!(f=k.parentNode)||d&&"drillDown"!==d.direction||(q=g=0,f=e.background[f.getRawIndex()],!d&&f&&f.old&&(g=f.old.width,q=f.old.height),m.old="nodeGroup"===a?[0,q]:{x:g,y:q,width:0,height:0}),m.fadein="nodeGroup"!==a);return b[a][T]=h}if(k){var G=k.getLayout();if(G&&G.isInView){var N=G.width,P=G.height,R=G.invisible,T=k.getRawIndex(),O=q&&q.getRawIndex();if(q=x("nodeGroup",u)){f.add(q);q.attr("position",[G.x||0,G.y||0]);q.__tmNodeWidth=N;q.__tmNodeHeight=P;if(G.isAboveViewRoot)return q;var S=x("background",y,m,1);S&&(S.setShape({x:0,y:0,width:N,height:P}),p(S,function(){S.setStyle("fill",k.getVisual("borderColor",!0))}),q.add(S));f=k.viewChildren;if(!f||!f.length){var Q=x("content",y,m,2);Q&&n(q)}return q}}}}var l=a(4),h=a(43),f=a(98),e=a(187),d=a(188),c=a(174),b=a(9),k=a(11),q=a(189),g=l.bind,u=h.Group,y=h.Rect,x=l.each,v=["label","normal"],t=["label","emphasis"];r.exports=a(1).extendChartView({type:"treemap",init:function(a,b){this._storage=m();this._state="ready"},render:function(a,b,c,d){var g=b.findComponents({mainType:"series",subType:"treemap",query:d});if(!(0>l.indexOf(g,a))){this.seriesModel=a;this.api=c;this.ecModel=b;b=e.retrieveTargetInfo(d,a);var g=d&&d.type,k=a.layoutInfo,q=!this._oldTree,f=this._storage;d="treemapRootToNode"===g&&b&&f?{rootNodeGroup:f.nodeGroup[b.node.getRawIndex()],direction:d.direction}:null;k=this._giveContainerGroup(k);f=this._doRender(k,a,d);q||g&&"treemapZoomToNode"!==g&&"treemapRootToNode"!==g?f.renderFinally():this._doAnimation(k,f,a,d);this._resetController(c);this._renderBreadcrumb(a,c,b)}},_giveContainerGroup:function(a){var b=this._containerGroup;b||(b=this._containerGroup=new u,this._initEvents(b),this.group.add(b));b.attr("position",[a.x,a.y]);return b},_doRender:function(a,b,c){function d(a,b,c,e,g){function k(a){return a.getId()}function q(k,f){var h=null!=k?a[k]:null,l=null!=f?b[f]:null,m=v(h,l,c,g);m&&d(h&&h.viewChildren||[],l&&l.viewChildren||[],m,e,g+1)}e?(b=a,x(a,function(a,b){!a.isRemoved()&&q(b,b)})):(new f(b,a,k,k)).add(q).update(q).remove(l.curry(q,null)).execute()}var e=b.getData().tree,g=this._oldTree,k=m(),q=m(),h=this._storage,u=[],v=l.curry(n,b,q,h,c,k,u);d(e.root?[e.root]:[],g&&g.root?[g.root]:[],a,e===g||!g,0);var p=function(a){var b=m();a&&x(a,function(a,c){var d=b[c];x(a,function(a){a&&(d.push(a),a.__tmWillDelete=1)})});return b}(h);this._oldTree=e;this._storage=q;return{lastsForAnimation:k,willDeleteEls:p,renderFinally:function(){x(p,function(a){x(a,function(a){a.parent&&a.parent.remove(a)})});x(u,function(a){a.invisible=!0;a.dirty()})}}},_doAnimation:function(a,b,c,d){if(c.get("animation")){var e=c.get("animationDurationUpdate"),k=c.get("animationEasing"),f=q.createWrap();x(b.willDeleteEls,function(a,b){x(a,function(a,c){if(!a.invisible){var g=a.parent;if(d&&"drillDown"===d.direction)g=g===d.rootNodeGroup?{shape:{x:0,y:0,width:g.__tmNodeWidth,height:g.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var q=0,h=0;g.__tmWillDelete||(q=g.__tmNodeWidth/2,h=g.__tmNodeHeight/2);g="nodeGroup"===b?{position:[q,h],style:{opacity:0}}:{shape:{x:q,y:h,width:0,height:0},style:{opacity:0}}}g&&f.add(a,g,e,k)}})});x(this._storage,function(a,c){x(a,function(a,d){var g=b.lastsForAnimation[c][d],q={};g&&("nodeGroup"===c?g.old&&(q.position=a.position.slice(),a.attr("position",g.old)):(g.old&&(q.shape=l.extend({},a.shape),a.setShape(g.old)),g.fadein?(a.setStyle("opacity",0),q.style={opacity:1}):1!==a.style.opacity&&(q.style={opacity:1})),f.add(a,q,e,k))})},this);this._state="animating";f.done(g(function(){this._state="ready";b.renderFinally()},this)).start()}},_resetController:function(a){var d=this._controller;d||(d=this._controller=new c(a.getZr()),d.enable(this.seriesModel.get("roam")),d.on("pan",g(this._onPan,this)),d.on("zoom",g(this._onZoom,this)));var e=new b(0,0,a.getWidth(),a.getHeight());d.rectProvider=function(){return e}},_clearController:function(){var a=this._controller;a&&a.off("pan").off("zoom")},_onPan:function(a,b){this._mayClick=!1;if("animating"!==this._state&&(3<Math.abs(a)||3<Math.abs(b))){var c=this.seriesModel.getData().tree.root;c&&(c=c.getLayout())&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x+a,y:c.y+b,width:c.width,height:c.height}})}},_onZoom:function(a,c,d){this._mayClick=!1;if("animating"!==this._state){var e=this.seriesModel.getData().tree.root;if(e&&(e=e.getLayout())){var e=new b(e.x,e.y,e.width,e.height),g=this.seriesModel.layoutInfo;c-=g.x;d-=g.y;g=k.create();k.translate(g,g,[-c,-d]);k.scale(g,g,[a,a]);k.translate(g,g,[c,d]);e.applyTransform(g);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x,y:e.y,width:e.width,height:e.height}})}}},_initEvents:function(a){a.on("mousedown",function(a){"ready"===this._state&&(this._mayClick=!0)},this);a.on("mouseup",function(a){if(this._mayClick&&(this._mayClick=!1,"ready"===this._state)){var b=this.seriesModel.get("nodeClick",!0);if(b&&(a=this.findTarget(a.offsetX,a.offsetY))){var c=a.node;c.getLayout().isLeafRoot?this._rootToNode(a):"zoomToNode"===b?this._zoomToNode(a):"link"===b&&(a=c.hostTree.data.getItemModel(c.dataIndex),b=a.get("link",!0),a=a.get("target",!0)||"blank",b&&window.open(b,a))}}},this)},_renderBreadcrumb:function(a,b,c){function k(b){"animating"!==this._state&&(e.aboveViewRoot(a.getViewRoot(),b)?this._rootToNode({node:b}):this._zoomToNode({node:b}))}c||(c=this.findTarget(b.getWidth()/2,b.getHeight()/2))||(c={node:a.getData().tree.root});(this._breadcrumb||(this._breadcrumb=new d(this.group,g(k,this)))).render(a,b,c.node)},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=m();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(a,b){var c;this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(d){var e=this._storage.background[d.getRawIndex()];if(e){var g=e.transformCoordToLocal(a,b),e=e.shape;if(e.x<=g[0]&&g[0]<=e.x+e.width&&e.y<=g[1]&&g[1]<=e.y+e.height)c={node:d,offsetX:g[0],offsetY:g[1]};else return!1}},this);return c}})},function(r,p,a){var m=a(4),n={retrieveTargetInfo:function(a,h){if(a&&("treemapZoomToNode"===a.type||"treemapRootToNode"===a.type)){var f=h.getData().tree.root,e=a.targetNode;if(e&&f.contains(e))return{node:e};var d=a.targetNodeId;if(null!=d&&(e=f.getNodeById(d)))return{node:e}}},getPathToRoot:function(a){for(var h=[];a;)(a=a.parentNode)&&h.push(a);return h.reverse()},aboveViewRoot:function(a,h){var f=n.getPathToRoot(a);return 0<=m.indexOf(f,h)}};r.exports=n},function(r,p,a){function m(a,d){this.group=new l.Group;a.add(this.group);this._onSelect=d||f.noop}function n(a,d,c,b,k,q){var g=[[k?a:a-5,d],[a+c,d],[a+c,d+b],[k?a:a-5,d+b]];!q&&g.splice(2,0,[a+c+5,d+b/2]);!k&&g.push([a,d+b/2]);return g}var l=a(43),h=a(21),f=a(4);m.prototype={constructor:m,render:function(a,d,c){a=a.getModel("breadcrumb");var b=this.group;b.removeAll();if(a.get("show")&&c){var k=a.getModel("itemStyle.normal"),q=k.getModel("textStyle");d={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:d.getWidth(),height:d.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(a,c,d,q);this._renderContent(a,c,d,k,q);h.positionGroup(b,d.pos,d.box)}},_prepare:function(a,d,c,b){for(a=d;a;a=a.parentNode){d=a.getModel().get("name");var k=b.getTextRect(d),k=Math.max(k.width+16,c.emptyItemWidth);c.totalWidth+=k+8;c.renderList.push({node:a,text:d,width:k})}},_renderContent:function(a,d,c,b,k){d=0;var q=c.emptyItemWidth;a=a.get("height");var g=h.getAvailableSize(c.pos,c.box),m=c.totalWidth;c=c.renderList;for(var p=c.length-1;0<=p;p--){var r=c[p],v=r.width,t=r.text;m>g.width&&(m-=v-q,v=q,t="");this.group.add(new l.Polygon({shape:{points:n(d,0,v,a,p===c.length-1,0===p)},style:f.defaults(b.getItemStyle(),{lineJoin:"bevel",text:t,textFill:k.getTextColor(),textFont:k.getFont()}),z:10,onclick:f.bind(this._onSelect,this,r.node)}));d+=v+8}},remove:function(){this.group.removeAll()}};r.exports=m},function(r,p,a){var m=a(4);r.exports={createWrap:function(){var a=[],l={},h;return{add:function(f,e,d,c,b){m.isString(c)&&(b=c,c=0);if(l[f.id])return!1;l[f.id]=1;a.push({el:f,target:e,time:d,delay:c,easing:b});return!0},done:function(a){h=a;return this},start:function(){function f(){e--;e||(a.length=0,l={},h&&h())}for(var e=a.length,d=0,c=a.length;d<c;d++){var b=a[d];b.el.animateTo(b.target,b.time,b.delay,b.easing,f)}return this}}}}},function(r,p,a){r=a(1);var m=a(187);a=function(){};p=["treemapZoomToNode","treemapRender","treemapMove"];for(var n=0;n<p.length;n++)r.registerAction({type:p[n],update:"updateView"},a);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(a,h){h.eachComponent({mainType:"series",subType:"treemap",query:a},function(f,e){var d=m.retrieveTargetInfo(a,f);if(d){var c=f.getViewRoot();c&&(a.direction=m.aboveViewRoot(c,d.node)?"rollUp":"drillDown");f.resetViewRoot(d.node)}})})},function(r,p,a){function m(a,d,e,k,h,v){var p=a.getModel(),r=a.getLayout();if(r&&!r.invisible&&r.isInView){var z=a.getModel("itemStyle.normal"),w=n(z,d,e[a.depth],k),C=z.get("borderColor");d=z.get("borderColorSaturation");null!=d&&(C=l(w,a),C=null!=C?c.modifyHSL(C,null,null,d):null);a.setVisual("borderColor",C);if((d=a.viewChildren)&&d.length){var B=f(a,p,r,z,w,d);b.each(d,function(a,c){if(a.depth>=h.length||a===h[a.depth]){var d=b.extend({},w);if(B){var g=B.type,q="color"===g&&B.__drColorMappingBy,q="index"===q?c:"id"===q?v.mapIdToIndex(a.getId()):a.getValue(p.get("visualDimension"));d[g]=B.mapValueToVisual(q)}m(a,d,e,k,h,v)}})}else C=l(w,a),a.setVisual("color",C)}}function n(a,c,d,e){var k=b.extend({},c);b.each(["color","colorAlpha","colorSaturation"],function(b){var f=a.get(b,!0);null==f&&d&&(f=d[b]);null==f&&(f=c[b]);null==f&&(f=e.get(b));null!=f&&(k[b]=f)});return k}function l(a){var b=h(a,"color");if(b){var d=h(a,"colorAlpha");(a=h(a,"colorSaturation"))&&(b=c.modifyHSL(b,null,null,a));d&&(b=c.modifyAlpha(b,d));return b}}function h(a,b){var c=a[b];if(null!=c&&"none"!==c)return c}function f(a,b,c,k,f,h){if(h&&h.length&&(a=e(b,"color")||null!=f.color&&"none"!==f.color&&(e(b,"colorAlpha")||e(b,"colorSaturation"))))return b=b.get("colorMappingBy"),c={type:a.name,dataExtent:c.dataExtent,visual:a.range},"color"!==c.type||"index"!==b&&"id"!==b?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0),c=new d(c),c.__drColorMappingBy=b,c}function e(a,b){var c=a.get(b);return k(c)&&c.length?{name:b,range:c}:null}var d=a(192),c=a(39),b=a(4),k=b.isArray;r.exports=function(a,c,d){a.eachComponent({mainType:"series",subType:"treemap",query:d},function(a){var c=a.getData().tree,d=c.root,e=a.getModel("itemStyle.normal");d.isRemoved()||(c=b.map(c.levelModels,function(a){return a?a.get("itemStyle.normal"):null}),m(d,{},c,e,a.getViewRoot().getAncestors(),a))})}},function(r,p,a){function m(a){var b=a.pieceList;a.hasSpecialVisual=!1;g.each(b,function(b,c){b.originIndex=c;null!=b.visual&&(a.hasSpecialVisual=!0)})}function n(a){var b=a.categories,c=a.visual,d=a.categoryMap={};x(b,function(a,b){d[a]=b});if(!g.isArray(c)){var e=[];g.isObject(c)?x(c,function(a,b){var c=d[b];e[null!=c?c:-1]=a}):e[-1]=c;c=a.visual=e}for(a=b.length-1;0<=a;a--)null==c[a]&&(delete d[b[a]],b.pop())}function l(a,b){var c=a.visual,d=[];g.isObject(c)?x(c,function(a){d.push(a)}):null!=c&&d.push(c);c={color:1,symbol:1};b||1!==d.length||a.type in c||(d[1]=d[0]);a.visual=d}function h(a){return{applyVisual:function(b,c,d){b=this.mapValueToVisual(b);d("color",a(c("color"),b))},_doMap:b([0,1])}}function f(a,b){var c=this.option.visual;return c[Math.round(y(b,[0,1],[0,c.length-1],!0))]||{}}function e(a){return function(b,c,d){d(a,this.mapValueToVisual(b))}}function d(a){var b=this.option.visual;return b[this.option.loop&&-1!==a?a%b.length:a]}function c(){return this.option.visual[0]}function b(a){return{linear:function(b){return y(b,a,this.option.visual,!0)},category:d,piecewise:function(b,c){var d=k.call(this,c);null==d&&(d=y(b,a,this.option.visual,!0));return d},fixed:c}}function k(a){var b=this.option,c=b.pieceList;if(b.hasSpecialVisual&&(a=t.findPieceIndex(a,c),(c=c[a])&&c.visual))return c.visual[this.type]}function q(a,b,c){return a?b<=c:b<c}var g=a(4),u=a(39),y=a(7).linearMap,x=g.each,v=g.isObject,t=function(a){var b=a.mappingMethod,c=a.type;a=this.option=g.clone(a);this.type=c;this.mappingMethod=b;this._normalizeData=z[b];c=A[c];this.applyVisual=c.applyVisual;this.getColorMapper=c.getColorMapper;this._doMap=c._doMap[b];"piecewise"===b?(l(a),m(a)):"category"===b?a.categories?n(a):l(a,!0):(g.assert("linear"!==b||a.dataExtent),l(a))};t.prototype={constructor:t,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return g.bind(this._normalizeData,this)}};var A=t.visualHandlers={color:{applyVisual:e("color"),getColorMapper:function(){var a=this.option,b=g.map(a.visual,u.parse);return g.bind("category"===a.mappingMethod?function(a,b){!b&&(a=this._normalizeData(a));return d(this,a)}:function(a,c,d){var e=!!d;!c&&(a=this._normalizeData(a));d=u.fastMapToColor(a,b,d);return e?d:g.stringify(d,"rgba")},this)},_doMap:{linear:function(a){return u.mapToColor(a,this.option.visual)},category:d,piecewise:function(a,b){var c=k.call(this,b);null==c&&(c=u.mapToColor(a,this.option.visual));return c},fixed:c}},colorHue:h(function(a,b){return u.modifyHSL(a,b)}),colorSaturation:h(function(a,b){return u.modifyHSL(a,null,b)}),colorLightness:h(function(a,b){return u.modifyHSL(a,null,null,b)}),colorAlpha:h(function(a,b){return u.modifyAlpha(a,b)}),opacity:{applyVisual:e("opacity"),_doMap:b([0,1])},symbol:{applyVisual:function(a,b,c){a=this.mapValueToVisual(a);if(g.isString(a))c("symbol",a);else if(v(a))for(var d in a)a.hasOwnProperty(d)&&c(d,a[d])},_doMap:{linear:f,category:d,piecewise:function(a,b){var c=k.call(this,b);null==c&&(c=f.call(this,a));return c},fixed:c}},symbolSize:{applyVisual:e("symbolSize"),_doMap:b([0,1])}},z={linear:function(a){return y(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList;a=t.findPieceIndex(a,b,!0);if(null!=a)return y(a,[0,b.length-1],[0,1],!0)},category:function(a){a=this.option.categories?this.option.categoryMap[a]:a;return null==a?-1:a},fixed:g.noop};t.addVisualHandler=function(a,b){A[a]=b};t.isValidType=function(a){return A.hasOwnProperty(a)};t.eachVisual=function(a,b,c){g.isObject(a)?g.each(a,b,c):b.call(c,a)};t.mapVisual=function(a,b,c){var d,e=g.isArray(a)?[]:g.isObject(a)?{}:(d=!0,null);t.eachVisual(a,function(a,g){var k=b.call(c,a,g);d?e=k:e[g]=k});return e};t.retrieveVisuals=function(a){var b={},c;a&&x(A,function(d,e){a.hasOwnProperty(e)&&(b[e]=a[e],c=!0)});return c?b:null};t.prepareVisualTypes=function(a){if(v(a)){var b=[];x(a,function(a,c){b.push(c)});a=b}else if(g.isArray(a))a=a.slice();else return[];a.sort(function(a,b){return"color"===b&&"color"!==a&&0===a.indexOf("color")?1:-1});return a};t.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b};t.findPieceIndex=function(a,b,c){function d(b,c){var k=Math.abs(b-a);k<g&&(g=k,e=c)}for(var e,g=Infinity,k=0,f=b.length;k<f;k++){var h=b[k].value;if(null!=h){if(h===a)return k;c&&d(h,k)}}k=0;for(f=b.length;k<f;k++){var l=b[k],h=l.interval,l=l.close;if(h){if(-Infinity===h[0]){if(q(l[1],a,h[1]))return k}else if(Infinity===h[1]){if(q(l[0],h[0],a))return k}else if(q(l[0],h[0],a)&&q(l[1],a,h[1]))return k;c&&d(h[0],k);c&&d(h[1],k)}}if(c)return Infinity===a?b.length-1:-Infinity===a?0:e};r.exports=t},function(r,p,a){function m(a,b,c,d){var g,k;if(!a.isRemoved()){var f=a.getLayout();g=f.width;k=f.height;var f=a.getModel("itemStyle.normal"),q=f.get("borderWidth"),f=f.get("gapWidth")/2,h=q-f,l=a.getModel();a.setLayout({borderWidth:q},!0);g=x(g-2*h,0);k=x(k-2*h,0);q=g*k;a=n(a,l,q,b,c,d);if(a.length){h={x:h,y:h,width:g,height:k};g=v(g,k);k=Infinity;for(var u=[],p=u.area=0,t=a.length;p<t;){var y=a[p];u.push(y);u.area+=y.getLayout().area;for(var r=u,A=g,z=b.squareRatio,y=0,O=Infinity,S=0,Q,V=r.length;S<V;S++)if(Q=r[S].getLayout().area)Q<O&&(O=Q),Q>y&&(y=Q);r=r.area*r.area;A=A*A*z;y=r?x(A*y/r,r/(A*O)):Infinity;y<=k?(p++,k=y):(u.area-=u.pop().getLayout().area,e(u,g,h,f,!1),g=v(h.width,h.height),u.length=u.area=0,k=Infinity)}u.length&&e(u,g,h,f,!0);c||(f=l.get("childrenVisibleMin"),null!=f&&q<f&&(c=!0));p=0;for(t=a.length;p<t;p++)m(a[p],b,c,d+1)}}}function n(a,b,c,d,e,g){var q=a.children||[],m=d.sort;"asc"!==m&&"desc"!==m&&(m=null);d=null!=d.leafDepth&&d.leafDepth<=g;if(e&&!d)return a.viewChildren=[];q=k.filter(q,function(a){return!a.isRemoved()});h(q,m);e=f(b,q,m);if(0===e.sum)return a.viewChildren=[];e.sum=l(b,c,e.sum,m,q);if(0===e.sum)return a.viewChildren=[];b=0;for(m=q.length;b<m;b++)g=q[b].getValue()/e.sum*c,q[b].setLayout({area:g});d&&(q.length&&a.setLayout({isLeafRoot:!0},!0),q.length=0);a.viewChildren=q;a.setLayout({dataExtent:e.dataExtent},!0);return q}function l(a,b,c,d,e){if(!d)return c;a=a.get("visibleMin");for(var g=e.length,k=g,f=g-1;0<=f;f--){var q=e["asc"===d?g-f-1:f].getValue();q/c*b<a&&(k=f,c-=q)}"asc"===d?e.splice(0,g-k):e.splice(k,g-k);return c}function h(a,b){b&&a.sort(function(a,c){return"asc"===b?a.getValue()-c.getValue():c.getValue()-a.getValue()});return a}function f(a,b,c){for(var d=0,e=0,g=b.length;e<g;e++)d+=b[e].getValue();var k=a.get("visualDimension"),f;b&&b.length?"value"===k&&c?(f=[b[b.length-1].getValue(),b[0].getValue()],"asc"===c&&f.reverse()):(f=[Infinity,-Infinity],z(b,function(a){a=a.getValue(k);a<f[0]&&(f[0]=a);a>f[1]&&(f[1]=a)})):f=[NaN,NaN];return{sum:d,dataExtent:f}}function e(a,b,c,d,e){var g=b===c.width?0:1,k=1-g,f=["x","y"],q=["width","height"],h=c[f[g]];b=b?a.area/b:0;if(e||b>c[q[k]])b=c[q[k]];e=0;for(var l=a.length;e<l;e++){var m=a[e],n={},u=b?m.getLayout().area/b:0,p=n[q[k]]=x(b-2*d,0),y=c[f[g]]+c[q[g]]-h,u=e===l-1||y<u?y:u,y=n[q[g]]=x(u-2*d,0);n[f[k]]=c[f[k]]+v(d,p/2);n[f[g]]=h+v(d,y/2);h+=u;m.setLayout(n,!0)}c[f[k]]+=b;c[q[k]]-=b}function d(a,b,c,d,e){var g=(b||{}).node;b=[d,e];if(!g||g===c)return b;c=d*e;for(var k=c*a.option.zoomToNodeRatio;a=g.parentNode;){for(var f=0,h=a.children,l=0,m=h.length;l<m;l++)f+=h[l].getValue();g=g.getValue();if(0===g)return b;k*=f/g;g=a.getModel("itemStyle.normal").get("borderWidth");isFinite(g)&&(k+=4*g*g+4*g*Math.pow(k,.5));k>q.MAX_SAFE_INTEGER&&(k=q.MAX_SAFE_INTEGER);g=a}k<c&&(k=c);b=Math.pow(k/c,.5);return[d*b,e*b]}function c(a,b,c){if(b)return{x:b.x,y:b.y};b={x:0,y:0};if(!c)return b;c=c.node;var d=c.getLayout();if(!d)return b;for(b=[d.width/2,d.height/2];c;)d=c.getLayout(),b[0]+=d.x,b[1]+=d.y,c=c.parentNode;return{x:a.width/2-b[0],y:a.height/2-b[1]}}function b(a,c,d,e,g){var k=a.getLayout(),f=d[g],q=f&&f===a;if(!(f&&!q||g===d.length&&a!==e)){a.setLayout({isInView:!0,invisible:!q&&!c.intersect(k),isAboveViewRoot:q},!0);var h=new y(c.x-k.x,c.y-k.y,c.width,c.height);z(a.viewChildren||[],function(a){b(a,h,d,e,g+1)})}}var k=a(4),q=a(7),g=a(21),u=a(187),y=a(9),u=a(187),x=Math.max,v=Math.min,t=q.parsePercent,A=k.retrieve,z=k.each;r.exports=function(a,e,f){a.eachComponent({mainType:"series",subType:"treemap",query:f},function(a){var q=e.getWidth(),h=e.getHeight(),l=a.option,n=l.size||[],v=t(A(l.width,n[0]),q),p=t(A(l.height,n[1]),h),n=g.getLayoutRect(a.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),r=f&&f.type,x=u.retrieveTargetInfo(f,a),w="treemapRender"===r||"treemapMove"===r?f.rootRect:null,N=a.getViewRoot(),P=u.getPathToRoot(N);if("treemapMove"!==r){v="treemapZoomToNode"===r?d(a,x,N,v,p):w?[w.width,w.height]:[v,p];(p=l.sort)&&"asc"!==p&&"desc"!==p&&(p="desc");l={squareRatio:l.squareRatio,sort:p,leafDepth:l.leafDepth};N.hostTree.clearLayouts();var R={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]};N.setLayout(R);m(N,l,!1,0);R=N.getLayout();z(P,function(a,b){var c=(P[b+1]||N).getValue();a.setLayout(k.extend({dataExtent:[c,c],borderWidth:0},R))})}l=a.getData().tree.root;l.setLayout(c(n,w,x),!0);a.setLayoutInfo(n);b(l,new y(-n.x,-n.y,q,h),P,N,0)})}},function(r,p,a){r=a(1);p=a(4);a(195);a(198);a(203);r.registerProcessor(a(204));r.registerVisual(p.curry(a(109),"graph","circle",null));r.registerVisual(a(205));r.registerVisual(a(206));r.registerLayout(a(207));r.registerLayout(a(210));r.registerLayout(a(212));r.registerCoordinateSystem("graphView",{create:a(214)})},function(r,p,a){var m=a(97),n=a(4),l=a(5),h=a(12),f=a(196),e=a(1).extendSeriesModel({type:"series.graph",init:function(a){e.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeOption:function(a){e.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(a){e.superApply(this,"mergeDefaultAndTheme",arguments);l.defaultEmphasis(a.edgeLabel,l.LABEL_OPTIONS)},getInitialData:function(a,c){function b(a,b){a.wrapMethod("getItemModel",function(a){var b=g._categoriesModels,c=a.getShallow("category");if(b=b[c])b.parentModel=a.parentModel,a.parentModel=b;return a});var c=g.getModel("edgeLabel"),d=function(a,b){var e=(a||"").split(".");"label"===e[0]&&(b=b||c.getModel(e.slice(1)));e=h.prototype.getModel.call(this,e,b);e.getModel=d;return e};b.wrapMethod("getItemModel",function(a){a.getModel=d;return a})}var e=a.edges||a.links||[],q=a.data||a.nodes||[],g=this;if(q&&e)return f(q,e,this,!0,b).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(a,c,b){if("edge"===b){var k=this.getData(),f=this.getDataParams(a,b),g=k.graph.getEdgeByIndex(a),h=k.getName(g.node1.dataIndex),k=k.getName(g.node2.dataIndex),h=h+" \x3e "+k;f.value&&(h+=" : "+f.value);return h}return e.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var a=n.map(this.option.categories||[],function(a){return null!=a.value?a:n.extend({value:0},a)}),c=new m(["value"],this);c.initData(a);this._categoriesData=c;this._categoriesModels=c.mapArray(function(a){return c.getItemModel(a,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},ifEnableAnimation:function(){return e.superCall(this,"ifEnableAnimation")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});r.exports=e},function(r,p,a){var m=a(97),n=a(197),l=a(185),h=a(102),f=a(26),e=a(4),d=a(101);r.exports=function(a,b,k,q,g){q=new n(q);for(var u=0;u<a.length;u++)q.addNode(e.retrieve(a[u].id,a[u].name,u),u);for(var p=[],r=[],v=0,u=0;u<b.length;u++){var t=b[u],A=t.source,z=t.target;q.addEdge(A,z,v)&&(r.push(t),p.push(e.retrieve(t.id,A+" \x3e "+z)),v++)}b=k.get("coordinateSystem");"cartesian2d"===b||"polar"===b?b=d(a,k,k.ecModel):(b=f.get(b),b=h((b&&"view"!==b.type?b.dimensions||[]:[]).concat(["value"]),a),b=new m(b,k),b.initData(a));a=new m(["value"],k);a.initData(r,p);g&&g(b,a);l({mainData:b,struct:q,structAttr:"graph",datas:{node:b,edge:a},datasAttr:{node:"data",edge:"edgeData"}});q.update();return q}},function(r,p,a){function m(a,f){this.id=null==a?"":a;this.inEdges=[];this.outEdges=[];this.edges=[];this.dataIndex=null==f?-1:f}function n(a,f,e){this.node1=a;this.node2=f;this.dataIndex=null==e?-1:e}p=a(4);var l=function(a){this._directed=a||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={}};a=l.prototype;a.type="graph";a.isDirected=function(){return this._directed};a.addNode=function(a,f){a=a||""+f;var e=this._nodesMap;if(!e[a]){var d=new m(a,f);d.hostGraph=this;this.nodes.push(d);return e[a]=d}};a.getNodeByIndex=function(a){a=this.data.getRawIndex(a);return this.nodes[a]};a.getNodeById=function(a){return this._nodesMap[a]};a.addEdge=function(a,f,e){var d=this._nodesMap,c=this._edgesMap;"number"===typeof a&&(a=this.nodes[a]);"number"===typeof f&&(f=this.nodes[f]);a instanceof m||(a=d[a]);f instanceof m||(f=d[f]);if(a&&f&&(d=a.id+"-"+f.id,!c[d]))return e=new n(a,f,e),e.hostGraph=this,this._directed&&(a.outEdges.push(e),f.inEdges.push(e)),a.edges.push(e),a!==f&&f.edges.push(e),this.edges.push(e),c[d]=e};a.getEdgeByIndex=function(a){a=this.edgeData.getRawIndex(a);return this.edges[a]};a.getEdge=function(a,f){a instanceof m&&(a=a.id);f instanceof m&&(f=f.id);var e=this._edgesMap;return this._directed?e[a+"-"+f]:e[a+"-"+f]||e[f+"-"+a]};a.eachNode=function(a,f){for(var e=this.nodes,d=e.length,c=0;c<d;c++)0<=e[c].dataIndex&&a.call(f,e[c],c)};a.eachEdge=function(a,f){for(var e=this.edges,d=e.length,c=0;c<d;c++)0<=e[c].dataIndex&&0<=e[c].node1.dataIndex&&0<=e[c].node2.dataIndex&&a.call(f,e[c],c)};a.breadthFirstTraverse=function(a,f,e,d){f instanceof m||(f=this._nodesMap[f]);if(f){e="out"===e?"outEdges":"in"===e?"inEdges":"edges";for(var c=0;c<this.nodes.length;c++)this.nodes[c].__visited=!1;if(!a.call(d,f,null))for(f=[f];f.length;){d=f.shift();for(var b=d[e],c=0;c<b.length;c++){var k=b[c],k=k.node1===d?k.node2:k.node1;if(!k.__visited){if(a.call(k,k,d))return;f.push(k);k.__visited=!0}}}}};a.update=function(){for(var a=this.data,f=this.edgeData,e=this.nodes,d=this.edges,c=0,b=e.length;c<b;c++)e[c].dataIndex=-1;c=0;for(b=a.count();c<b;c++)e[a.getRawIndex(c)].dataIndex=c;f.filterSelf(function(a){a=d[f.getRawIndex(a)];return 0<=a.node1.dataIndex&&0<=a.node2.dataIndex});c=0;for(b=d.length;c<b;c++)d[c].dataIndex=-1;c=0;for(b=f.count();c<b;c++)d[f.getRawIndex(c)].dataIndex=c};a.clone=function(){for(var a=new l(this._directed),f=this.nodes,e=this.edges,d=0;d<f.length;d++)a.addNode(f[d].id,f[d].dataIndex);for(d=0;d<e.length;d++)f=e[d],a.addEdge(f.node1.id,f.node2.id,f.dataIndex);return a};m.prototype={constructor:m,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(0>this.dataIndex))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)}};n.prototype.getModel=function(a){if(!(0>this.dataIndex))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)};a=function(a,f){return{getValue:function(e){var d=this[a][f];return d.get(d.getDimension(e||"value"),this.dataIndex)},setVisual:function(e,d){0<=this.dataIndex&&this[a][f].setItemVisual(this.dataIndex,e,d)},getVisual:function(e,d){return this[a][f].getItemVisual(this.dataIndex,e,d)},setLayout:function(e,d){0<=this.dataIndex&&this[a][f].setItemLayout(this.dataIndex,e,d)},getLayout:function(){return this[a][f].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][f].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][f].getRawIndex(this.dataIndex)}}};p.mixin(m,a("hostGraph","data"));p.mixin(n,a("hostGraph","edgeData"));l.Node=m;l.Edge=n;r.exports=l},function(r,p,a){function m(a,b){return a.getVisual("opacity")||a.getModel().get(b)}var n=a(104),l=a(199),h=a(174),f=a(43),e=a(202),d=a(4),c=["itemStyle","normal","opacity"],b=["lineStyle","normal","opacity"];a(1).extendChartView({type:"graph",init:function(a,b){var c=new n,d=new l,e=this.group,f=new h(b.getZr(),e);e.add(c.group);e.add(d.group);this._symbolDraw=c;this._lineDraw=d;this._controller=f;this._firstRender=!0},render:function(a,b,c){var d=a.coordinateSystem;this._model=a;this._nodeScaleRatio=a.get("nodeScaleRatio");var h=this._symbolDraw;b=this._lineDraw;var l=this.group;"view"===d.type&&(d={position:d.position,scale:d.scale},this._firstRender?l.attr(d):f.updateProps(l,d,a));e(a.getGraph(),this._getNodeGlobalScale(a));var m=a.getData();h.updateData(m);h=a.getEdgeData();b.updateData(h);this._updateNodeAndLinkScale();this._updateController(a,c);clearTimeout(this._layoutTimeout);var n=a.forceLayout,p=a.get("force.layoutAnimation");n&&this._startForceLayoutIteration(n,p);m.eachItemGraphicEl(function(a,b){var c=m.getItemModel(b);a.off("drag").off("dragend");var d=m.getItemModel(b).get("draggable");if(d)a.on("drag",function(){n&&(n.warmUp(),!this._layouting&&this._startForceLayoutIteration(n,p),n.setFixed(b),m.setItemLayout(b,a.position))},this).on("dragend",function(){n&&n.setUnfixed(b)},this);a.setDraggable(d&&n);a.off("click",this._focusNodeAdjacency);if(c.get("focusNodeAdjacency"))a.on("click",this._nodeFocus,this)},this);var r="circular"===a.get("layout")&&a.get("circular.rotateLabel"),w=m.getLayout("cx"),C=m.getLayout("cy");m.eachItemGraphicEl(function(a,b){var c=a.getSymbolPath();if(r){var d=m.getItemLayout(b),e=Math.atan2(d[1]-C,d[0]-w);0>e&&(e=2*Math.PI+e);(d=d[0]<w)&&(e-=Math.PI);d=d?"left":"right";c.setStyle({textRotation:e,textPosition:d});c.hoverStyle&&(c.hoverStyle.textPosition=d)}else c.setStyle({textRotation:0})});this._firstRender=!1},nodeAdjacency:"0",_nodeFocus:function(a){"0"==this.nodeAdjacency?(this.nodeAdjacency="1",this._focusNodeAdjacency(a)):(this.nodeAdjacency="0",this._unfocusAll(a))},_focusNodeAdjacency:function(a){function e(a,b){var c=m(a,b),d=a.getGraphicEl();null==c&&(c=1);d.traverse(function(a){a.trigger("normal");"group"!==a.type&&a.setStyle("opacity",.1*c)})}function g(a,b){var c=m(a,b);a.getGraphicEl().traverse(function(a){a.trigger("emphasis");"group"!==a.type&&a.setStyle("opacity",c)})}var f=this._model.getData().graph,h=a.target;a=h.dataIndex;h=h.dataType;null!==a&&"edge"!==h&&(f.eachNode(function(a){e(a,c)}),f.eachEdge(function(a){e(a,b)}),f=f.getNodeByIndex(a),g(f,c),d.each(f.edges,function(a){0>a.dataIndex||(g(a,b),g(a.node1,c),g(a.node2,c))}))},_unfocusAll:function(){var a=this._model.getData().graph;a.eachNode(function(a){var b=m(a,c);a.getGraphicEl().traverse(function(a){a.trigger("normal");"group"!==a.type&&a.setStyle("opacity",b)})});a.eachEdge(function(a){var c=m(a,b);a.getGraphicEl().traverse(function(a){a.trigger("normal");"group"!==a.type&&a.setStyle("opacity",c)})})},_startForceLayoutIteration:function(a,b){var c=this;(function y(){a.step(function(a){c.updateLayout(c._model);(c._layouting=!a)&&(b?c._layoutTimeout=setTimeout(y,16):y())})})()},_updateController:function(a,b){var c=this._controller,d=this.group;c.rectProvider=function(){var a=d.getBoundingRect();a.applyTransform(d.transform);return a};"view"!==a.coordinateSystem.type?c.disable():(c.enable(a.get("roam")),c.zoomLimit=a.get("scaleLimit"),c.zoom=a.coordinateSystem.getZoom(),c.off("pan").off("zoom").on("pan",function(c,d){b.dispatchAction({seriesId:a.id,type:"graphRoam",dx:c,dy:d})}).on("zoom",function(c,d,g){b.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:c,originX:d,originY:g});this._updateNodeAndLinkScale();e(a.getGraph(),this._getNodeGlobalScale(a));this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var a=this._model,b=a.getData(),a=this._getNodeGlobalScale(a),c=[a,a];b.eachItemGraphicEl(function(a,b){a.attr("scale",c)})},_getNodeGlobalScale:function(a){a=a.coordinateSystem;if("view"!==a.type)return 1;var b=this._nodeScaleRatio,c=a.scale,c=c&&c[0]||1;return((a.getZoom()-1)*b+1)/c},updateLayout:function(a){e(a.getGraph(),this._getNodeGlobalScale(a));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}})},function(r,p,a){function m(a){return isNaN(a[0])||isNaN(a[1])}function n(a){return!m(a[0])&&!m(a[1])}function l(a){this._ctor=a||f;this.group=new h.Group}var h=a(43),f=a(200);p=l.prototype;p.updateData=function(a){var d=this._lineData,c=this.group,b=this._ctor,k=a.hostModel,f={lineStyle:k.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:k.getModel("lineStyle.emphasis").getLineStyle(),labelModel:k.getModel("label.normal"),hoverLabelModel:k.getModel("label.emphasis")};a.diff(d).add(function(d){if(n(a.getItemLayout(d))){var k=new b(a,d,f);a.setItemGraphicEl(d,k);c.add(k)}}).update(function(g,k){var h=d.getItemGraphicEl(k);n(a.getItemLayout(g))?(h?h.updateData(a,g,f):h=new b(a,g,f),a.setItemGraphicEl(g,h),c.add(h)):c.remove(h)}).remove(function(a){c.remove(d.getItemGraphicEl(a))}).execute();this._lineData=a};p.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(d,c){d.updateLayout(a,c)},this)};p.remove=function(){this.group.removeAll()};r.exports=l},function(r,p,a){function m(a,c,d){var e=c.getItemVisual(d,"color"),k=c.getItemVisual(d,a);c=c.getItemVisual(d,a+"Size");if(k&&"none"!==k)return b.isArray(c)||(c=[c,c]),e=f.createSymbol(k,-c[0]/2,-c[1]/2,c[0],c[1],e),e.name=a,e}function n(a){var b=new d({name:"line"});l(b.shape,a);return b}function l(a,b){var c=b[0],d=b[1],e=b[2];a.x1=c[0];a.y1=c[1];a.x2=d[0];a.y2=d[1];a.percent=1;e?(a.cpx1=e[0],a.cpy1=e[1]):(a.cpx1=NaN,a.cpy1=NaN)}function h(a,b,d){c.Group.call(this);this._createLine(a,b,d)}var f=a(106),e=a(10),d=a(201),c=a(43),b=a(4),k=a(7),q=["fromSymbol","toSymbol"];p=h.prototype;p.beforeUpdate=function(){var a=this.childOfName("fromSymbol"),b=this.childOfName("toSymbol"),c=this.childOfName("label");if(a||b||!c.ignore){for(var d=1,k=this.parent;k;)k.scale&&(d/=k.scale[0]),k=k.parent;var f=this.childOfName("line");if(this.__dirty||f.__dirty){var q=f.shape.percent,k=f.pointAt(0),h=f.pointAt(q),l=e.sub([],h,k);e.normalize(l,l);if(a){a.attr("position",k);var m=f.tangentAt(0);a.attr("rotation",Math.PI/2-Math.atan2(m[1],m[0]));a.attr("scale",[d*q,d*q])}b&&(b.attr("position",h),m=f.tangentAt(1),b.attr("rotation",-Math.PI/2-Math.atan2(m[1],m[0])),b.attr("scale",[d*q,d*q]));c.ignore||(c.attr("position",h),a=5*d,"end"===c.__position?(f=[l[0]*a+h[0],l[1]*a+h[1]],a=.8<l[0]?"left":-.8>l[0]?"right":"center",l=.8<l[1]?"top":-.8>l[1]?"bottom":"middle"):"middle"===c.__position?(b=q/2,m=f.tangentAt(b),l=[m[1],-m[0]],f=f.pointAt(b),0<l[1]&&(l[0]=-l[0],l[1]=-l[1]),f=[f[0]+l[0]*a,f[1]+l[1]*a],a="center",l="bottom",m=-Math.atan2(m[1],m[0]),h[0]<k[0]&&(m=Math.PI+m),c.attr("rotation",m)):(f=[-l[0]*a+k[0],-l[1]*a+k[1]],a=.8<l[0]?"right":-.8>l[0]?"left":"center",l=.8<l[1]?"bottom":-.8>l[1]?"top":"middle"),c.attr({style:{textVerticalAlign:c.__verticalAlign||l,textAlign:c.__textAlign||a},position:f,scale:[d,d]}))}}};p._createLine=function(a,d,e){var k=a.hostModel,f=a.getItemLayout(d),f=n(f);f.shape.percent=0;c.initProps(f,{shape:{percent:1}},k,d);this.add(f);k=new c.Text({name:"label"});this.add(k);b.each(q,function(b){var c=m(b,a,d);this.add(c);this["_"+b+"Type"]=a.getItemVisual(d,b)},this);this._updateCommonStl(a,d,e)};p.updateData=function(a,d,e){var k=a.hostModel,f=this.childOfName("line"),h=a.getItemLayout(d),n={shape:{}};l(n.shape,h);c.updateProps(f,n,k,d);b.each(q,function(b){var c=a.getItemVisual(d,b),e="_"+b+"Type";this[e]!==c&&(this.remove(this.childOfName(b)),b=m(b,a,d),this.add(b));this[e]=c},this);this._updateCommonStl(a,d,e)};p._updateCommonStl=function(a,d,e){var f=a.hostModel,h=this.childOfName("line"),l=e&&e.lineStyle,m=e&&e.hoverLineStyle,n=e&&e.labelModel,p=e&&e.hoverLabelModel;if(!e||a.hasItemOption)p=a.getItemModel(d),l=p.getModel("lineStyle.normal").getLineStyle(),m=p.getModel("lineStyle.emphasis").getLineStyle(),n=p.getModel("label.normal"),p=p.getModel("label.emphasis");var r=a.getItemVisual(d,"color"),B=b.retrieve(a.getItemVisual(d,"opacity"),l.opacity,1);isNaN(D)&&(D=a.getName(d));h.useStyle(b.defaults({strokeNoScale:!0,fill:"none",stroke:r,opacity:B},l));h.hoverStyle=m;b.each(q,function(a){if(a=this.childOfName(a))a.setColor(r),a.setStyle({opacity:B})},this);var h=n.getShallow("show"),l=p.getShallow("show"),D,m=this.childOfName("label"),J;if(h||l)D=k.round(f.getRawValue(d)),J=r||"#000";h?(e=n.getModel("textStyle"),m.setStyle({text:b.retrieve(f.getFormattedLabel(d,"normal",a.dataType),D),textFont:e.getFont(),fill:e.getTextColor()||J}),m.__textAlign=e.get("align"),m.__verticalAlign=e.get("baseline"),m.__position=n.get("position")):m.setStyle("text","");l?(n=p.getModel("textStyle"),m.hoverStyle={text:b.retrieve(f.getFormattedLabel(d,"emphasis",a.dataType),D),textFont:n.getFont(),fill:n.getTextColor()||J}):m.hoverStyle={text:""};m.ignore=!h&&!l;c.setHoverStyle(this)};p.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))};p.setLinePoints=function(a){var b=this.childOfName("line");l(b.shape,a);b.dirty()};b.inherits(h,c.Group);r.exports=h},function(r,p,a){function m(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}p=a(43);var n=a(10),l=p.Line.prototype,h=p.BezierCurve.prototype;r.exports=p.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,e){(m(e)?l:h).buildPath(a,e)},pointAt:function(a){return m(this.shape)?l.pointAt.call(this,a):h.pointAt.call(this,a)},tangentAt:function(a){var e=this.shape;a=m(e)?[e.x2-e.x1,e.y2-e.y1]:h.tangentAt.call(this,a);return n.normalize(a,a)}})},function(r,p,a){function m(a,q,g){var l=a[0],m=a[1];a=a[2];var n=Infinity,p;g*=g;for(var r=.1,A=.1;.9>=A;A+=.1){h[0]=d(l[0],m[0],a[0],A);h[1]=d(l[1],m[1],a[1],A);var z=b(c(h,q)-g);z<n&&(n=z,p=A)}for(n=0;32>n;n++){z=p+r;f[0]=d(l[0],m[0],a[0],p);f[1]=d(l[1],m[1],a[1],p);e[0]=d(l[0],m[0],a[0],z);e[1]=d(l[1],m[1],a[1],z);z=c(f,q)-g;if(.01>b(z))break;A=c(e,q)-g;r/=2;p=0>z?0<=A?p+r:p-r:0<=A?p-r:p+r}return p}var n=a(50),l=a(10),h=[],f=[],e=[],d=n.quadraticAt,c=l.distSquare,b=Math.abs;r.exports=function(a,b){function c(a){a=a.getVisual("symbolSize");a instanceof Array&&(a=(a[0]+a[1])/2);return a}var d=[],e=n.quadraticSubdivide,f=[[],[],[]],h=[[],[]],p=[];b/=2;a.eachEdge(function(a,k){var n=a.getLayout(),r=a.getVisual("fromSymbol"),B=a.getVisual("toSymbol");n.__original||(n.__original=[l.clone(n[0]),l.clone(n[1])],n[2]&&n.__original.push(l.clone(n[2])));var D=n.__original;null!=n[2]?(l.copy(f[0],D[0]),l.copy(f[1],D[2]),l.copy(f[2],D[1]),r&&"none"!=r&&(r=c(a.node1),r=m(f,D[0],r*b),e(f[0][0],f[1][0],f[2][0],r,d),f[0][0]=d[3],f[1][0]=d[4],e(f[0][1],f[1][1],f[2][1],r,d),f[0][1]=d[3],f[1][1]=d[4]),B&&"none"!=B&&(r=c(a.node2),r=m(f,D[1],r*b),e(f[0][0],f[1][0],f[2][0],r,d),f[1][0]=d[1],f[2][0]=d[2],e(f[0][1],f[1][1],f[2][1],r,d),f[1][1]=d[1],f[2][1]=d[2]),l.copy(n[0],f[0]),l.copy(n[1],f[2]),l.copy(n[2],f[1])):(l.copy(h[0],D[0]),l.copy(h[1],D[1]),l.sub(p,h[1],h[0]),l.normalize(p,p),r&&"none"!=r&&(r=c(a.node1),l.scaleAndAdd(h[0],h[0],p,r*b)),B&&"none"!=B&&(r=c(a.node2),l.scaleAndAdd(h[1],h[1],p,-r*b)),l.copy(n[0],h[0]),l.copy(n[1],h[1]))})}},function(r,p,a){r=a(1);var m=a(177);r.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(a,l){l.eachComponent({mainType:"series",query:a},function(h){var f=m.updateCenterAndZoom(h.coordinateSystem,a);h.setCenter&&h.setCenter(f.center);h.setZoom&&h.setZoom(f.zoom)})})},function(r,p){r.exports=function(a){var m=a.findComponents({mainType:"legend"});m&&m.length&&a.eachSeriesByType("graph",function(a){var l=a.getCategoriesData(),h=a.getGraph().data,f=l.mapArray(l.getName);h.filterSelf(function(a){a=h.getItemModel(a).getShallow("category");if(null!=a){"number"===typeof a&&(a=f[a]);for(var d=0;d<m.length;d++)if(!m[d].isSelected(a))return!1}return!0})},this)}},function(r,p){r.exports=function(a){var m={};a.eachSeriesByType("graph",function(a){var l=a.getCategoriesData(),h=a.getData(),f={};l.each(function(e){var d=l.getName(e);f[d]=e;d=l.getItemModel(e).get("itemStyle.normal.color")||a.getColorFromPalette(d,m);l.setItemVisual(e,"color",d)});l.count()&&h.each(function(a){var d=h.getItemModel(a).getShallow("category");null!=d&&("string"===typeof d&&(d=f[d]),h.getItemVisual(a,"color",!0)||h.setItemVisual(a,"color",l.getItemVisual(d,"color")))})})}},function(r,p){function a(a){a instanceof Array||(a=[a,a]);return a}r.exports=function(m){m.eachSeriesByType("graph",function(m){var l=m.getGraph(),h=m.getEdgeData(),f=a(m.get("edgeSymbol")),e=a(m.get("edgeSymbolSize")),d=["lineStyle","normal","color"],c=["lineStyle","normal","opacity"];h.setVisual("fromSymbol",f&&f[0]);h.setVisual("toSymbol",f&&f[1]);h.setVisual("fromSymbolSize",e&&e[0]);h.setVisual("toSymbolSize",e&&e[1]);h.setVisual("color",m.get(d));h.setVisual("opacity",m.get(c));h.each(function(b){var e=h.getItemModel(b);b=l.getEdgeByIndex(b);var f=a(e.getShallow("symbol",!0)),g=a(e.getShallow("symbolSize",!0)),m=e.get(d),e=e.get(c);switch(m){case "source":m=b.node1.getVisual("color");break;case "target":m=b.node2.getVisual("color")}f[0]&&b.setVisual("fromSymbol",f[0]);f[1]&&b.setVisual("toSymbol",f[1]);g[0]&&b.setVisual("fromSymbolSize",g[0]);g[1]&&b.setVisual("toSymbolSize",g[1]);b.setVisual("color",m);b.setVisual("opacity",e)})})}},function(r,p,a){var m=a(208),n=a(209);r.exports=function(a,h){a.eachSeriesByType("graph",function(a){var e=a.get("layout"),d=a.coordinateSystem;if(d&&"view"!==d.type){var c=a.getData();c.each(d.dimensions,function(a,e,f){isNaN(a)||isNaN(e)?c.setItemLayout(f,[NaN,NaN]):c.setItemLayout(f,d.dataToPoint([a,e]))});n(c.graph)}else e&&"none"!==e||m(a)})}},function(r,p,a){var m=a(209);r.exports=function(a){var l=a.coordinateSystem;l&&"view"!==l.type||(a=a.getGraph(),a.eachNode(function(a){var f=a.getModel();a.setLayout([+f.get("x"),+f.get("y")])}),m(a))}},function(r,p,a){var m=a(10);r.exports=function(a){a.eachEdge(function(a){var h=a.getModel().get("lineStyle.normal.curveness")||0,f=m.clone(a.node1.getLayout()),e=m.clone(a.node2.getLayout()),d=[f,e];+h&&d.push([(f[0]+e[0])/2-(f[1]-e[1])*h,(f[1]+e[1])/2-(e[0]-f[0])*h]);a.setLayout(d)})}},function(r,p,a){var m=a(211);r.exports=function(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&m(a)})}},function(r,p,a){var m=a(10);r.exports=function(a){var l=a.coordinateSystem;if(!l||"view"===l.type){l=l.getBoundingRect();a=a.getData();var h=a.graph,f=0,e=a.getSum("value"),d=2*Math.PI/(e||a.count()),c=l.width/2+l.x,b=l.height/2+l.y,k=Math.min(l.width,l.height)/2;h.eachNode(function(a){var g=a.getValue("value");f+=d*(e?g:2)/2;a.setLayout([k*Math.cos(f)+c,k*Math.sin(f)+b]);f+=d*(e?g:2)/2});a.setLayout({cx:c,cy:b});h.eachEdge(function(a){var d=a.getModel().get("lineStyle.normal.curveness")||0,e=m.clone(a.node1.getLayout()),k=m.clone(a.node2.getLayout()),f,h=(e[0]+k[0])/2,l=(e[1]+k[1])/2;+d&&(d*=3,f=[c*d+h*(1-d),b*d+l*(1-d)]);a.setLayout([e,k,f])})}}},function(r,p,a){var m=a(213),n=a(7),l=a(208),h=a(211),f=a(10),e=a(4);r.exports=function(a){a.eachSeriesByType("graph",function(a){var b=a.coordinateSystem;if(!b||"view"===b.type)if("force"===a.get("layout")){var d=a.preservedPoints||{},q=a.getGraph(),g=q.data,p=q.edgeData,r=a.getModel("force"),b=r.get("initLayout");a.preservedPoints?g.each(function(a){var b=g.getId(a);g.setItemLayout(a,d[b]||[NaN,NaN])}):b&&"none"!==b?"circular"===b&&h(a):l(a);var x=g.getDataExtent("value"),v=p.getDataExtent("value"),t=r.get("repulsion"),A=r.get("edgeLength");e.isArray(t)||(t=[t,t]);e.isArray(A)||(A=[A,A]);var A=[A[1],A[0]],z=g.mapArray("value",function(a,b){var c=g.getItemLayout(b),d=n.linearMap(a,x,t);isNaN(d)&&(d=(t[0]+t[1])/2);return{w:d,rep:d,p:!c||isNaN(c[0])||isNaN(c[1])?null:c}}),p=p.mapArray("value",function(a,b){var c=q.getEdgeByIndex(b),d=n.linearMap(a,v,A);isNaN(d)&&(d=(A[0]+A[1])/2);return{n1:z[c.node1.dataIndex],n2:z[c.node2.dataIndex],d:d,curveness:c.getModel().get("lineStyle.normal.curveness")||0}}),b=a.coordinateSystem,b=b.getBoundingRect(),r=m(z,p,{rect:b,gravity:r.get("gravity")}),w=r.step;r.step=function(a){for(var b=0,c=z.length;b<c;b++)z[b].fixed&&f.copy(z[b].p,q.getNodeByIndex(b).getLayout());w(function(b,c,e){for(var h=0,l=b.length;h<l;h++)b[h].fixed||q.getNodeByIndex(h).setLayout(b[h].p),d[g.getId(h)]=b[h].p;h=0;for(l=c.length;h<l;h++){b=c[h];var m=q.getEdgeByIndex(h),n=b.n1.p,p=b.n2.p,u=m.getLayout(),u=u?u.slice():[];u[0]=u[0]||[];u[1]=u[1]||[];f.copy(u[0],n);f.copy(u[1],p);+b.curveness&&(u[2]=[(n[0]+p[0])/2-(n[1]-p[1])*b.curveness,(n[1]+p[1])/2-(p[0]-n[0])*b.curveness]);m.setLayout(u)}a&&a(e)})};a.forceLayout=r;a.preservedPoints=d;r.step()}else a.forceLayout=null})}},function(r,p,a){var m=a(10),n=m.scaleAndAdd;r.exports=function(a,h,f){var e=f.rect,d=e.width,c=e.height,b=[e.x+d/2,e.y+c/2],k=null==f.gravity?.1:f.gravity;for(f=0;f<a.length;f++)e=a[f],e.p||(e.p=m.create(d*(Math.random()-.5)+b[0],c*(Math.random()-.5)+b[1])),e.pp=m.clone(e.p),e.edges=null;var q=.6;return{warmUp:function(){q=.5},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},step:function(c){for(var d=[],e=a.length,f=0;f<h.length;f++){var p=h[f],r=p.n1,A=p.n2;m.sub(d,A.p,r.p);var p=m.len(d)-p.d,z=A.w/(r.w+A.w);m.normalize(d,d);!r.fixed&&n(r.p,r.p,d,z*p*q);!A.fixed&&n(A.p,A.p,d,-(1-z)*p*q)}for(f=0;f<e;f++)r=a[f],r.fixed||(m.sub(d,b,r.p),m.scaleAndAdd(r.p,r.p,d,k*q));for(f=0;f<e;f++)for(r=a[f],z=f+1;z<e;z++)A=a[z],m.sub(d,A.p,r.p),p=m.len(d),0===p&&(m.set(d,Math.random()-.5,Math.random()-.5),p=1),p=(r.rep+A.rep)/p/p,!r.fixed&&n(r.pp,r.pp,d,p),!A.fixed&&n(A.pp,A.pp,d,-p);d=[];for(f=0;f<e;f++)r=a[f],r.fixed||(m.sub(d,r.p,r.pp),m.scaleAndAdd(r.p,r.p,d,q),m.copy(r.pp,r.p));q*=.992;c&&c(a,h,.01>q)}}}},function(r,p,a){function m(a,e,d){a=a.getBoxLayoutParams();a.aspect=d;return l.getLayoutRect(a,{width:e.getWidth(),height:e.getHeight()})}var n=a(168),l=a(21),h=a(51);r.exports=function(a,e){var d=[];a.eachSeriesByType("graph",function(a){var b=a.get("coordinateSystem");if(!b||"view"===b){var k=new n;d.push(k);var f=a.getData(),g=f.mapArray(function(a){a=f.getItemModel(a);return[+a.get("x"),+a.get("y")]}),b=[],k=[];h.fromPoints(g,b,k);0===k[0]-b[0]&&(k[0]+=1,--b[0]);0===k[1]-b[1]&&(k[1]+=1,--b[1]);var l=(k[0]-b[0])/(k[1]-b[1]),g=m(a,e,l);isNaN(l)&&(b=[g.x,g.y],k=[g.x+g.width,g.y+g.height]);var l=k[0]-b[0],p=k[1]-b[1],r=g.width,v=g.height,k=a.coordinateSystem=new n;k.zoomLimit=a.get("scaleLimit");k.setBoundingRect(b[0],b[1],l,p);k.setViewRect(g.x,g.y,r,v);k.setCenter(a.get("center"));k.setZoom(a.get("zoom"))}});return d}},function(r,p,a){a(216);a(217)},function(r,p,a){var m=a(97);p=a(28);var n=a(4);a=p.extend({type:"series.gauge",getInitialData:function(a,h){var f=new m(["value"],this),e=a.data||[];n.isArray(e)||(e=[e]);f.initData(e);return f},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});r.exports=a},function(r,p,a){function m(a,c){c&&("string"===typeof c?a=c.replace("{value}",a):"function"===typeof c&&(a=c(a)));return a}var n=a(218),l=a(43),h=a(7),f=h.parsePercent,e=2*Math.PI;p=a(42).extend({type:"gauge",render:function(a,c,b){this.group.removeAll();var e=a.get("axisLine.lineStyle.color"),q=a.get("center"),g=b.getWidth(),h=b.getHeight(),h=Math.min(g,h),g=f(q[0],b.getWidth()),q=f(q[1],b.getHeight()),h=f(a.get("radius"),h/2);this._renderMain(a,c,b,e,{cx:g,cy:q,r:h})},_renderMain:function(a,c,b,k,f){for(var g=this.group,h=a.getModel("axisLine").getModel("lineStyle"),m=a.get("clockwise"),n=-a.get("startAngle")/180*Math.PI,p=-a.get("endAngle")/180*Math.PI,r=(p-n)%e,A=n,z=h.get("width"),w=0;w<k.length;w++)p=n+r*Math.min(Math.max(k[w][0],0),1),A=new l.Sector({shape:{startAngle:A,endAngle:p,cx:f.cx,cy:f.cy,clockwise:m,r0:f.r-z,r:f.r},silent:!0}),A.setStyle({fill:k[w][1]}),A.setStyle(h.getLineStyle(["color","borderWidth","borderColor"])),g.add(A),A=p;g=function(a){if(0>=a)return k[0][1];for(var b=0;b<k.length;b++)if(k[b][0]>=a&&(0===b?0:k[b-1][0])<a)return k[b][1];return k[b-1][1]};m||(h=n,n=p,p=h);this._renderTicks(a,c,b,g,f,n,p,m);this._renderPointer(a,c,b,g,f,n,p,m);this._renderTitle(a,c,b,g,f);this._renderDetail(a,c,b,g,f)},_renderTicks:function(a,c,b,e,q,g,n,p){c=this.group;b=q.cx;p=q.cy;q=q.r;var r=a.get("min"),v=a.get("max"),t=a.getModel("splitLine"),A=a.getModel("axisTick"),z=a.getModel("axisLabel");a=a.get("splitNumber");var w=A.get("splitNumber"),C=f(t.get("length"),q),B=f(A.get("length"),q),D=g;g=(n-g)/a;n=g/w;for(var J=t.getModel("lineStyle").getLineStyle(),E=A.getModel("lineStyle").getLineStyle(),H=z.getModel("textStyle"),F=0;F<=a;F++){var K=Math.cos(D),M=Math.sin(D);if(t.get("show")){var L=new l.Line({shape:{x1:K*q+b,y1:M*q+p,x2:K*(q-C)+b,y2:M*(q-C)+p},style:J,silent:!0});"auto"===J.stroke&&L.setStyle({stroke:e(F/a)});c.add(L)}if(z.get("show")){var L=m(h.round(F/a*(v-r)+r),z.get("formatter")),I=z.get("distance"),K=new l.Text({style:{text:L,x:K*(q-C-I)+b,y:M*(q-C-I)+p,fill:H.getTextColor(),textFont:H.getFont(),textVerticalAlign:-.4>M?"top":.4<M?"bottom":"middle",textAlign:-.4>K?"left":.4<K?"right":"center"},silent:!0});"auto"===K.style.fill&&K.setStyle({fill:e(F/a)});c.add(K)}if(A.get("show")&&F!==a){for(L=0;L<=w;L++)K=Math.cos(D),M=Math.sin(D),K=new l.Line({shape:{x1:K*q+b,y1:M*q+p,x2:K*(q-B)+b,y2:M*(q-B)+p},silent:!0,style:E}),"auto"===E.stroke&&K.setStyle({stroke:e((F+L/w)/a)}),c.add(K),D+=n;D-=n}else D+=g}},_renderPointer:function(a,c,b,e,q,g,m,p){var r=[+a.get("min"),+a.get("max")],v=[g,m];p||(v=v.reverse());var t=a.getData(),A=this._data,z=this.group;t.diff(A).add(function(b){var c=new n({shape:{angle:g}});l.updateProps(c,{shape:{angle:h.linearMap(t.get("value",b),r,v,!0)}},a);z.add(c);t.setItemGraphicEl(b,c)}).update(function(b,c){var e=A.getItemGraphicEl(c);l.updateProps(e,{shape:{angle:h.linearMap(t.get("value",b),r,v,!0)}},a);z.add(e);t.setItemGraphicEl(b,e)}).remove(function(a){a=A.getItemGraphicEl(a);z.remove(a)}).execute();t.eachItemGraphicEl(function(a,b){var c=t.getItemModel(b),d=c.getModel("pointer");a.setShape({x:q.cx,y:q.cy,width:f(d.get("width"),q.r),r:f(d.get("length"),q.r)});a.useStyle(c.getModel("itemStyle.normal").getItemStyle());"auto"===a.style.fill&&a.setStyle("fill",e((t.get("value",b)-r[0])/(r[1]-r[0])));l.setHoverStyle(a,c.getModel("itemStyle.emphasis").getItemStyle())});this._data=t},_renderTitle:function(a,c,b,e,q){b=a.getModel("title");b.get("show")&&(c=b.getModel("textStyle"),e=b.get("offsetCenter"),b=q.cx+f(e[0],q.r),q=q.cy+f(e[1],q.r),a=new l.Text({style:{x:b,y:q,text:a.getData().getName(0),fill:c.getTextColor(),textFont:c.getFont(),textAlign:"center",textVerticalAlign:"middle"}}),this.group.add(a))},_renderDetail:function(a,c,b,e,q){c=a.getModel("detail");b=a.get("min");var g=a.get("max");if(c.get("show")){var n=c.getModel("textStyle"),p=c.get("offsetCenter"),r=q.cx+f(p[0],q.r),p=q.cy+f(p[1],q.r),v=f(c.get("width"),q.r);q=f(c.get("height"),q.r);a=a.getData().get("value",0);q=new l.Rect({shape:{x:r-v/2,y:p-q/2,width:v,height:q},style:{text:m(a,c.get("formatter")),fill:c.get("backgroundColor"),textFill:n.getTextColor(),textFont:n.getFont()}});"auto"===q.style.textFill&&q.setStyle("textFill",e(h.linearMap(a,[b,g],[0,1],!0)));q.setStyle(c.getItemStyle(["color"]));this.group.add(q)}}});r.exports=p},function(r,p,a){r.exports=a(45).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(a,n){var l=Math.cos,h=Math.sin,f=n.r,e=n.width,d=n.angle,c=n.x-l(d)*e*(e>=f/3?1:2),b=n.y-h(d)*e*(e>=f/3?1:2),d=n.angle-Math.PI/2;a.moveTo(c,b);a.lineTo(n.x+l(d)*e,n.y+h(d)*e);a.lineTo(n.x+l(n.angle)*f,n.y+h(n.angle)*f);a.lineTo(n.x-l(d)*e,n.y-h(d)*e);a.lineTo(c,b)}})},function(r,p,a){r=a(4);p=a(1);a(220);a(221);p.registerVisual(r.curry(a(143),"funnel"));p.registerLayout(a(222));p.registerProcessor(r.curry(a(146),"funnel"))},function(r,p,a){var m=a(97),n=a(5),l=a(102),h=a(1).extendSeriesModel({type:"series.funnel",init:function(a){h.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed};this._defaultLabelLine(a)},getInitialData:function(a,e){var d=l(["value"],a.data),d=new m(d,this);d.initData(a.data);return d},_defaultLabelLine:function(a){n.defaultEmphasis(a.labelLine,["show"]);var e=a.labelLine.normal,d=a.labelLine.emphasis;e.show=e.show&&a.label.normal.show;d.show=d.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});r.exports=h},function(r,p,a){function m(a,d){function c(){f.ignore=f.hoverIgnore;g.ignore=g.hoverIgnore}function b(){f.ignore=f.normalIgnore;g.ignore=g.normalIgnore}l.Group.call(this);var k=new l.Polygon,f=new l.Polyline,g=new l.Text;this.add(k);this.add(f);this.add(g);this.updateData(a,d,!0);this.on("emphasis",c).on("normal",b).on("mouseover",c).on("mouseout",b)}function n(a,d,c,b){var k=b.getModel("textStyle");b=b.get("position");b="inside"===b||"inner"===b||"center"===b;return{fill:k.getTextColor()||(b?"#fff":a.getItemVisual(d,"color")),textFont:k.getFont(),text:h.retrieve(a.hostModel.getFormattedLabel(d,c),a.getName(d))}}var l=a(43),h=a(4);p=m.prototype;var f=["itemStyle","normal","opacity"];p.updateData=function(a,d,c){var b=this.childAt(0),k=a.hostModel,q=a.getItemModel(d),g=a.getItemLayout(d),m=a.getItemModel(d).get(f),m=null==m?1:m;b.useStyle({});c?(b.setShape({points:g.points}),b.setStyle({opacity:0}),l.initProps(b,{style:{opacity:m}},k,d)):l.updateProps(b,{style:{opacity:m},shape:{points:g.points}},k,d);c=q.getModel("itemStyle");k=a.getItemVisual(d,"color");b.setStyle(h.defaults({lineJoin:"round",fill:k},c.getModel("normal").getItemStyle(["opacity"])));b.hoverStyle=c.getModel("emphasis").getItemStyle();this._updateLabel(a,d);l.setHoverStyle(this)};p._updateLabel=function(a,d){var c=this.childAt(1),b=this.childAt(2),k=a.hostModel,f=a.getItemModel(d),g=a.getItemLayout(d).label,h=a.getItemVisual(d,"color");l.updateProps(c,{shape:{points:g.linePoints||g.linePoints}},k,d);l.updateProps(b,{style:{x:g.x,y:g.y}},k,d);b.attr({style:{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign,textFont:g.font},rotation:g.rotation,origin:[g.x,g.y],z2:10});var k=f.getModel("label.normal"),g=f.getModel("label.emphasis"),m=f.getModel("labelLine.normal"),f=f.getModel("labelLine.emphasis");b.setStyle(n(a,d,"normal",k));b.ignore=b.normalIgnore=!k.get("show");b.hoverIgnore=!g.get("show");c.ignore=c.normalIgnore=!m.get("show");c.hoverIgnore=!f.get("show");c.setStyle({stroke:h});c.setStyle(m.getModel("lineStyle").getLineStyle());b.hoverStyle=n(a,d,"emphasis",g);c.hoverStyle=f.getModel("lineStyle").getLineStyle()};h.inherits(m,l.Group);a=a(42).extend({type:"funnel",render:function(a,d,c){var b=a.getData(),k=this._data,f=this.group;b.diff(k).add(function(a){var c=new m(b,a);b.setItemGraphicEl(a,c);f.add(c)}).update(function(a,c){var d=k.getItemGraphicEl(c);d.updateData(b,a);f.add(d);b.setItemGraphicEl(a,d)}).remove(function(a){a=k.getItemGraphicEl(a);f.remove(a)}).execute();this._data=b},remove:function(){this.group.removeAll();this._data=null}});r.exports=a},function(r,p,a){function m(a,c){return h.getLayoutRect(a.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})}function n(a,c){for(var b=a.mapArray("value",function(a){return a}),e=[],f="ascending"===c,g=0,h=a.count();g<h;g++)e[g]=g;e.sort(function(a,c){return f?b[a]-b[c]:b[c]-b[a]});return e}function l(a){a.each(function(c){var b=a.getItemModel(c),e=b.getModel("label.normal").get("position"),f=b.getModel("labelLine.normal");c=a.getItemLayout(c);var g=c.points,b="inner"===e||"inside"===e||"center"===e,h;if(b)e=(g[0][0]+g[1][0]+g[2][0]+g[3][0])/4,h=(g[0][1]+g[1][1]+g[2][1]+g[3][1])/4,g="center",f=[[e,h],[e,h]];else{var l,m=f.get("length");"left"===e?(f=(g[3][0]+g[0][0])/2,h=(g[3][1]+g[0][1])/2,l=f-m,e=l-5,g="right"):(f=(g[1][0]+g[2][0])/2,h=(g[1][1]+g[2][1])/2,l=f+m,e=l+5,g="left");m=h;f=[[f,h],[l,m]];h=m}c.label={linePoints:f,x:e,y:h,verticalAlign:"middle",textAlign:g,inside:b}})}var h=a(21),f=a(7),e=f.parsePercent;r.exports=function(a,c,b){a.eachSeriesByType("funnel",function(a){var b=a.getData(),d=a.get("sort"),h=m(a,c),p=n(b,d),r=[e(a.get("minSize"),h.width),e(a.get("maxSize"),h.width)],v=b.getDataExtent("value"),t=a.get("min"),A=a.get("max");null==t&&(t=Math.min(v[0],0));null==A&&(A=v[1]);var z=a.get("funnelAlign");a=a.get("gap");var v=(h.height-a*(b.count()-1))/b.count(),w=h.y,C=function(a,c){var d=b.get("value",a)||0,d=f.linearMap(d,[t,A],r,!0),e;switch(z){case "left":e=h.x;break;case "center":e=h.x+(h.width-d)/2;break;case "right":e=h.x+h.width-d}return[[e,c],[e+d,c]]};"ascending"===d&&(v=-v,a=-a,w+=h.height,p=p.reverse());for(d=0;d<p.length;d++){var B=p[d],D=p[d+1],J=C(B,w),D=C(D,w+v),w=w+(v+a);b.setItemLayout(B,{points:J.concat(D.slice().reverse())})}l(b)})}},function(r,p,a){r=a(1);a(224);a(235);a(236);r.registerVisual(a(237))},function(r,p,a){a(225);a(228);a(230);r=a(1);var m=a(4);r.extendComponentView({type:"parallel",render:function(a,l,h){l=h.getZr();if(!this.__onMouseDown){var f;l.on("mousedown",this.__onMouseDown=function(a){f=[a.offsetX,a.offsetY]});l.on("mouseup",this.__onMouseUp=function(e){e=[e.offsetX,e.offsetY];var d=Math.pow(f[0]-e[0],2)+Math.pow(f[1]-e[1],2);a.get("axisExpandable")&&!(5<d)&&(d=a.coordinateSystem,e=d.findClosestAxisDim(e))&&(e=m.indexOf(d.dimensions,e),h.dispatchAction({type:"parallelAxisExpand",axisExpandCenter:e}))})}},dispose:function(a,l){l.getZr().off(this.__onMouseDown);l.getZr().off(this.__onMouseUp)}});r.registerPreprocessor(a(234))},function(r,p,a){var m=a(226);a(26).register("parallel",{create:function(a,l){var h=[];a.eachComponent("parallel",function(f,e){var d=new m(f,a,l);d.name="parallel_"+e;d.resize(f,l);f.coordinateSystem=d;d.model=f;h.push(d)});a.eachSeries(function(f){if("parallel"===f.get("coordinateSystem")){var e=a.queryComponents({mainType:"parallel",index:f.get("parallelIndex"),id:f.get("parallelId")})[0];f.coordinateSystem=e.coordinateSystem}});return h}})},function(r,p,a){function m(a,b,c){this._axesMap={};this._axesLayout={};this.dimensions=a.dimensions;this._model=a;this._init(a,b,c)}var n=a(21),l=a(114),h=a(4),f=a(227),e=a(43),d=a(11),c=h.each,b=Math.PI;m.prototype={type:"parallel",constructor:m,_init:function(a,b,d){var e=a.parallelAxisIndex;c(a.dimensions,function(a,c){var d=e[c],g=b.getComponent("parallelAxis",d),d=this._axesMap[a]=new f(a,l.createScaleByModel(g),[0,0],g.get("type"),d);d.onBand="category"===d.type&&g.get("boundaryGap");d.inverse=g.get("inverse");g.axis=d;d.model=g},this)},update:function(a,b){this._updateAxesFromSeries(this._model,a)},_updateAxesFromSeries:function(a,b){b.eachSeries(function(d){if(a.contains(d,b)){var e=d.getData();c(this.dimensions,function(a){var b=this._axesMap[a];b.scale.unionExtent(e.getDataExtent(a));l.niceScaleExtent(b,b.model)},this)}},this)},resize:function(a,b){this._rect=n.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._layoutAxes(a)},getRect:function(){return this._rect},_layoutAxes:function(a){var e=this._rect,g=a.get("layout"),f=this.dimensions,h=[e.width,e.height],l="horizontal"===g?0:1,m=h[l],n=h[1-l],p=[0,n];c(this._axesMap,function(a){var b=a.inverse?1:0;a.setExtent(p[b],p[1-b])});var h=a.get("axisExpandable"),r=a.get("axisExpandWidth"),l=a.get("axisExpandCenter");a=a.get("axisExpandCount")||0;var w;if(null!=l){var l=Math.max(0,Math.floor(l-(a-1)/2)),C=l+a-1;C>=f.length&&(C=f.length-1,l=Math.max(0,Math.floor(C-a+1)));w=[l,C]}var B=h&&w&&r?function(a,b,c){var d=w[1]-w[0],e=(b-r*d)/(c-1-d);return{position:a<w[0]?(a-1)*e:a<=w[1]?w[0]*e+(a-w[0])*r:a===c-1?b:w[0]*e+d*r+(a-w[1])*e,axisNameAvailableWidth:w[0]<a&&a<w[1]?r:e}}:function(a,b,c){b/=c-1;return{position:b*a,axisNameAvailableWidth:b}};c(f,function(a,c){var k=B(c,m,f.length),h={horizontal:{x:k.position,y:n},vertical:{x:0,y:k.position}},h=[h[g].x+e.x,h[g].y+e.y],l={horizontal:b/2,vertical:0}[g],p=d.create();d.rotate(p,p,l);d.translate(p,p,h);this._axesLayout[a]={position:h,rotation:l,transform:p,axisNameAvailableWidth:k.axisNameAvailableWidth,tickDirection:1,labelDirection:1,axisExpandWindow:w}},this)},getAxis:function(a){return this._axesMap[a]},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap[b].dataToCoord(a),b)},eachActiveState:function(a,b,c){for(var d=this.dimensions,e=this._axesMap,f=this.hasAxisbrushed(),h=0,l=a.count();h<l;h++){var m=a.getValues(d,h),n;if(f){n="active";for(var p=0,r=d.length;p<r;p++)if("inactive"===e[d[p]].model.getActiveState(m[p],p)){n="inactive";break}}else n="normal";b.call(c,n,h)}},hasAxisbrushed:function(){for(var a=this.dimensions,b=this._axesMap,c=!1,d=0,e=a.length;d<e;d++)"normal"!==b[a[d]].model.getActiveState()&&(c=!0);return c},axisCoordToPoint:function(a,b){return e.applyTransform([a,0],this._axesLayout[b].transform)},getAxisLayout:function(a){return h.clone(this._axesLayout[a])},findClosestAxisDim:function(a){var b,c=Infinity;h.each(this._axesLayout,function(d,f){var h=e.applyTransform(a,d.transform,!0),l=this._axesMap[f].getExtent();h[0]<l[0]||h[0]>l[1]||(h=Math.abs(h[1]),h<c&&(c=h,b=f))},this);return b}};r.exports=m},function(r,p,a){p=a(4);var m=a(123);a=function(a,l,h,f,e){m.call(this,a,l,h);this.type=f||"value";this.axisIndex=e};a.prototype={constructor:a,model:null};p.inherits(a,m);r.exports=a},function(r,p,a){var m=a(4),n=a(19);a(229);n.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,parallelAxisDefault:null},init:function(){n.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(a){var h=this.option;a&&m.merge(h,a,!0);this._initDimensions()},contains:function(a,h){var f=a.get("parallelIndex");return null!=f&&h.getComponent("parallel",f)===this},setAxisExpand:function(a){m.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth"],function(h){a.hasOwnProperty(h)&&(this.option[h]=a[h])},this)},_initDimensions:function(){var a=this.dimensions=[],h=this.parallelAxisIndex=[],f=m.filter(this.dependentModels.parallelAxis,function(a){return a.get("parallelIndex")===this.componentIndex});m.each(f,function(e){a.push("dim"+e.get("dim"));h.push(e.componentIndex)})}})},function(r,p,a){var m=a(19),n=a(4),l=a(15);p=a(127);var h=a(7),m=m.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return l([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){if(a=this.activeIntervals=n.clone(a))for(var e=a.length-1;0<=e;e--)h.asc(a[e])},getActiveState:function(a){var e=this.activeIntervals;if(!e.length)return"normal";if(null==a)return"inactive";for(var d=0,c=e.length;d<c;d++)if(e[d][0]<=a&&a<=e[d][1])return"active";return"inactive"}});n.merge(m.prototype,a(129));p("parallel",m,function(a,e){return e.type||(e.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});r.exports=m},function(r,p,a){a(225);a(231);a(232)},function(r,p,a){r=a(1);r.registerAction({type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"},function(a,n){n.eachComponent({mainType:"parallelAxis",query:a},function(l){l.axis.model.setActiveIntervals(a.intervals)})});r.registerAction("parallelAxisExpand",function(a,n){n.eachComponent({mainType:"parallel",query:a},function(l){l.setAxisExpand(a)})})},function(r,p,a){var m=a(4),n=a(132),l=a(233),h=a(43),f=["axisLine","axisLabel","axisTick","axisName"],e=a(1).extendComponentView({type:"parallelAxis",init:function(a,c){e.superApply(this,"init",arguments);(this._brushController=new l(c.getZr())).on("brush",m.bind(this._onBrush,this))},render:function(a,c,b,e){if(!e||"axisAreaSelect"!==e.type||c.findComponents({mainType:"parallelAxis",query:e})[0]!==a)if(this.axisModel=a,this.api=b,this.group.removeAll(),b=this._axisGroup,this._axisGroup=new h.Group,this.group.add(this._axisGroup),a.get("show")){var q=c.getComponent("parallel",a.get("parallelIndex")).coordinateSystem;c=a.getAreaSelectStyle();e=c.width;var g=a.axis.dim,l=q.getAxisLayout(g),p,q=m.indexOf(q.dimensions,g);(g=l.axisExpandWindow)&&(q<=g[0]||q>=g[1])&&(p=!1);p=m.extend({axisLabelShow:p,strokeContainThreshold:e},l);l=new n(a,p);m.each(f,l.add,l);this._axisGroup.add(l.getGroup());this._refreshBrushController(p,c,a,e);h.groupTransition(b,this._axisGroup,a)}},_refreshBrushController:function(a,c,b,e){var f=b.axis;b=m.map(b.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[f.dataToCoord(a[0],!0),f.dataToCoord(a[1],!0)]}});var g=f.getExtent();e={x:g[0]-30,y:-e/2,width:g[1]-g[0]+60,height:e};this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,position:a.position}).setPanels([{panelId:"pl",rect:e}]).enableBrush({brushType:"lineX",brushStyle:c,removeOnClick:!0}).updateCovers(b)},_onBrush:function(a,c){var b=this.axisModel,e=b.axis,f=m.map(a,function(a){return[e.coordToData(a.range[0],!0),e.coordToData(a.range[1],!0)]});(!b.option.realtime===c.isEnd||c.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:b.id,intervals:f})},dispose:function(){this._brushController.dispose()}});r.exports=e},function(r,p,a){function m(a){G.assert(a);I.call(this);this._zr=a;this.group=new N.Group;this._track=[];this._covers=[];this._mounted;this._uid="brushController_"+U++;this._handlers={};O(da,function(a,b){this._handlers[b]=G.bind(a,this)},this)}function n(a,b){var c=a._zr;a._enableGlobalPan||P.take(c,"globalPan",a._uid);O(a._handlers,function(a,b){c.on(b,a)});a._brushType=b.brushType;a._brushOption=G.merge(G.clone(Z),b,!0)}function l(a){var b=a._zr;P.release(b,"globalPan",a._uid);O(a._handlers,function(a,c){b.off(c,a)});a._brushType=a._brushOption=null}function h(a,b){var c=ba[b.brushType].createCover(a,b);e(c);c.__brushOption=b;a.group.add(c);return c}function f(a,b){var c=ba[b.__brushOption.brushType];c.endCreating&&(c.endCreating(a,b),e(b));return b}function e(a){a.traverse(function(a){a.z=1E4;a.z2=1E4})}function d(a,b){ba[b.__brushOption.brushType].updateCommon(a,b);var c=b.__brushOption;ba[b.__brushOption.brushType].updateCoverShape(a,b,c.range,c)}function c(a,b,c){a=a._panels;if(!a)return!0;var d;O(a,function(a){a.contain(b,c)&&(d=a)});return d}function b(a,b){var c=a._panels;if(!c)return!0;var d=b.__brushOption.panelId;return null!=d?c[d]:!0}function k(a){var b=a._covers,c=b.length;O(b,function(b){a.group.remove(b)},a);b.length=0;return!!c}function q(a,b){var c=S(a._covers,function(a){a=a.__brushOption;var b=G.clone(a.range);return{brushType:a.brushType,panelId:a.panelId,range:b}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function g(a){var b=a.length-1;0>b&&(b=0);return[a[0],a[b]]}function u(a,b,c,d){var e=new N.Group;e.add(new N.Rect({name:"main",style:t(c),silent:!0,draggable:!0,cursor:"move",drift:T(a,b,e,"nswe"),ondragend:T(q,b,{isEnd:!0})}));O(d,function(c){e.add(new N.Rect({name:c,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:T(a,b,e,c),ondragend:T(q,b,{isEnd:!0})}))});return e}function y(a,b,c,d){var e=d.brushStyle.lineWidth||0,g=V(e,6),k=c[0][0],f=c[1][0],h=k-e/2,q=f-e/2,l=c[0][1],m=c[1][1];c=l-g+e/2;var n=m-g+e/2,l=l-k,m=m-f,p=l+e,e=m+e;v(a,b,"main",k,f,l,m);d.transformable&&(v(a,b,"w",h,q,g,e),v(a,b,"e",c,q,g,e),v(a,b,"n",h,q,p,g),v(a,b,"s",h,n,p,g),v(a,b,"nw",h,q,g,g),v(a,b,"ne",c,q,g,g),v(a,b,"sw",h,n,g,g),v(a,b,"se",c,n,g,g))}function x(a,b){var c=b.__brushOption,d=c.transformable,e=b.childAt(0);e.useStyle(t(c));e.attr({silent:!d,cursor:d?"move":"default"});O("w e n s se sw ne nw".split(" "),function(c){var e=b.childOfName(c);c=z(a,c);e&&e.attr({silent:!d,invisible:!d,cursor:d?aa[c]+"-resize":null})})}function v(a,b,c,d,e,g,k){(c=b.childOfName(c))&&c.setShape(J(D(a,b,[[d,e],[d+g,e+k]])))}function t(a){return G.defaults({strokeNoScale:!0},a.brushStyle)}function A(a,b,c,d){var e=[Q(a,c),Q(b,d)];a=[V(a,c),V(b,d)];return[[e[0],a[0]],[e[1],a[1]]]}function z(a,b){if(1<b.length){b=b.split("");var c=[z(a,b[0]),z(a,b[1])];"e"!==c[0]&&"w"!==c[0]||c.reverse();return c.join("")}c=N.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[b],N.getTransform(a.group));return{left:"w",right:"e",top:"n",bottom:"s"}[c]}function w(a,b,c,e,g,k,f,h){h=e.__brushOption;var l=a(h.range),m=B(c,k,f);O(g.split(""),function(a){a=Y[a];l[a[0]][a[1]]+=m[a[0]]});h.range=b(A(l[0][0],l[1][0],l[0][1],l[1][1]));d(c,e);q(c,{isEnd:!1})}function C(a,b,c,e,g){g=b.__brushOption.range;var k=B(a,c,e);O(g,function(a){a[0]+=k[0];a[1]+=k[1]});d(a,b);q(a,{isEnd:!1})}function B(a,b,c){a=a.group;b=a.transformCoordToLocal(b,c);c=a.transformCoordToLocal(0,0);return[b[0]-c[0],b[1]-c[1]]}function D(a,c,d){a=b(a,c);if(!0===a)return G.clone(d);var e=a.getBoundingRect();return G.map(d,function(a){var b=a[0],b=V(b,e.x),b=Q(b,e.x+e.width);a=a[1];a=V(a,e.y);a=Q(a,e.y+e.height);return[b,a]})}function J(a){var b=Q(a[0][0],a[1][0]),c=Q(a[0][1],a[1][1]),d=V(a[0][0],a[1][0]);a=V(a[0][1],a[1][1]);return{x:b,y:c,width:d-b,height:a-c}}function E(a,b){var c=b.offsetX,d=b.offsetY,e=a._zr;if(a._brushType){for(var g=a._panels,k=a._covers,f,h=0;h<k.length;h++)if(ba[k[h].__brushOption.brushType].contain(k[h],c,d)){f=!0;break}f||(g?O(g,function(a){a.contain(c,d)&&e.setCursorStyle("crosshair")}):e.setCursorStyle("crosshair"))}}function H(a){a=a.event;a.preventDefault&&a.preventDefault()}function F(a,b,c){return a.childOfName("main").contain(b,c)}function K(a,b,d){var e=b.offsetX,g=b.offsetY;b=a._creatingCover;var q=a._creatingPanel,l=a._brushOption,m;a._track.push(a.group.transformCoordToLocal(e,g));var n;var p=a._track;if(p.length){n=p[p.length-1];var r=p[0],p=n[0]-r[0];n=n[1]-r[1];n=6<W(p*p+n*n,.5)}else n=!1;n||b?(q&&!b&&("single"===l.brushMode&&k(a),e=G.clone(l),e.panelId=!0===q?null:q.__brushPanelId,b=a._creatingCover=h(a,e),a._covers.push(b)),b&&(m=ba[a._brushType],b.__brushOption.range=m.getCreatingRange(D(a,b,a._track)),d&&(f(a,b),m.updateCommon(a,b)),m=b,e=m.__brushOption,ba[m.__brushOption.brushType].updateCoverShape(a,m,e.range,e),m={isEnd:d})):d&&"single"===l.brushMode&&l.removeOnClick&&c(a,e,g)&&k(a)&&(m={isEnd:d,removeOnClick:!0});return m}function M(a){this._dragging&&(H(a),a=K(this,a,!0),this._dragging=!1,this._track=[],this._creatingCover=null,a&&q(this,a))}function L(a){return{createCover:function(b,c){return u(T(w,function(b){b=[b,[0,100]];a&&b.reverse();return b},function(b){return b[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(b){var c=g(b);b=Q(c[0][a],c[1][a]);c=V(c[0][a],c[1][a]);return[b,c]},updateCoverShape:function(c,d,e,g){var k=g.brushStyle.width;if(null==k){var f=b(c,d),h=0;!0!==f&&(f=f.getBoundingRect(),k=a?f.width:f.height,h=a?f.x:f.y);k=[h,h+(k||0)]}else k=[-k/2,k/2];e=[e,k];a&&e.reverse();y(c,d,e,g)},updateCommon:x,contain:F}}var I=a(33),G=a(4),N=a(43),P=a(175),R=a(98),T=G.curry,O=G.each,S=G.map,Q=Math.min,V=Math.max,W=Math.pow,Y={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},aa={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Z={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},U=0;m.prototype={constructor:m,enableBrush:function(a){G.assert(this._mounted);this._brushType&&l(this);a.brushType&&n(this,a);return this},setPanels:function(a){var b=this._panels||{},c=this._panels=a&&a.length&&{},d=this.group;c&&O(a,function(a){var e=a.panelId,g=b[e];g||(g=new N.Rect({silent:!0,invisible:!0}),d.add(g));g.attr("shape",a.rect);g.__brushPanelId=e;c[e]=g;b[e]=null});O(b,function(a){a&&d.remove(a)});return this},mount:function(a){a=a||{};this._mounted=!0;this._enableGlobalPan=a.enableGlobalPan;var b=this.group;this._zr.add(b);b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]});return this},eachCover:function(a,b){O(this._covers,a,b)},updateCovers:function(a){function b(a,c){return(null!=a.id?a.id:"\x00-brush-index-"+c)+"-"+a.brushType}function c(b,l){var m=a[b];null!=l&&e[l]===q?g[b]=e[l]:(m=g[b]=null!=l?(e[l].__brushOption=m,e[l]):f(k,h(k,m)),d(k,m))}G.assert(this._mounted);a=G.map(a,function(a){return G.merge(G.clone(Z),a,!0)});var e=this._covers,g=this._covers=[],k=this,q=this._creatingCover;(new R(e,a,function(a,c){return b(a.__brushOption,c)},b)).add(c).update(c).remove(function(a){e[a]!==q&&k.group.remove(e[a])}).execute();return this},unmount:function(){this.enableBrush(!1);k(this);this._zr.remove(this.group);this._mounted=!1;return this},dispose:function(){this.unmount();this.off()}};G.mixin(m,I);var da={mousedown:function(a){if(this._dragging)M.call(this,a);else if(!a.target||!a.target.draggable){H(a);var b=a.offsetX;a=a.offsetY;this._creatingCover=null;if(this._creatingPanel=c(this,b,a))this._dragging=!0,this._track=[this.group.transformCoordToLocal(b,a)]}},mousemove:function(a){E(this,a);this._dragging&&(H(a),(a=K(this,a,!1))&&q(this,a))},mouseup:M},ba={lineX:L(0),lineY:L(1),rect:{createCover:function(a,b){return u(T(w,function(a){return a},function(a){return a}),a,b,"w e n s se sw ne nw".split(" "))},getCreatingRange:function(a){a=g(a);return A(a[1][0],a[1][1],a[0][0],a[0][1])},updateCoverShape:function(a,b,c,d){y(a,b,c,d)},updateCommon:x,contain:F},polygon:{createCover:function(a,b){var c=new N.Group;c.add(new N.Polyline({name:"main",style:t(b),silent:!0}));return c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0));b.add(new N.Polygon({name:"main",draggable:!0,drift:T(C,a,b),ondragend:T(q,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:D(a,b,c)})},updateCommon:x,contain:F}};r.exports=m},function(r,p,a){function m(a){if(!a.parallel){var e=!1;l.each(a.series,function(a){a&&"parallel"===a.type&&(e=!0)});e&&(a.parallel=[{}])}}function n(a){var e=h.normalizeToArray(a.parallelAxis);l.each(e,function(d){if(l.isObject(d)){var c=d.parallelIndex||0;(c=h.normalizeToArray(a.parallel)[c])&&c.parallelAxisDefault&&l.merge(d,c.parallelAxisDefault,!1)}})}var l=a(4),h=a(5);r.exports=function(a){m(a);n(a)}},function(r,p,a){function m(a,d,c){var b=a.get("data"),k=+d.replace("dim","");b&&b.length&&h.each(c,function(a){if(a){var c=h.indexOf(b,a[k]);a[k]=0<=c?c:NaN}})}function n(a,d){var c=0;h.each(a,function(a){a=+a.replace("dim","");a>c&&(c=a)});var b=d[0];b&&b.length-1>c&&(c=b.length-1);for(var b=[],k=0;k<=c;k++)b.push("dim"+k);return b}var l=a(97),h=a(4);p=a(28);var f=a(102);r.exports=p.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(a,d){var c=d.getComponent("parallel",this.get("parallelIndex")),b=c.parallelAxisIndex,k=a.data,q=c.dimensions,c=n(q,k),c=h.map(c,function(a,c){var e=h.indexOf(q,a),l=0<=e&&d.getComponent("parallelAxis",b[e]);return l&&"category"===l.get("type")?(m(l,a,k),{name:a,type:"ordinal"}):0>e?f.guessOrdinal(k,c)?{name:a,type:"ordinal"}:a:a}),c=new l(c,this);c.initData(k);this.option.progressive&&(this.option.animation=!1);return c},getRawIndicesByActiveState:function(a){var d=this.coordinateSystem,c=this.getData(),b=[];d.eachActiveState(c,function(d,f){a===d&&b.push(c.getRawIndex(f))});return b},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}})},function(r,p,a){function m(a,d,c){var b=a.model;a=a.getRect();var k=new h.Rect({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),b="horizontal"===b.get("layout")?"width":"height";k.setShape(b,0);h.initProps(k,{shape:{width:a.width,height:a.height}},d,c);return k}function n(a,d,c,b){for(var k=[],f=0;f<c.length;f++){var g=c[f],h=a.get(g,d);("category"===b.getAxis(g).type?null==h:null==h||isNaN(h))||k.push(b.dataToPoint(h,g))}return k}function l(a,d){var c=a.hostModel.getModel("lineStyle.normal"),b=c.getLineStyle();a.eachItemGraphicEl(function(k,h){a.hasItemOption&&(b=a.getItemModel(h).getModel("lineStyle.normal",c).getLineStyle());k.useStyle(f.extend(b,{fill:null,stroke:a.getItemVisual(h,"color"),opacity:a.getItemVisual(h,"opacity")}));k.shape.smooth=d})}var h=a(43),f=a(4);p=a(42).extend({type:"parallel",init:function(){this._dataGroup=new h.Group;this.group.add(this._dataGroup)},render:function(a,d,c,b){this._renderForNormal(a)},_renderForNormal:function(a){var d=this._dataGroup,c=a.getData(),b=this._data,k=a.coordinateSystem,f=k.dimensions,g=a.option.smooth?.3:null;c.diff(b).add(function(a){var b=n(c,a,f,k),b=new h.Polyline({shape:{points:b},silent:!0,z2:10});d.add(b);c.setItemGraphicEl(a,b)}).update(function(d,g){var l=b.getItemGraphicEl(g),m=n(c,d,f,k);c.setItemGraphicEl(d,l);h.updateProps(l,{shape:{points:m}},a,d)}).remove(function(a){a=b.getItemGraphicEl(a);d.remove(a)}).execute();l(c,g);this._data||(g=m(k,a,function(){setTimeout(function(){d.removeClipPath()})}),d.setClipPath(g));this._data=c},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});r.exports=p},function(r,p){r.exports=function(a){a.eachSeriesByType("parallel",function(m){var n=m.getModel("itemStyle.normal"),l=m.getModel("lineStyle.normal"),h=a.get("color"),n=l.get("color")||n.get("color")||h[m.seriesIndex%h.length],l=m.get("inactiveOpacity"),h=m.get("activeOpacity"),f=m.getModel("lineStyle.normal").getLineStyle(),e=m.coordinateSystem,d=m.getData(),c={normal:f.opacity,active:h,inactive:l};e.eachActiveState(d,function(a,e){d.setItemVisual(e,"opacity",c[a])});d.setVisual("color",n)})}},function(r,p,a){r=a(1);a(239);a(240);r.registerLayout(a(241));r.registerVisual(a(243))},function(r,p,a){p=a(28);var m=a(196),n=p.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(a){var h=a.edges||a.links;if((a=a.data||a.nodes)&&h)return m(a,h,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(a,h,f){return"edge"===f?(a=this.getDataParams(a,f),h=a.data,h=h.source+" -- "+h.target,a.value&&(h+=" : "+a.value),h):n.superCall(this,"formatTooltip",a,h)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1E3}});r.exports=n},function(r,p,a){function m(a,e,d){var c=new n.Rect({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});n.initProps(c,{shape:{width:a.width+20,height:a.height+20}},e,d);return c}var n=a(43),l=a(4),h=n.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(a,e){var d=e.extent/2;a.moveTo(e.x1,e.y1-d);a.bezierCurveTo(e.cpx1,e.cpy1-d,e.cpx2,e.cpy2-d,e.x2,e.y2-d);a.lineTo(e.x2,e.y2+d);a.bezierCurveTo(e.cpx2,e.cpy2+d,e.cpx1,e.cpy1+d,e.x1,e.y1+d);a.closePath()}});r.exports=a(1).extendChartView({type:"sankey",_model:null,render:function(a,e,d){e=a.getGraph();var c=this.group;d=a.layoutInfo;var b=a.getData(),k=a.getData("edge");this._model=a;c.removeAll();c.position=[d.x,d.y];e.eachEdge(function(b){var d=new h;d.dataIndex=b.dataIndex;d.seriesIndex=a.seriesIndex;d.dataType="edge";var e=b.getModel("lineStyle.normal"),l=e.get("curveness"),m=b.node1.getLayout(),p=b.node2.getLayout(),r=b.getLayout();d.shape.extent=Math.max(1,r.dy);var A=m.x+m.dx,m=m.y+r.sy+r.dy/2,z=p.x,p=p.y+r.ty+r.dy/2;d.setShape({x1:A,y1:m,x2:z,y2:p,cpx1:A*(1-l)+z*l,cpy1:m,cpx2:A*l+z*(1-l),cpy2:p});d.setStyle(e.getItemStyle());switch(d.style.fill){case "source":d.style.fill=b.node1.getVisual("color");break;case "target":d.style.fill=b.node2.getVisual("color")}n.setHoverStyle(d,b.getModel("lineStyle.emphasis").getItemStyle());c.add(d);k.setItemGraphicEl(b.dataIndex,d)});e.eachNode(function(d){var e=d.getLayout(),k=d.getModel(),h=k.getModel("label.normal"),m=h.getModel("textStyle"),p=k.getModel("label.emphasis"),r=p.getModel("textStyle"),e=new n.Rect({shape:{x:e.x,y:e.y,width:d.getLayout().dx,height:d.getLayout().dy},style:{text:h.get("show")?a.getFormattedLabel(d.dataIndex,"normal")||d.id:"",textFont:m.getFont(),textFill:m.getTextColor(),textPosition:h.get("position")}});e.setStyle(l.defaults({fill:d.getVisual("color")},k.getModel("itemStyle.normal").getItemStyle()));n.setHoverStyle(e,l.extend(d.getModel("itemStyle.emphasis"),{text:p.get("show")?a.getFormattedLabel(d.dataIndex,"emphasis")||d.id:"",textFont:r.getFont(),textFill:r.getTextColor(),textPosition:p.get("position")}));c.add(e);b.setItemGraphicEl(d.dataIndex,e);e.dataType="node"});!this._data&&a.get("animation")&&c.setClipPath(m(c.getBoundingRect(),a,function(){c.removeClipPath()}));this._data=a.getData()}})},function(r,p,a){function m(a,b){return C.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function n(a,b,c,d,g,k,q){for(var l=a,m,n=0;l.length;){m=[];for(var p=0,r=l.length;p<r;p++){var v=l[p];v.setLayout({x:n},!0);v.setLayout({dx:c},!0);for(var t=0,y=v.outEdges.length;t<y;t++)m.push(v.outEdges[t].node2)}l=m;++n}h(a,n);f(a,(g-c)/(n-1));e(a,b,k,d,q);u(a)}function l(a){D.each(a,function(a){var b=v(a.outEdges,w),c=v(a.inEdges,w);a.setLayout({value:Math.max(b,c)},!0)})}function h(a,b){D.each(a,function(a){a.outEdges.length||a.setLayout({x:b-1},!0)})}function f(a,b){D.each(a,function(a){var c=a.getLayout().x*b;a.setLayout({x:c},!0)})}function e(a,e,g,k,f){var h=B().key(function(a){return a.getLayout().x}).sortKeys(z).entries(a).map(function(a){return a.values});d(a,h,e,g,k);c(h,k,g);for(a=1;0<f;f--)a*=.99,b(h,a),c(h,k,g),q(h,a),c(h,k,g)}function d(a,b,c,d,e){var g=[];D.each(b,function(a){var b=a.length,c=0;D.each(a,function(a){c+=a.getLayout().value});g.push((d-(b-1)*e)/c)});g.sort(function(a,b){return a-b});var k=g[0];D.each(b,function(a){D.each(a,function(a,b){a.setLayout({y:b},!0);var c=a.getLayout().value*k;a.setLayout({dy:c},!0)})});D.each(c,function(a){var b=+a.getValue()*k;a.setLayout({dy:b},!0)})}function c(a,b,c){D.each(a,function(a){var d,e;e=0;var g=a.length,k;a.sort(A);for(k=0;k<g;k++)d=a[k],e-=d.getLayout().y,0<e&&(e=d.getLayout().y+e,d.setLayout({y:e},!0)),e=d.getLayout().y+d.getLayout().dy+b;e=e-b-c;if(0<e)for(e=d.getLayout().y-e,d.setLayout({y:e},!0),e=d.getLayout().y,k=g-2;0<=k;--k)d=a[k],e=d.getLayout().y+d.getLayout().dy+b-e,0<e&&(e=d.getLayout().y-e,d.setLayout({y:e},!0)),e=d.getLayout().y})}function b(a,b){D.each(a.slice().reverse(),function(a){D.each(a,function(a){if(a.outEdges.length){var c=v(a.outEdges,k)/v(a.outEdges,w),c=a.getLayout().y+(c-t(a))*b;a.setLayout({y:c},!0)}})})}function k(a){return t(a.node2)*a.getValue()}function q(a,b){D.each(a,function(a){D.each(a,function(a){if(a.inEdges.length){var c=v(a.inEdges,g)/v(a.inEdges,w),c=a.getLayout().y+(c-t(a))*b;a.setLayout({y:c},!0)}})})}function g(a){return t(a.node1)*a.getValue()}function u(a){D.each(a,function(a){a.outEdges.sort(y);a.inEdges.sort(x)});D.each(a,function(a){var b=0,c=0;D.each(a.outEdges,function(a){a.setLayout({sy:b},!0);b+=a.getLayout().dy});D.each(a.inEdges,function(a){a.setLayout({ty:c},!0);c+=a.getLayout().dy})})}function y(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function x(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function v(a,b){for(var c=0,d=a.length,e=-1;++e<d;){var g=+b.call(a,a[e],e);isNaN(g)||(c+=g)}return c}function t(a){return a.getLayout().y+a.getLayout().dy/2}function A(a,b){return a.getLayout().y-b.getLayout().y}function z(a,b){return a<b?-1:a>b?1:a===b?0:NaN}function w(a){return a.getValue()}var C=a(21),B=a(242),D=a(4);r.exports=function(a,b,c){a.eachSeriesByType("sankey",function(a){var c=a.get("nodeWidth"),d=a.get("nodeGap"),e=m(a,b);a.layoutInfo=e;var g=e.width,e=e.height,k=a.getGraph(),f=k.nodes,k=k.edges;l(f);a=0!==f.filter(function(a){return 0===a.getLayout().value}).length?0:a.get("layoutIterations");n(f,k,c,d,g,e,a)})}},function(r,p,a){var m=a(4);r.exports=function(){function a(e,d){if(d>=h.length)return e;for(var c=-1,b=e.length,k=h[d++],f={},g={};++c<b;){var l=k(e[c]),p=g[l];p?p.push(e[c]):g[l]=[e[c]]}m.each(g,function(b,c){f[c]=a(b,d)});return f}function l(a,d){if(d>=h.length)return a;var c=[],b=f[d++];m.each(a,function(a,b){c.push({key:b,values:l(a,d)})});return b?c.sort(function(a,c){return b(a.key,c.key)}):c}var h=[],f=[];return{key:function(a){h.push(a);return this},sortKeys:function(a){f[h.length-1]=a;return this},entries:function(e){return l(a(e,0),0)}}}},function(r,p,a){var m=a(192);r.exports=function(a,l){a.eachSeriesByType("sankey",function(a){var f=a.getGraph().nodes;f.sort(function(a,b){return a.getLayout().value-b.getLayout().value});var e=f[0].getLayout().value,d=f[f.length-1].getLayout().value;f.forEach(function(c){var b=(new m({type:"color",mappingMethod:"linear",dataExtent:[e,d],visual:a.get("color")})).mapValueToVisual(c.getLayout().value);c.setVisual("color",b);b=c.getModel().get("itemStyle.normal.color");null!=b&&c.setVisual("color",b)})})}},function(r,p,a){r=a(1);a(245);a(248);r.registerVisual(a(249));r.registerLayout(a(250))},function(r,p,a){p=a(4);var m=a(28);a=a(246);m=m.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});p.mixin(m,a.seriesModelMixin,!0);r.exports=m},function(r,p,a){var m=a(97),n=a(102),l=a(247),h=a(4);r.exports={seriesModelMixin:{_baseAxisDim:null,getInitialData:function(a,e){var d,c=e.getComponent("xAxis",this.get("xAxisIndex")),b=e.getComponent("yAxis",this.get("yAxisIndex")),k=c.get("type"),h=b.get("type"),g;"category"===k?(a.layout="horizontal",d=c.getCategories(),g=!0):"category"===h?(a.layout="vertical",d=b.getCategories(),g=!0):a.layout=a.layout||"horizontal";this._baseAxisDim="horizontal"===a.layout?"x":"y";c=a.data;b=this.dimensions=["base"].concat(this.valueDimensions);n(b,c);b=new m(b,this);b.initData(c,d?d.slice():null,function(a,b,c,d){a=null==a.value?a:a.value;return g?"base"===b?c:a[d-1]:a[d]});return b},coordDimToDataDim:function(a){var e=this.valueDimensions.slice(),d=["base"];return{horizontal:{x:d,y:e},vertical:{x:e,y:d}}[this.get("layout")][a]},dataDimToCoordDim:function(a){var e;h.each(["x","y"],function(d,c){var b=this.coordDimToDataDim(d);0<=h.indexOf(b,a)&&(e=d)},this);return e},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},viewMixin:{init:function(){var a=this._whiskerBoxDraw=new l(this.getStyleUpdater());this.group.add(a.group)},render:function(a,e,d){this._whiskerBoxDraw.updateData(a.getData())},remove:function(a){this._whiskerBoxDraw.remove()}}}},function(r,p,a){function m(a,b,d,f){e.Group.call(this);this.styleUpdater=d;this._createContent(a,b,f);this.updateData(a,b,f)}function n(a,b,d){return f.map(a,function(a){a=a.slice();a[b]=d.initBaseline;return a})}function l(a){var b={};f.each(a,function(a,c){b["ends"+c]=a});return b}function h(a){this.group=new e.Group;this.styleUpdater=a}var f=a(4),e=a(43),d=a(45).extend({type:"whiskerInBox",shape:{},buildPath:function(a,b){for(var d in b)if(0===d.indexOf("ends")){var e=b[d];a.moveTo(e[0][0],e[0][1]);a.lineTo(e[1][0],e[1][1])}}});p=m.prototype;p._createContent=function(a,b,k){var h=a.getItemLayout(b),g="horizontal"===h.chartLayout?1:0;a=0;this.add(new e.Polygon({shape:{points:k?n(h.bodyEnds,g,h):h.bodyEnds},style:{strokeNoScale:!0},z2:100}));this.bodyIndex=a++;b=f.map(h.whiskerEnds,function(a){return k?n(a,g,h):a});this.add(new d({shape:l(b),style:{strokeNoScale:!0},z2:100}));this.whiskerIndex=a++};p.updateData=function(a,b,d){var f=this._seriesModel=a.hostModel,g=a.getItemLayout(b);d=e[d?"initProps":"updateProps"];d(this.childAt(this.bodyIndex),{shape:{points:g.bodyEnds}},f,b);d(this.childAt(this.whiskerIndex),{shape:l(g.whiskerEnds)},f,b);this.styleUpdater.call(null,this,a,b)};f.inherits(m,e.Group);p=h.prototype;p.updateData=function(a){var b=this.group,d=this._data,e=this.styleUpdater;a.diff(d).add(function(d){if(a.hasValue(d)){var k=new m(a,d,e,!0);a.setItemGraphicEl(d,k);b.add(k)}}).update(function(g,f){var h=d.getItemGraphicEl(f);a.hasValue(g)?(h?h.updateData(a,g):h=new m(a,g,e),b.add(h),a.setItemGraphicEl(g,h)):b.remove(h)}).remove(function(a){(a=d.getItemGraphicEl(a))&&b.remove(a)}).execute();this._data=a};p.remove=function(){var a=this.group,b=this._data;this._data=null;b&&b.eachItemGraphicEl(function(b){b&&a.remove(b)})};r.exports=h},function(r,p,a){function m(a,d,c){var b=d.getItemModel(c),k=b.getModel(h);d=d.getItemVisual(c,"color");k=k.getItemStyle(["borderColor"]);c=a.childAt(a.whiskerIndex);c.style.set(k);c.style.stroke=d;c.dirty();c=a.childAt(a.bodyIndex);c.style.set(k);c.style.stroke=d;c.dirty();b=b.getModel(f).getItemStyle();l.setHoverStyle(a,b)}p=a(4);var n=a(42),l=a(43);a=a(246);n=n.extend({type:"boxplot",getStyleUpdater:function(){return m}});p.mixin(n,a.viewMixin,!0);var h=["itemStyle","normal"],f=["itemStyle","emphasis"];r.exports=n},function(r,p){var a=["itemStyle","normal","borderColor"];r.exports=function(m,n){var l=m.get("color");m.eachRawSeriesByType("boxplot",function(h){var f=l[h.seriesIndex%l.length],e=h.getData();e.setVisual({legendSymbol:"roundRect",color:h.get(a)||f});m.isSeriesFiltered(h)||e.each(function(d){var c=e.getItemModel(d);e.setItemVisual(d,{color:c.get(a,!0)})})})}},function(r,p,a){function m(a){var c=[],b=[];a.eachSeriesByType("boxplot",function(a){var d=a.getBaseAxis(),e=h.indexOf(b,d);0>e&&(e=b.length,b[e]=d,c[e]={axis:d,seriesModels:[]});c[e].seriesModels.push(a)});return c}function n(a){var c=a.axis,b=a.seriesModels,k=b.length,q=a.boxWidthList=[],g=a.boxOffsetList=[],l=[],m;if("category"===c.type)m=c.getBandWidth();else{var n=0;e(b,function(a){n=Math.max(n,a.getData().count())});a=c.getExtent();Math.abs(a[1]-a[0])/n}e(b,function(a){a=a.get("boxWidth");h.isArray(a)||(a=[a,a]);l.push([f(a[0],m)||0,f(a[1],m)||0])});a=.8*m-2;var p=a/k*.3,r=(a-p*(k-1))/k,A=r/2-a/2;e(b,function(a,b){g.push(A);A+=p+r;q.push(Math.min(Math.max(r,l[b][0]),l[b][1]))})}function l(a,c,b){var e=a.coordinateSystem,f=a.getData(),g=a.dimensions,h=a.get("layout"),l=b/2;f.each(g,function(){function a(b){var d=[];d[r]=n;d[B]=b;isNaN(n)||isNaN(b)?b=[NaN,NaN]:(b=e.dataToPoint(d),b[r]+=c);return b}function b(a,c){var d=a.slice(),e=a.slice();d[r]+=l;e[r]-=l;c?F.push(d,e):F.push(e,d)}function d(a){a=[a.slice(),a.slice()];a[0][r]-=l;a[1][r]+=l;H.push(a)}var m=arguments,n=m[0],p=m[g.length],r="horizontal"===h?0:1,B=1-r,D=a(m[3]),J=a(m[1]),E=a(m[5]),H=[[J,a(m[2])],[E,a(m[4])]];d(J);d(E);d(D);var F=[];b(H[0][1],0);b(H[1][1],1);f.setItemLayout(p,{chartLayout:h,initBaseline:D[B],median:D,bodyEnds:F,whiskerEnds:H})})}var h=a(4),f=a(7).parsePercent,e=h.each;r.exports=function(a){a=m(a);e(a,function(a){var b=a.seriesModels;b.length&&(n(a),e(b,function(b,d){l(b,a.boxOffsetList[d],a.boxWidthList[d])}))})}},function(r,p,a){r=a(1);a(252);a(253);r.registerPreprocessor(a(254));r.registerVisual(a(255));r.registerLayout(a(256))},function(r,p,a){var m=a(4),n=a(28);p=a(246);a=a(6);var l=a.encodeHTML,h=a.addCommas;a=n.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(a,e){var d=m.map(this.valueDimensions,function(c){return c+": "+h(this._data.get(c,a))},this);return l(this.name)+"\x3cbr /\x3e"+d.join("\x3cbr /\x3e")},brushSelector:function(a,e){return e.rect(a.brushRect)}});m.mixin(a,p.seriesModelMixin,!0);r.exports=a},function(r,p,a){function m(a,d,c){var b=d.getItemModel(c),k=b.getModel(h),q=d.getItemVisual(c,"color");d=d.getItemVisual(c,"borderColor")||q;k=k.getItemStyle(["color","color0","borderColor","borderColor0"]);c=a.childAt(a.whiskerIndex);c.useStyle(k);c.style.stroke=d;c=a.childAt(a.bodyIndex);c.useStyle(k);c.style.fill=q;c.style.stroke=d;b=b.getModel(f).getItemStyle();l.setHoverStyle(a,b)}p=a(4);var n=a(42),l=a(43);a=a(246);n=n.extend({type:"candlestick",getStyleUpdater:function(){return m}});p.mixin(n,a.viewMixin,!0);var h=["itemStyle","normal"],f=["itemStyle","emphasis"];r.exports=n},function(r,p,a){var m=a(4);r.exports=function(a){a&&m.isArray(a.series)&&m.each(a.series,function(a){m.isObject(a)&&"k"===a.type&&(a.type="candlestick")})}},function(r,p){var a=["itemStyle","normal","borderColor"],m=["itemStyle","normal","borderColor0"],n=["itemStyle","normal","color"],l=["itemStyle","normal","color0"];r.exports=function(h,f){h.eachRawSeriesByType("candlestick",function(e){var d=e.getData();d.setVisual({legendSymbol:"roundRect"});h.isSeriesFiltered(e)||d.each(function(c){var b=d.getItemModel(c),e=d.getItemLayout(c).sign;d.setItemVisual(c,{color:b.get(0<e?n:l),borderColor:b.get(0<e?a:m)})})})}},function(r,p){function a(a,n){var l=a.getBaseAxis(),h,l="category"===l.type?l.getBandWidth():(h=l.getExtent(),Math.abs(h[1]-h[0])/n.count());return 5<l/2-2?l/2-2:4<l-5?5:Math.max(l-4,2)}r.exports=function(m){m.eachSeriesByType("candlestick",function(m){var l=m.coordinateSystem,h=m.getData(),f=m.dimensions,e=m.get("layout"),d=a(m,h);h.each(f,function(){function a(b){var c=[];c[m]=q;c[n]=b;return isNaN(q)||isNaN(b)?[NaN,NaN]:l.dataToPoint(c)}function b(a,b){var c=a.slice(),e=a.slice();c[m]+=d/2;e[m]-=d/2;b?C.push(c,e):C.push(e,c)}var k=arguments,q=k[0],g=k[f.length],m="horizontal"===e?0:1,n=1-m,p=k[1],r=k[2],t=k[3],A=k[4],z=Math.max(p,r),k=a(Math.min(p,r)),z=a(z),w=a(t),w=[[a(A),z],[w,k]],C=[];b(z,0);b(k,1);h.setItemLayout(g,{chartLayout:e,sign:p>r?-1:p<r?1:0,initBaseline:p>r?z[n]:k[n],bodyEnds:C,whiskerEnds:w,brushRect:function(){var b=a(Math.min(p,r,t,A)),e=a(Math.max(p,r,t,A));b[m]-=d/2;e[m]-=d/2;return{x:b[0],y:b[1],width:n?d:e[0]-b[0],height:n?e[1]-b[1]:d}}()})},!0)})}},function(r,p,a){r=a(4);p=a(1);a(258);a(259);p.registerVisual(r.curry(a(109),"effectScatter","circle",null));p.registerLayout(r.curry(a(110),"effectScatter"))},function(r,p,a){var m=a(101);p=a(28);r.exports=p.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,l){return m(a.data,this,l)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}})},function(r,p,a){var m=a(104),n=a(260);a(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new m(n)},render:function(a,h,f){a=a.getData();h=this._symbolDraw;h.updateData(a);this.group.add(h.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(a,h){this._symbolDraw&&this._symbolDraw.remove(h)}})},function(r,p,a){function m(a){h.isArray(a)||(a=[+a,+a]);return a}function n(a,c){a.eachChild(function(a){a.attr({z:c.z,zlevel:c.zlevel,style:{stroke:"stroke"===c.brushType?c.color:null,fill:"fill"===c.brushType?c.color:null}})})}function l(a,e){c.call(this);var f=new d(a,e),g=new c;this.add(f);this.add(g);g.beforeUpdate=function(){this.attr(f.getScale())};this.updateData(a,e)}var h=a(4),f=a(106);p=a(43);var e=a(7),d=a(105),c=p.Group;a=l.prototype;a.stopEffectAnimation=function(){this.childAt(1).removeAll()};a.startEffectAnimation=function(a){for(var c=a.symbolType,d=a.color,e=this.childAt(1),h=0;3>h;h++){var l=f.createSymbol(c,-.5,-.5,1,1,d);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[1,1]});var m=-h/3*a.period+a.effectOffset;l.animate("",!0).when(a.period,{scale:[a.rippleScale,a.rippleScale]}).delay(m).start();l.animateStyle(!0).when(a.period,{opacity:0}).delay(m).start();e.add(l)}n(e,a)};a.updateEffectAnimation=function(a){for(var c=this._effectCfg,d=this.childAt(1),e=["symbolType","period","rippleScale"],f=0;f<e;f++){var h=e[f];if(c[h]!==a[h]){this.stopEffectAnimation();this.startEffectAnimation(a);return}}n(d,a)};a.highlight=function(){this.trigger("emphasis")};a.downplay=function(){this.trigger("normal")};a.updateData=function(a,c){var d=a.hostModel;this.childAt(0).updateData(a,c);var g=this.childAt(1),f=a.getItemModel(c),h=a.getItemVisual(c,"symbol"),l=m(a.getItemVisual(c,"symbolSize")),n=a.getItemVisual(c,"color");g.attr("scale",l);g.traverse(function(a){a.attr({fill:n})});var p=f.getShallow("symbolOffset");if(p){var r=g.position;r[0]=e.parsePercent(p[0],l[0]);r[1]=e.parsePercent(p[1],l[1])}g.rotation=(f.getShallow("symbolRotate")||0)*Math.PI/180||0;var z={};z.showEffectOn=d.get("showEffectOn");z.rippleScale=f.get("rippleEffect.scale");z.brushType=f.get("rippleEffect.brushType");z.period=1E3*f.get("rippleEffect.period");z.effectOffset=c/a.count();z.z=f.getShallow("z")||0;z.zlevel=f.getShallow("zlevel")||0;z.symbolType=h;z.color=n;this.off("mouseover").off("mouseout").off("emphasis").off("normal");if("render"===z.showEffectOn)this._effectCfg?this.updateEffectAnimation(z):this.startEffectAnimation(z),this._effectCfg=z;else{this._effectCfg=null;this.stopEffectAnimation();var w=this.childAt(0),d=function(){w.trigger("emphasis");"render"!==z.showEffectOn&&this.startEffectAnimation(z)},g=function(){w.trigger("normal");"render"!==z.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",d,this).on("mouseout",g,this).on("emphasis",d,this).on("normal",g,this)}this._effectCfg=z};a.fadeOut=function(a){this.off("mouseover").off("mouseout").off("emphasis").off("normal");a&&a()};h.inherits(l,c);r.exports=l},function(r,p,a){a(262);a(263);a(1).registerLayout(a(268))},function(r,p,a){function m(a){var d=a.data;d&&d[0]&&d[0][0]&&d[0][0].coord&&(console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),a.data=l.map(d,function(a){var b={coords:[a[0].coord,a[1].coord]};a[0].name&&(b.fromName=a[0].name);a[1].name&&(b.toName=a[1].name);return l.mergeAll([b,a[0],a[1]])}))}r=a(28);var n=a(97),l=a(4),h=a(26),f=r.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(a){m(a);f.superApply(this,"init",arguments)},mergeOption:function(a){m(a);f.superApply(this,"mergeOption",arguments)},getInitialData:function(a,d){if(!h.get(a.coordinateSystem))throw Error("Unkown coordinate system "+a.coordinateSystem);var c=new n(["value"],this);c.hasItemOption=!1;c.initData(a.data,[],function(a,d,e,g){if(a instanceof Array)return NaN;c.hasItemOption=!0;if(a=a.value)return a instanceof Array?a[g]:a});return c},formatTooltip:function(a){a=this.getData().getItemModel(a);var d=a.get("name");if(d)return d;d=a.get("fromName");a=a.get("toName");return d+" \x3e "+a},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2E3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(r,p,a){var m=a(199),n=a(264),l=a(200),h=a(265),f=a(266),e=a(267);a(1).extendChartView({type:"lines",init:function(){},render:function(a,c,b){var k=a.getData(),q=this._lineDraw,g=a.get("effect.show"),p=a.get("polyline"),r=a.get("large")&&k.count()>=a.get("largeThreshold");g&&r&&console.warn("Large lines not support effect");if(g!==this._hasEffet||p!==this._isPolyline||r!==this._isLarge)q&&q.remove(),q=this._lineDraw=r?new e:new m(p?g?f:h:g?n:l),this._hasEffet=g,this._isPolyline=p,this._isLarge=r;var x=a.get("zlevel"),p=a.get("effect.trailLength");b=b.getZr();b.painter.getLayer(x).clear(!0);null!=this._lastZlevel&&b.configLayer(this._lastZlevel,{motionBlur:!1});if(g&&p){var v=!1;c.eachSeries(function(b){b!==a&&b.get("zlevel")===x&&(v=!0)});v&&console.warn("Lines with trail effect should have an individual zlevel");b.configLayer(x,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(p/10+.9,1),0)})}this.group.add(q.group);q.updateData(k);this._lastZlevel=x},updateLayout:function(a,c,b){this._lineDraw.updateLayout(a);b.getZr().painter.getLayer(this._lastZlevel).clear(!0)},remove:function(a,c){this._lineDraw&&this._lineDraw.remove(c,!0)}})},function(r,p,a){function m(a,b,d){n.Group.call(this);this.add(this.createLine(a,b,d));this._updateEffectSymbol(a,b)}var n=a(43),l=a(200),h=a(4),f=a(106),e=a(10),d=a(50);p=m.prototype;p.createLine=function(a,b,d){return new l(a,b,d)};p._updateEffectSymbol=function(a,b){var d=a.getItemModel(b).getModel("effect"),e=d.get("symbolSize"),g=d.get("symbol");h.isArray(e)||(e=[e,e]);var l=d.get("color")||a.getItemVisual(b,"color"),m=this.childAt(1);this._symbolType!==g&&(this.remove(m),m=f.createSymbol(g,-.5,-.5,1,1,l),m.z2=100,m.culling=!0,this.add(m));m&&(m.setStyle("shadowColor",l),m.setStyle(d.getItemStyle(["color"])),m.attr("scale",e),m.setColor(l),m.attr("scale",e),this._symbolType=g,this._updateEffectAnimation(a,d,b))};p._updateEffectAnimation=function(a,b,d){var e=this.childAt(1);if(e){var g=this,f=a.getItemLayout(d),h=1E3*b.get("period"),l=b.get("loop"),m=b.get("constantSpeed");b=b.get("delay")||function(b){return b/a.count()*h/3};var n="function"===typeof b;e.ignore=!0;this.updateAnimationPoints(e,f);0<m&&(h=this.getLineLength(e)/m*1E3);if(h!==this._period||l!==this._loop)e.stopAnimation(),f=b,n&&(f=b(d)),0<e.__t&&(f=-h*e.__t),e.__t=0,d=e.animate("",l).when(h,{__t:1}).delay(f).during(function(){g.updateSymbolPosition(e)}),l||d.done(function(){g.remove(e)}),d.start();this._period=h;this._loop=l}};p.getLineLength=function(a){return e.dist(a.__p1,a.__cp1)+e.dist(a.__cp1,a.__p2)};p.updateAnimationPoints=function(a,b){a.__p1=b[0];a.__p2=b[1];a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]};p.updateData=function(a,b,d){this.childAt(0).updateData(a,b,d);this._updateEffectSymbol(a,b)};p.updateSymbolPosition=function(a){var b=a.__p1,e=a.__p2,f=a.__cp1,g=a.__t,h=a.position,l=d.quadraticAt,m=d.quadraticDerivativeAt;h[0]=l(b[0],f[0],e[0],g);h[1]=l(b[1],f[1],e[1],g);h=m(b[0],f[0],e[0],g);b=m(b[1],f[1],e[1],g);a.rotation=-Math.atan2(b,h)-Math.PI/2;a.ignore=!1};p.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var d=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,d,b)};h.inherits(m,n.Group);r.exports=m},function(r,p,a){function m(a,f,e){n.Group.call(this);this._createPolyline(a,f,e)}var n=a(43),l=a(4);p=m.prototype;p._createPolyline=function(a,f,e){var d=a.getItemLayout(f),d=new n.Polyline({shape:{points:d}});this.add(d);this._updateCommonStl(a,f,e)};p.updateData=function(a,f,e){var d=a.hostModel,c=this.childAt(0),b={shape:{points:a.getItemLayout(f)}};n.updateProps(c,b,d,f);this._updateCommonStl(a,f,e)};p._updateCommonStl=function(a,f,e){var d=this.childAt(0),c=a.getItemModel(f);f=a.getItemVisual(f,"color");var b=e&&e.lineStyle,k=e&&e.hoverLineStyle;if(!e||a.hasItemOption)b=c.getModel("lineStyle.normal").getLineStyle(),k=c.getModel("lineStyle.emphasis").getLineStyle();d.useStyle(l.defaults({strokeNoScale:!0,fill:"none",stroke:f},b));d.hoverStyle=k;n.setHoverStyle(this)};p.updateLayout=function(a,f){this.childAt(0).setShape("points",a.getItemLayout(f))};l.inherits(m,n.Group);r.exports=m},function(r,p,a){function m(a,e,d){l.call(this,a,e,d);this._lastFramePercent=this._lastFrame=0}var n=a(265);p=a(4);var l=a(264),h=a(10);a=m.prototype;a.createLine=function(a,e,d){return new n(a,e,d)};a.updateAnimationPoints=function(a,e){this._points=e;for(var d=[0],c=0,b=1;b<e.length;b++)c+=h.dist(e[b-1],e[b]),d.push(c);if(0!==c){for(b=0;b<d.length;b++)d[b]/=c;this._offsets=d;this._length=c}};a.getLineLength=function(a){return this._length};a.updateSymbolPosition=function(a){var e=a.__t,d=this._points,c=this._offsets,b=d.length;if(c){var k=this._lastFrame;if(e<this._lastFramePercent){for(k=Math.min(k+1,b-1);0<=k&&!(c[k]<=e);k--);k=Math.min(k,b-2)}else{for(;k<b&&!(c[k]>e);k++);k=Math.min(k-1,b-2)}h.lerp(a.position,d[k],d[k+1],(e-c[k])/(c[k+1]-c[k]));this._lastFrame=k;this._lastFramePercent=e;a.ignore=!1}};p.inherits(m,l);r.exports=m},function(r,p,a){function m(){this.group=new n.Group;this._lineEl=new f}var n=a(43),l=a(55),h=a(53),f=n.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(a,d){for(var c=d.segs,b=d.polyline,k=0;k<c.length;k++){var f=c[k];if(b){a.moveTo(f[0][0],f[0][1]);for(var g=1;g<f.length;g++)a.lineTo(f[g][0],f[g][1])}else a.moveTo(f[0][0],f[0][1]),2<f.length?a.quadraticCurveTo(f[2][0],f[2][1],f[1][0],f[1][1]):a.lineTo(f[1][0],f[1][1])}},findDataIndex:function(a,d){for(var c=this.shape,b=c.segs,c=c.polyline,k=Math.max(this.style.lineWidth,1),f=0;f<b.length;f++){var g=b[f];if(c)for(var m=1;m<g.length;m++){if(h.containStroke(g[m-1][0],g[m-1][1],g[m][0],g[m][1],k,a,d))return f}else if(2<g.length){if(l.containStroke(g[0][0],g[0][1],g[2][0],g[2][1],g[1][0],g[1][1],k,a,d))return f}else if(h.containStroke(g[0][0],g[0][1],g[1][0],g[1][1],k,a,d))return f}return-1}});p=m.prototype;p.updateData=function(a){this.group.removeAll();var d=this._lineEl,c=a.hostModel;d.setShape({segs:a.mapArray(a.getItemLayout),polyline:c.get("polyline")});d.useStyle(c.getModel("lineStyle.normal").getLineStyle());(a=a.getVisual("color"))&&d.setStyle("stroke",a);d.setStyle("fill");d.seriesIndex=c.seriesIndex;d.on("mousemove",function(a){d.dataIndex=null;a=d.findDataIndex(a.offsetX,a.offsetY);0<a&&(d.dataIndex=a)});this.group.add(d)};p.updateLayout=function(a){a=a.getData();this._lineEl.setShape({segs:a.mapArray(a.getItemLayout)})};p.remove=function(){this.group.removeAll()};r.exports=m},function(r,p,a){r.exports=function(a){a.eachSeriesByType("lines",function(a){var l=a.coordinateSystem,h=a.getData();h.each(function(f){var e=h.getItemModel(f),d=e.option instanceof Array?e.option:e.get("coords");if(!(d instanceof Array&&0<d.length&&d[0]instanceof Array))throw Error("Invalid coords "+JSON.stringify(d)+". Lines must have 2d coords array in data item.");var c=[];if(a.get("polyline"))for(e=0;e<d.length;e++)c.push(l.dataToPoint(d[e]));else c[0]=l.dataToPoint(d[0]),c[1]=l.dataToPoint(d[1]),d=e.get("lineStyle.normal.curveness"),+d&&(c[2]=[(c[0][0]+c[1][0])/2-(c[0][1]-c[1][1])*d,(c[0][1]+c[1][1])/2-(c[1][0]-c[0][0])*d]);h.setItemLayout(f,c)})})}},function(r,p,a){a(270);a(271)},function(r,p,a){p=a(28);var m=a(101);r.exports=p.extend({type:"series.heatmap",getInitialData:function(a,l){return m(a.data,this,l)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(r,p,a){function m(a,c,b){var k=a[1]-a[0];c=e.map(c,function(b){return{interval:[(b.interval[0]-a[0])/k,(b.interval[1]-a[0])/k]}});var f=c.length,g=0;return function(a){for(var d=g;d<f;d++){var e=c[d].interval;if(e[0]<=a&&a<=e[1]){g=d;break}}if(d===f)for(d=g-1;0<=d;d--)if(e=c[d].interval,e[0]<=a&&a<=e[1]){g=d;break}return 0<=d&&d<f&&b[d]}}function n(a,c){var b=a[1]-a[0];c=[(c[0]-a[0])/b,(c[1]-a[0])/b];return function(a){return a>=c[0]&&a<=c[1]}}function l(a){a=a.dimensions;return"lng"===a[0]&&"lat"===a[1]}var h=a(43),f=a(272),e=a(4);r.exports=a(1).extendChartView({type:"heatmap",render:function(a,c,b){var e;c.eachComponent("visualMap",function(b){b.eachTargetSeries(function(c){c===a&&(e=b)})});if(!e)throw Error("Heatmap must use with visualMap");this.group.removeAll();c=a.coordinateSystem;"cartesian2d"===c.type?this._renderOnCartesian(c,a,b):l(c)&&this._renderOnGeo(c,a,e,b)},_renderOnCartesian:function(a,c,b){b=a.getAxis("x");var k=a.getAxis("y"),f=this.group;if("category"!==b.type||"category"!==k.type)throw Error("Heatmap on cartesian must have two category axes");if(!b.onBand||!k.onBand)throw Error("Heatmap on cartesian must have two axes with boundaryGap true");var g=b.getBandWidth(),l=k.getBandWidth(),m=c.getData(),n=c.getModel("itemStyle.normal").getItemStyle(["color"]),p=c.getModel("itemStyle.emphasis").getItemStyle(),r=c.getModel("label.normal"),A=c.getModel("label.emphasis");m.each(["x","y","z"],function(b,k,C,B){var D=m.getItemModel(B);b=a.dataToPoint([b,k]);isNaN(C)||(C=new h.Rect({shape:{x:b[0]-g/2,y:b[1]-l/2,width:g,height:l},style:{fill:m.getItemVisual(B,"color"),opacity:m.getItemVisual(B,"opacity")}}),m.hasItemOption&&(n=D.getModel("itemStyle.normal").getItemStyle(["color"]),p=D.getModel("itemStyle.emphasis").getItemStyle(),r=D.getModel("label.normal"),A=D.getModel("label.emphasis")),D=c.getRawValue(B),b="-",D&&null!=D[2]&&(b=D[2]),r.getShallow("show")&&(h.setText(n,r),n.text=c.getFormattedLabel(B,"normal")||b),A.getShallow("show")&&(h.setText(p,A),p.text=c.getFormattedLabel(B,"emphasis")||b),C.setStyle(n),h.setHoverStyle(C,m.hasItemOption?p:e.extend({},p)),f.add(C),m.setItemGraphicEl(B,C))})},_renderOnGeo:function(a,c,b,e){var l=b.targetVisuals.inRange,g=b.targetVisuals.outOfRange,p=c.getData(),r=this._hmLayer||this._hmLayer||new f;r.blurSize=c.get("blurSize");r.pointSize=c.get("pointSize");r.minOpacity=c.get("minOpacity");r.maxOpacity=c.get("maxOpacity");c=a.getViewRect().clone();var x=a.getRoamTransform().transform;c.applyTransform(x);var v=Math.max(c.x,0),t=Math.max(c.y,0),x=Math.min(c.width+c.x,e.getWidth());c=Math.min(c.height+c.y,e.getHeight());e=x-v;c-=t;p=p.mapArray(["lng","lat","value"],function(b,c,e){b=a.dataToPoint([b,c]);b[0]-=v;b[1]-=t;b.push(e);return b});x=b.getExtent();b="visualMap.continuous"===b.type?n(x,b.option.range):m(x,b.getPieceList(),b.option.selected);r.update(p,e,c,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:g.color.getColorMapper()},b);l=new h.Image({style:{width:e,height:c,x:v,y:t,image:r.canvas},silent:!0});this.group.add(l)}})},function(r,p,a){function m(){this.canvas=n.createCanvas();this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}var n=a(4);m.prototype={update:function(a,h,f,e,d,c){var b=this._getBrush(),k=this._getGradient(a,d,"inRange");d=this._getGradient(a,d,"outOfRange");var q=this.pointSize+this.blurSize,g=this.canvas,m=g.getContext("2d"),n=a.length;g.width=h;g.height=f;for(f=0;f<n;++f){h=a[f];var p=h[0],r=h[1];h=e(h[2]);m.globalAlpha=h;m.drawImage(b,p-q,r-q)}a=m.getImageData(0,0,g.width,g.height);e=a.data;b=0;q=e.length;n=this.minOpacity;for(f=this.maxOpacity-n;b<q;)h=e[b+3]/256,p=4*Math.floor(255*h),0<h?(r=c(h)?k:d,0<h&&(h=h*f+n),e[b++]=r[p],e[b++]=r[p+1],e[b++]=r[p+2],e[b++]=r[p+3]*h*256):b+=4;m.putImageData(a,0,0);return g},_getBrush:function(){var a=this._brushCanvas||(this._brushCanvas=n.createCanvas()),h=this.pointSize+this.blurSize,f=2*h;a.width=f;a.height=f;var e=a.getContext("2d");e.clearRect(0,0,f,f);e.shadowOffsetX=f;e.shadowBlur=this.blurSize;e.shadowColor="#000";e.beginPath();e.arc(-h,h,this.pointSize,0,2*Math.PI,!0);e.closePath();e.fill();return a},_getGradient:function(a,h,f){a=this._gradientPixels;a=a[f]||(a[f]=new Uint8ClampedArray(1024));for(var e=[],d=0,c=0;256>c;c++)h[f](c/255,!0,e),a[d++]=e[0],a[d++]=e[1],a[d++]=e[2],a[d++]=e[3];return a}};r.exports=m},function(r,p,a){a(274);a(275);a(276);a(1).registerProcessor(a(278))},function(r,p,a){var m=a(4),n=a(12),l=a(1).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,f,e){this.mergeDefaultAndTheme(a,e);a.selected=a.selected||{}},mergeOption:function(a){l.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var f=!1,e=0;e<a.length;e++){var d=a[e].get("name");if(this.isSelected(d)){this.select(d);f=!0;break}}!f&&this.select(a[0].get("name"))}},_updateData:function(a){this._data=m.map(this.get("data")||[],function(a){if("string"===typeof a||"number"===typeof a)a={name:a};return new n(a,this,this.ecModel)},this);var f=m.map(a.getSeries(),function(a){return a.name});a.eachSeries(function(a){a.legendDataProvider&&(a=a.legendDataProvider(),f=f.concat(a.mapArray(a.getName)))});this._availableNames=f},getData:function(){return this._data},select:function(a){var f=this.option.selected;"single"===this.get("selectedMode")&&m.each(this._data,function(a){f[a.get("name")]=!1});f[a]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var f=this.option.selected;a in f||(f[a]=!0);this[f[a]?"unSelect":"select"](a)},isSelected:function(a){var f=this.option.selected;return!(a in f&&!f[a])&&0<=m.indexOf(this._availableNames,a)},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});r.exports=l},function(r,p,a){function m(a,h,f){var e={},d="toggleSelected"===a,c;f.eachComponent("legend",function(b){if(d&&null!=c)b[c?"select":"unSelect"](h.name);else b[a](h.name),c=b.isSelected(h.name);var k=b.getData();n.each(k,function(a){a=a.get("name");if("\n"!==a&&""!==a){var c=b.isSelected(a);e[a]=a in e?e[a]&&c:c}})});return{name:h.name,selected:e}}r=a(1);var n=a(4);r.registerAction("legendToggleSelect","legendselectchanged",n.curry(m,"toggleSelected"));r.registerAction("legendSelect","legendselected",n.curry(m,"select"));r.registerAction("legendUnSelect","legendunselected",n.curry(m,"unSelect"))},function(r,p,a){function m(a,c){c.dispatchAction({type:"legendToggleSelect",name:a})}function n(a,c,d){var e=d.getZr().storage.getDisplayList()[0];e&&e.useHoverLayer||a.get("legendHoverLink")&&d.dispatchAction({type:"highlight",seriesName:a.name,name:c})}function l(a,c,d){var e=d.getZr().storage.getDisplayList()[0];e&&e.useHoverLayer||a.get("legendHoverLink")&&d.dispatchAction({type:"downplay",seriesName:a.name,name:c})}var h=a(4),f=a(106),e=a(43),d=a(277),c=h.curry;r.exports=a(1).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(a,k,f){var g=this.group;g.removeAll();if(a.get("show")){var p=a.get("selectedMode"),r=a.get("align");"auto"===r&&(r="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left");var x={};h.each(a.getData(),function(d){var h=d.get("name");if(""===h||"\n"===h)g.add(new e.Group({newline:!0}));else{var A=k.getSeriesByName(h)[0];if(!x[h]){if(A){var z=A.getData(),w=z.getVisual("color");"function"===typeof w&&(w=w(A.getDataParams(0)));var C=z.getVisual("legendSymbol")||"roundRect",z=z.getVisual("symbol");this._createItem(h,d,a,C,z,r,w,p).on("click",c(m,h,f)).on("mouseover",c(n,A,"",f)).on("mouseout",c(l,A,"",f));x[h]=!0}else k.eachRawSeries(function(e){if(!x[h]&&e.legendDataProvider){var g=e.legendDataProvider(),k=g.indexOfName(h);0>k||(g=g.getItemVisual(k,"color"),this._createItem(h,d,a,"roundRect",null,r,g,p).on("click",c(m,h,f)).on("mouseover",c(n,e,h,f)).on("mouseout",c(l,e,h,f)),x[h]=!0)}},this);x[h]||console.warn(h+" series not exists. Legend data should be same with series name or data name.")}}},this);d.layout(g,a,f);d.addBackground(g,a)}},_createItem:function(a,c,d,g,l,m,n,p){var r=d.get("itemWidth"),A=d.get("itemHeight"),z=d.get("inactiveColor"),w=d.isSelected(a),C=new e.Group,B=c.getModel("textStyle"),D=c.get("icon");c=c.getModel("tooltip");g=D||g;C.add(f.createSymbol(g,0,0,r,A,w?n:z));D||!l||l===g&&"none"!=l||(g=.8*A,"none"===l&&(l="circle"),C.add(f.createSymbol(l,(r-g)/2,(A-g)/2,g,g,w?n:z)));l="left"===m?r+5:-5;n=d.get("formatter");r=a;"string"===typeof n&&n?r=n.replace("{name}",a):"function"===typeof n&&(r=n(a));m=new e.Text({style:{text:r,x:l,y:A/2,fill:w?B.getTextColor():z,textFont:B.getFont(),textAlign:m,textVerticalAlign:"middle"}});C.add(m);d=new e.Rect({shape:C.getBoundingRect(),invisible:!0,tooltip:c.get("show")?h.extend({content:a,formatter:function(){return a},formatterParams:{componentType:"legend",legendIndex:d.componentIndex,name:a,$vars:["name"]}},c.option):null});C.add(d);C.eachChild(function(a){a.silent=!0});d.silent=!p;this.group.add(C);e.setHoverStyle(C);return C}})},function(r,p,a){var m=a(21),n=a(6),l=a(43);r.exports={layout:function(a,f,e){var d=m.getLayoutRect(f.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},f.get("padding"));m.box(f.get("orient"),a,f.get("itemGap"),d.width,d.height);m.positionGroup(a,f.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},f.get("padding"))},addBackground:function(a,f){var e=n.normalizeCssArray(f.get("padding")),d=a.getBoundingRect(),c=f.getItemStyle(["color","opacity"]);c.fill=f.get("backgroundColor");e=new l.Rect({shape:{x:d.x-e[3],y:d.y-e[0],width:d.width+e[1]+e[3],height:d.height+e[0]+e[2]},style:c,silent:!0,z2:-1});l.subPixelOptimizeRect(e);a.add(e)}}},function(r,p){r.exports=function(a){var m=a.findComponents({mainType:"legend"});m&&m.length&&a.filterSeries(function(a){for(var l=0;l<m.length;l++)if(!m[l].isSelected(a.name))return!1;return!0})}},function(r,p,a){a(280);a(281);a(1).registerAction({type:"showTip",event:"showTip",update:"none"},function(){});a(1).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},function(r,p,a){a(1).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(r,p,a){function m(a,b,d,e,k,h,l){var m=l.getWidth(),n=l.getHeight();l=h&&h.getBoundingRect().clone();h&&l.applyTransform(h.transform);"function"===typeof a&&(a=a([b,d],k,e.el,l));if(f.isArray(a))b=c(a[0],m),d=c(a[1],n);else{if("string"===typeof a&&h){n=e.el;m=n.clientWidth;n=n.clientHeight;d=b=0;k=l.width;h=l.height;switch(a){case "inside":b=l.x+k/2-m/2;d=l.y+h/2-n/2;break;case "top":b=l.x+k/2-m/2;d=l.y-n-5;break;case "bottom":b=l.x+k/2-m/2;d=l.y+h+5;break;case "left":b=l.x-m-5;d=l.y+h/2-n/2;break;case "right":b=l.x+k+5,d=l.y+h/2-n/2}a=[b,d]}else a=b,l=d,d=e.el,b=d.clientWidth,d=d.clientHeight,a=[a+b+20>m?a-(b+20):a+20,l+d+20>n?l-(d+20):l+20];b=a[0];d=a[1]}e.moveTo(b,d)}function n(a){var b=a.coordinateSystem;a=a.get("tooltip.trigger",!0);return!(!b||"cartesian2d"!==b.type&&"polar"!==b.type&&"singleAxis"!==b.type||"item"===a)}var l=a(282),h=a(43),f=a(4),e=a(6),d=a(7),c=d.parsePercent,b=a(2),k=a(12);a(1).extendComponentView({type:"tooltip",_axisPointers:{},init:function(a,c){b.node||(this._tooltipContent=new l(c.getDom(),c),c.on("showTip",this._manuallyShowTip,this),c.on("hideTip",this._manuallyHideTip,this))},render:function(a,c,d){if(!b.node){this.group.removeAll();this._axisPointers={};this._tooltipModel=a;this._ecModel=c;this._api=d;this._lastHover={};d=this._tooltipContent;d.update();d.enterable=a.get("enterable");this._alwaysShowContent=a.get("alwaysShowContent");this._seriesGroupByAxis=this._prepareAxisTriggerData(a,c);(c=this._crossText)&&this.group.add(c);if(null!=this._lastX&&null!=this._lastY){var e=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){e._manuallyShowTip({x:e._lastX,y:e._lastY})})}c=this._api.getZr();c.off("click",this._tryShow);c.off("mousemove",this._mousemove);c.off("mouseout",this._hide);c.off("globalout",this._hide);if("click"===a.get("triggerOn"))c.on("click",this._tryShow,this);else c.on("mousemove",this._mousemove,this),c.on("mouseout",this._hide,this),c.on("globalout",this._hide,this)}},_mousemove:function(a){var b=this._tooltipModel.get("showDelay"),c=this;clearTimeout(this._showTimeout);0<b?this._showTimeout=setTimeout(function(){c._tryShow(a)},b):this._tryShow(a)},_manuallyShowTip:function(a){if(a.from!==this.uid){var b=this._ecModel,c=a.dataIndex,d=b.getSeriesByIndex(a.seriesIndex),e=this._api;if(null==a.x||null==a.y){if(d||b.eachSeries(function(a){n(a)&&!d&&(d=a)}),d){e=d.getData();null==c&&(c=e.indexOfName(a.name));var b=e.getItemGraphicEl(c),k,h;(a=d.coordinateSystem)&&a.dataToPoint?(k=(c=a.dataToPoint(e.getValues(f.map(a.dimensions,function(a){return d.coordDimToDataDim(a)[0]}),c,!0)))&&c[0],h=c&&c[1]):b&&(c=b.getBoundingRect().clone(),c.applyTransform(b.transform),k=c.x+c.width/2,h=c.y+c.height/2);null!=k&&null!=h&&this._tryShow({offsetX:k,offsetY:h,target:b,event:{}})}}else b=e.getZr().handler.findHover(a.x,a.y),this._tryShow({offsetX:a.x,offsetY:a.y,target:b,event:{}})}},_manuallyHideTip:function(a){a.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(a,b){var c={};b.eachSeries(function(a){if(n(a)){var b=a.coordinateSystem,d;"cartesian2d"===b.type?(d=b.getBaseAxis(),d=d.dim+d.index):"singleAxis"===b.type?(d=b.getAxis(),d=d.dim+d.type):(d=b.getBaseAxis(),d=d.dim+b.name);c[d]=c[d]||{coordSys:[],series:[]};c[d].coordSys.push(b);c[d].series.push(a)}},this);return c},_tryShow:function(a){var b=a.target,c=this._tooltipModel,d=c.get("trigger"),e=this._ecModel,f=this._api;if(c)if(this._lastX=a.offsetX,this._lastY=a.offsetY,b&&null!=b.dataIndex){var h=b.dataModel||e.getSeriesByIndex(b.seriesIndex),l=b.dataIndex;"axis"===(h.getData().getItemModel(l).get("tooltip.trigger")||d)?this._showAxisTooltip(c,e,a):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(h,l,b.dataType,a));f.dispatchAction({type:"showTip",from:this.uid,dataIndex:b.dataIndex,seriesIndex:b.seriesIndex})}else b&&b.tooltip?(d=b.tooltip,"string"===typeof d&&(d={content:d,formatter:d}),c=new k(d,c),d=c.get("content"),e=Math.random(),this._showTooltipContent(c,d,c.get("formatterParams")||{},e,a.offsetX,a.offsetY,b,f)):("item"===d?this._hide():this._showAxisTooltip(c,e,a),"cross"===c.get("axisPointer.type")&&f.dispatchAction({type:"showTip",from:this.uid,x:a.offsetX,y:a.offsetY}))},_showAxisTooltip:function(a,b,c){var e=a.getModel("axisPointer"),k=e.get("type");"cross"===k&&(a=c.target)&&null!=a.dataIndex&&(b=b.getSeriesByIndex(a.seriesIndex),this._showItemTooltipContent(b,a.dataIndex,a.dataType,c));this._showAxisPointer();var h=!0;f.each(this._seriesGroupByAxis,function(a){var b=a.coordSys[0],g=[c.offsetX,c.offsetY];if(b.containPoint(g)){h=!1;var l=b.dimensions,q=b.pointToData(g,!0),g=b.dataToPoint(q),m=b.getBaseAxis(),n=e.get("axis");"auto"===n&&(n=m.dim);var m=!1,p=this._lastHover;if("cross"===k){if((l=p.data)&&q)var r=d.round,l=r(l[0])===r(q[0])&&r(l[1])===r(q[1]);else l=!1;l&&(m=!0);p.data=q}else l=f.indexOf(l,n),p.data===q[l]&&(m=!0),p.data=q[l];"cartesian2d"!==b.type||m?"polar"!==b.type||m?"singleAxis"!==b.type||m||this._showSinglePointer(e,b,n,g):this._showPolarPointer(e,b,n,g):this._showCartesianPointer(e,b,n,g);"cross"!==k&&this._dispatchAndShowSeriesTooltipContent(b,a.series,g,q,m)}else this._hideAxisPointer(b.name)},this);this._tooltipModel.get("show")||this._hideAxisPointer();h&&this._hide()},_showCartesianPointer:function(a,b,c,d){function e(c,d,k){d="x"===c?{x1:d[0],y1:k[0],x2:d[0],y2:k[1]}:{x1:k[0],y1:d[1],x2:k[1],y2:d[1]};c=f._getPointerElement(b,a,c,d);h.subPixelOptimizeLine({shape:d,style:c.style});n?h.updateProps(c,{shape:d},a):c.attr({shape:d})}function k(c,d,e){var l=b.getAxis(c).getBandWidth(),m=e[1]-e[0];d="x"===c?{x:d[0]-l/2,y:e[0],width:l,height:m}:{x:e[0],y:d[1]-l/2,width:m,height:l};c=f._getPointerElement(b,a,c,d);n?h.updateProps(c,{shape:d},a):c.attr({shape:d})}var f=this,l=a.get("type"),m=b.getBaseAxis(),n="cross"!==l&&"category"===m.type&&20<m.getBandWidth();"cross"===l?(e("x",d,b.getAxis("y").getGlobalExtent()),e("y",d,b.getAxis("x").getGlobalExtent()),this._updateCrossText(b,d,a)):(m=b.getAxis("x"===c?"y":"x").getGlobalExtent(),"cartesian2d"===b.type&&("line"===l?e:k)(c,d,m))},_showSinglePointer:function(a,b,c,d){var e="cross"!==a.get("type")&&"category"===b.getBaseAxis().type,k=b.getRect(),k=[k.y,k.y+k.height];d="horizontal"===b.getAxis().orient?{x1:d[0],y1:k[0],x2:d[0],y2:k[1]}:{x1:k[0],y1:d[1],x2:k[1],y2:d[1]};b=this._getPointerElement(b,a,c,d);e?h.updateProps(b,{shape:d},a):b.attr({shape:d})},_showPolarPointer:function(a,b,c,d){function e(c,d,k){var l=b.pointToCoord(d);"angle"===c?(d=b.coordToPoint([k[0],l[1]]),k=b.coordToPoint([k[1],l[1]]),k={x1:d[0],y1:d[1],x2:k[0],y2:k[1]}):k={cx:b.cx,cy:b.cy,r:l[0]};c=f._getPointerElement(b,a,c,k);p?h.updateProps(c,{shape:k},a):c.attr({shape:k})}function k(c,d,e){var l=b.getAxis(c).getBandWidth();d=b.pointToCoord(d);var m=Math.PI/180;e="angle"===c?{cx:b.cx,cy:b.cy,r0:e[0],r:e[1],startAngle:(-d[1]-l/2)*m,endAngle:(-d[1]+l/2)*m,clockwise:!0}:{cx:b.cx,cy:b.cy,r0:d[0]-l/2,r:d[0]+l/2,startAngle:0,endAngle:2*Math.PI,clockwise:!0};c=f._getPointerElement(b,a,c,e);p?h.updateProps(c,{shape:e},a):c.attr({shape:e})}var f=this,l=a.get("type"),m=b.getAngleAxis(),n=b.getRadiusAxis(),p="cross"!==l&&"category"===b.getBaseAxis().type;"cross"===l?(e("angle",d,n.getExtent()),e("radius",d,m.getExtent()),this._updateCrossText(b,d,a)):(m=b.getAxis("radius"===c?"angle":"radius").getExtent(),("line"===l?e:k)(c,d,m))},_updateCrossText:function(a,b,c){c=c.getModel("crossStyle");var d=c.getModel("textStyle"),k=this._tooltipModel,l=this._crossText;l||(l=this._crossText=new h.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(l));var m=a.pointToData(b),n=a.dimensions,m=f.map(m,function(b,c){var d=a.getAxis(n[c]);return b="category"===d.type||"time"===d.type?d.scale.getLabel(b):e.addCommas(b.toFixed(d.getPixelPrecision()))});l.setStyle({fill:d.getTextColor()||c.get("color"),textFont:d.getFont(),text:m.join(", "),x:b[0]+5,y:b[1]-5});l.z=k.get("z");l.zlevel=k.get("zlevel")},_getPointerElement:function(a,b,c,d){var e=this._tooltipModel,k=e.get("z"),e=e.get("zlevel"),f=this._axisPointers,l=a.name;f[l]=f[l]||{};if(f[l][c])return f[l][c];var m=b.get("type"),n=b.getModel(m+"Style");b="shadow"===m;m=n[b?"getAreaStyle":"getLineStyle"]();a="polar"===a.type?b?"Sector":"radius"===c?"Circle":"Line":b?"Rect":"Line";b?m.stroke=null:m.fill=null;c=f[l][c]=new h[a]({style:m,z:k,zlevel:e,silent:!0,shape:d});this.group.add(c);return c},_dispatchAndShowSeriesTooltipContent:function(a,b,c,d,e){var k=this._tooltipModel,h=a.getBaseAxis(),l="x"===h.dim||"radius"===h.dim?0:1,n=f.map(b,function(a){return{seriesIndex:a.seriesIndex,dataIndex:a.getAxisTooltipDataIndex?a.getAxisTooltipDataIndex(a.coordDimToDataDim(h.dim),d,h):a.getData().indexOfNearest(a.coordDimToDataDim(h.dim)[0],d[l],!1,"category"===h.type?.5:null)}}),p=this._lastHover,r=this._api;p.payloadBatch&&!e&&r.dispatchAction({type:"downplay",batch:p.payloadBatch});e||(r.dispatchAction({type:"highlight",batch:n}),p.payloadBatch=n);r.dispatchAction({type:"showTip",dataIndex:n[0].dataIndex,seriesIndex:n[0].seriesIndex,from:this.uid});if(h&&k.get("showContent")&&k.get("show"))if(p=f.map(b,function(a,b){return a.getDataParams(n[b].dataIndex)}),e)m(k.get("position"),c[0],c[1],this._tooltipContent,p,null,r);else{e=n[0].dataIndex;var B="time"===h.type?h.scale.getLabel(d[l]):b[0].getData().getName(e);b=(B?B+"\x3cbr /\x3e":"")+f.map(b,function(a,b){return a.formatTooltip(n[b].dataIndex,!0)}).join("\x3cbr /\x3e");this._showTooltipContent(k,b,p,"axis_"+a.name+"_"+e,c[0],c[1],null,r)}},_showItemTooltipContent:function(a,b,c,d){var e=this._api,f=a.getData(c).getItemModel(b).get("tooltip",!0);"string"===typeof f&&(f={formatter:f});var h=a.getModel("tooltip",this._tooltipModel),f=new k(f,h,h.ecModel),h=a.getDataParams(b,c);c=a.formatTooltip(b,!1,c);this._showTooltipContent(f,c,h,"item_"+a.name+"_"+b,d.offsetX,d.offsetY,d.target,e)},_showTooltipContent:function(a,b,c,d,k,f,h,l){this._ticket="";if(a.get("showContent")&&a.get("show")){var n=this._tooltipContent,p=a.get("formatter"),r=a.get("position");if(p)if("string"===typeof p)b=e.formatTpl(p,c);else if("function"===typeof p){var B=this;B._ticket=d;b=p(c,d,function(a,b){a===B._ticket&&(n.setContent(b),m(r,k,f,n,c,h,l))})}n.show(a);n.setContent(b);m(r,k,f,n,c,h,l)}},_showAxisPointer:function(a){a?(a=this._axisPointers[a])&&f.each(a,function(a){a.show()}):(this.group.eachChild(function(a){a.show()}),this.group.show())},_resetLastHover:function(){var a=this._lastHover;a.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:a.payloadBatch});this._lastHover={}},_hideAxisPointer:function(a){a?(a=this._axisPointers[a])&&f.each(a,function(a){a.hide()}):this.group.children().length&&this.group.hide()},_hide:function(){clearTimeout(this._showTimeout);this._hideAxisPointer();this._resetLastHover();this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay"));this._api.dispatchAction({type:"hideTip",from:this.uid});this._lastX=this._lastY=null},dispose:function(a,c){if(!b.node){var d=c.getZr();this._tooltipContent.hide();d.off("click",this._tryShow);d.off("mousemove",this._mousemove);d.off("mouseout",this._hide);d.off("globalout",this._hide);c.off("showTip",this._manuallyShowTip);c.off("hideTip",this._manuallyHideTip)}}})},function(r,p,a){function m(a){var b="left "+a+"s cubic-bezier(0.23, 1, 0.32, 1),top "+a+"s cubic-bezier(0.23, 1, 0.32, 1)";return e.map(u,function(a){return a+"transition:"+b}).join(";")}function n(a){var b=[],c=a.get("fontSize"),d=a.getTextColor();d&&b.push("color:"+d);b.push("font:"+a.getFont());c&&b.push("line-height:"+Math.round(3*c/2)+"px");k(["decoration","align"],function(c){var d=a.get(c);d&&b.push("text-"+c+":"+d)});return b.join(";")}function l(a){var c=[],e=a.get("transitionDuration"),f=a.get("backgroundColor"),h=a.getModel("textStyle"),l=a.get("padding");e&&c.push(m(e));f&&(g.canvasSupported?c.push("background-Color:"+f):(c.push("background-Color:#"+d.toHex(f)),c.push("filter:alpha(opacity\x3d70)")));k(["width","color","radius"],function(b){var d="border-"+b,e=q(d),e=a.get(e);null!=e&&c.push(d+":"+e+("color"===b?"":"px"))});c.push(n(h));null!=l&&c.push("padding:"+b.normalizeCssArray(l).join("px ")+"px");return c.join(";")+";"}function h(a,b){var d=document.createElement("div"),e=b.getZr();this.el=d;this._x=b.getWidth()/2;this._y=b.getHeight()/2;a.appendChild(d);this._container=a;this._show=!1;var g=this;d.onmouseenter=function(){g.enterable&&(clearTimeout(g._hideTimeout),g._show=!0);g._inContent=!0};d.onmousemove=function(b){if(!g.enterable){var d=e.handler;c.normalizeEvent(a,b);d.dispatch("mousemove",b)}};d.onmouseleave=function(){g.enterable&&g._show&&g.hideLater(g._hideDelay);g._inContent=!1};f(d,a)}function f(a,b){function d(c){var e;a:{for(e=c.target;e&&e!==b;){if(e===a){e=!0;break a}e=e.parentNode}e=void 0}e&&c.preventDefault()}c.addEventListener(b,"touchstart",d);c.addEventListener(b,"touchmove",d);c.addEventListener(b,"touchend",d)}var e=a(4),d=a(39),c=a(87),b=a(6),k=e.each,q=b.toCamelCase,g=a(2),u=["","-webkit-","-moz-","-o-"];h.prototype={constructor:h,enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),a=a.style;"absolute"!==a.position&&"absolute"!==b.position&&(a.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var b=this.el;b.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+l(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||"");b.style.display=b.innerHTML?"block":"none";this._show=!0},setContent:function(a){var b=this.el;b.innerHTML=a;b.style.display=a?"block":"none"},moveTo:function(a,b){var c=this.el.style;c.left=a+"px";c.top=b+"px";this._x=a;this._y=b},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(a){!this._show||this._inContent&&this.enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),a)):this.hide())},isShow:function(){return this._show}};r.exports=h},function(r,p,a){a(284);a(290);a(292);a(1).extendComponentView({type:"polar"})},function(r,p,a){function m(a,c){var d=a.get("center"),e=a.get("radius"),h=c.getWidth(),l=c.getHeight(),m=f.parsePercent;this.cx=m(d[0],h);this.cy=m(d[1],l);this.getRadiusAxis().setExtent(0,m(e,Math.min(h,l)/2))}function n(a,d){var e=this,g=e.getAngleAxis(),f=e.getRadiusAxis();g.scale.setExtent(Infinity,-Infinity);f.scale.setExtent(Infinity,-Infinity);a.eachSeries(function(a){a.coordinateSystem===e&&(a=a.getData(),f.scale.unionExtent(a.getDataExtent("radius","category"!==f.type)),g.scale.unionExtent(a.getDataExtent("angle","category"!==g.type)))});c(g,g.model);c(f,f.model);if("category"===g.type&&!g.onBand){var h=g.getExtent(),l=360/g.scale.count();g.inverse?h[1]+=l:h[1]-=l;g.setExtent(h[0],h[1])}}function l(a,c){a.type=c.get("type");a.scale=d.createScaleByModel(c);a.onBand=c.get("boundaryGap")&&"category"===a.type;if("angleAxis"===c.mainType){var e=c.get("startAngle");a.inverse=c.get("inverse")^c.get("clockwise");a.setExtent(e,e+(a.inverse?-360:360))}c.axis=a;a.model=c}var h=a(285),f=a(7),e=a(4),d=a(114),c=d.niceScaleExtent;a(288);r={dimensions:h.prototype.dimensions,create:function(a,c){var d=[];a.eachComponent("polar",function(a,b){var e=new h(b);e.resize=m;e.update=n;var f=e.getRadiusAxis(),p=e.getAngleAxis(),r=a.findAxisModel("radiusAxis"),A=a.findAxisModel("angleAxis");l(f,r);l(p,A);e.resize(a,c);d.push(e);a.coordinateSystem=e});a.eachSeries(function(c){if("polar"===c.get("coordinateSystem")){var d=a.queryComponents({mainType:"polar",index:c.get("polarIndex"),id:c.get("polarId")})[0];if(!d)throw Error('Polar "'+e.retrieve(c.get("polarIndex"),c.get("polarId"),0)+'" not found');c.coordinateSystem=d.coordinateSystem}});return d}};a(26).register("polar",r)},function(r,p,a){var m=a(286),n=a(287);p=function(a){this.name=a||"";this.cy=this.cx=0;this._radiusAxis=new m;this._angleAxis=new n};p.prototype={constructor:p,type:"polar",dimensions:["radius","angle"],containPoint:function(a){a=this.pointToCoord(a);return this._radiusAxis.contain(a[0])&&this._angleAxis.contain(a[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxesByScale:function(a){var h=[],f=this._angleAxis,e=this._radiusAxis;f.scale.type===a&&h.push(f);e.scale.type===a&&h.push(e);return h},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var h=this._angleAxis;return a===h?this._radiusAxis:h},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(a){return a.mapArray(this.dimensions,function(a,f){return this.dataToPoint([a,f])},this)},dataToPoint:function(a,h){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],h),this._angleAxis.dataToAngle(a[1],h)])},pointToData:function(a,h){var f=this.pointToCoord(a);return[this._radiusAxis.radiusToData(f[0],h),this._angleAxis.angleToData(f[1],h)]},pointToCoord:function(a){var h=a[0]-this.cx,f=a[1]-this.cy,e=this.getAngleAxis(),d=e.getExtent();a=Math.min(d[0],d[1]);d=Math.max(d[0],d[1]);e.inverse?a=d-360:d=a+360;e=Math.sqrt(h*h+f*f);h=Math.atan2(-(f/e),h/e)/Math.PI*180;for(f=h<a?1:-1;h<a||h>d;)h+=360*f;return[e,h]},coordToPoint:function(a){var h=a[0];a=a[1]/180*Math.PI;return[Math.cos(a)*h+this.cx,-Math.sin(a)*h+this.cy]}};r.exports=p},function(r,p,a){function m(a,h){n.call(this,"radius",a,h);this.type="category"}p=a(4);var n=a(123);m.prototype={constructor:m,dataToRadius:n.prototype.dataToCoord,radiusToData:n.prototype.coordToData};p.inherits(m,n);r.exports=m},function(r,p,a){function m(a,h){h=h||[0,360];n.call(this,"angle",a,h);this.type="category"}p=a(4);var n=a(123);m.prototype={constructor:m,dataToAngle:n.prototype.dataToCoord,angleToData:n.prototype.coordToData};p.inherits(m,n);r.exports=m},function(r,p,a){a(289);a(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var n,l=this.ecModel;l.eachComponent(a,function(a){l.queryComponents({mainType:"polar",index:a.getShallow("polarIndex"),id:a.getShallow("polarId")})[0]===this&&(n=a)},this);return n},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(r,p,a){function m(a,h){return h.type||(h.data?"category":"value")}r=a(4);var n=a(19);p=a(127);n=n.extend({type:"polarAxis",axis:null});r.merge(n.prototype,a(129));p("angle",n,m,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}});p("radius",n,m,{splitNumber:5})},function(r,p,a){a(284);a(291)},function(r,p,a){function m(a,d,c,b){d=a.coordToPoint([d,b]);a=a.coordToPoint([c,b]);return{x1:d[0],y1:d[1],x2:a[0],y2:a[1]}}var n=a(4),l=a(43),h=a(12),f=["axisLine","axisLabel","axisTick","splitLine","splitArea"];a(1).extendComponentView({type:"angleAxis",render:function(a,d){this.group.removeAll();if(a.get("show")){var c=d.getComponent("polar",a.get("polarIndex")),b=a.axis,k=c.coordinateSystem,h=k.getRadiusAxis().getExtent(),g=b.getTicksCoords();"category"!==b.type&&g.pop();n.each(f,function(b){if(a.get(b+".show"))this["_"+b](a,k,g,h)},this)}},_axisLine:function(a,d,c,b){a=a.getModel("axisLine.lineStyle");d=new l.Circle({shape:{cx:d.cx,cy:d.cy,r:b[1]},style:a.getLineStyle(),z2:1,silent:!0});d.style.fill=null;this.group.add(d)},_axisTick:function(a,d,c,b){var k=a.getModel("axisTick"),f=(k.get("inside")?-1:1)*k.get("length");c=n.map(c,function(a){return new l.Line({shape:m(d,b[1],b[1]+f,a)})});this.group.add(l.mergePath(c,{style:n.defaults(k.getModel("lineStyle").getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")})}))},_axisLabel:function(a,d,c,b){for(var k=a.axis,f=a.get("data"),g=a.getModel("axisLabel"),m=g.getModel("textStyle"),n=a.getFormattedLabels(),g=g.get("margin"),k=k.getLabelsCoords(),p=0;p<c.length;p++){var r=b[1],t=d.coordToPoint([r+g,k[p]]),A=d.cx,z=d.cy,A=.3>Math.abs(t[0]-A)/r?"center":t[0]>A?"left":"right",r=.3>Math.abs(t[1]-z)/r?"middle":t[1]>z?"top":"bottom",z=m;f&&f[p]&&f[p].textStyle&&(z=new h(f[p].textStyle,m));this.group.add(new l.Text({style:{x:t[0],y:t[1],fill:z.getTextColor()||a.get("axisLine.lineStyle.color"),text:n[p],textAlign:A,textVerticalAlign:r,textFont:z.getFont()},silent:!0}))}},_splitLine:function(a,d,c,b){for(var k=a.getModel("splitLine").getModel("lineStyle"),f=k.get("color"),g=0,f=f instanceof Array?f:[f],h=[],p=0;p<c.length;p++){var r=g++%f.length;h[r]=h[r]||[];h[r].push(new l.Line({shape:m(d,b[0],b[1],c[p])}))}for(p=0;p<h.length;p++)this.group.add(l.mergePath(h[p],{style:n.defaults({stroke:f[p%f.length]},k.getLineStyle()),silent:!0,z:a.get("z")}))},_splitArea:function(a,d,c,b){var k=a.getModel("splitArea").getModel("areaStyle"),f=k.get("color"),g=0,f=f instanceof Array?f:[f],h=[],m=Math.PI/180,p=-c[0]*m,r=Math.min(b[0],b[1]);b=Math.max(b[0],b[1]);a=a.get("clockwise");for(var t=1;t<c.length;t++){var A=g++%f.length;h[A]=h[A]||[];h[A].push(new l.Sector({shape:{cx:d.cx,cy:d.cy,r0:r,r:b,startAngle:p,endAngle:-c[t]*m,clockwise:a},silent:!0}));p=-c[t]*m}for(t=0;t<h.length;t++)this.group.add(l.mergePath(h[t],{style:n.defaults({fill:f[t%f.length]},k.getAreaStyle()),silent:!0}))}})},function(r,p,a){a(284);a(293)},function(r,p,a){var m=a(4),n=a(43),l=a(132),h=["axisLine","axisLabel","axisTick","axisName"],f=["splitLine","splitArea"];a(1).extendComponentView({type:"radiusAxis",render:function(a,d){this.group.removeAll();if(a.get("show")){var c=d.getComponent("polar",a.get("polarIndex")),b=c.coordinateSystem.getAngleAxis(),k=a.axis,q=c.coordinateSystem,g=k.getTicksCoords(),n=b.getExtent()[0],p=k.getExtent(),c={position:[q.cx,q.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:a.getModel("axisLabel").get("rotate"),z2:1},c=new l(a,c);m.each(h,c.add,c);this.group.add(c.getGroup());m.each(f,function(b){if(a.get(b+".show"))this["_"+b](a,q,n,p,g)},this)}},_splitLine:function(a,d,c,b,k){a=a.getModel("splitLine").getModel("lineStyle");c=a.get("color");b=0;c=c instanceof Array?c:[c];for(var f=[],g=0;g<k.length;g++){var h=b++%c.length;f[h]=f[h]||[];f[h].push(new n.Circle({shape:{cx:d.cx,cy:d.cy,r:k[g]},silent:!0}))}for(g=0;g<f.length;g++)this.group.add(n.mergePath(f[g],{style:m.defaults({stroke:c[g%c.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(a,d,c,b,k){a=a.getModel("splitArea").getModel("areaStyle");c=a.get("color");b=0;c=c instanceof Array?c:[c];for(var f=[],g=k[0],h=1;h<k.length;h++){var l=b++%c.length;f[l]=f[l]||[];f[l].push(new n.Sector({shape:{cx:d.cx,cy:d.cy,r0:g,r:k[h],startAngle:0,endAngle:2*Math.PI},silent:!0}));g=k[h]}for(h=0;h<f.length;h++)this.group.add(n.mergePath(f[h],{style:m.defaults({fill:c[h%c.length]},a.getAreaStyle()),silent:!0}))}})},function(r,p,a){function m(a,f){f.update="updateView";n.registerAction(f,function(e,d){var c={};d.eachComponent({mainType:"geo",query:e},function(b){b[a](e.name);l.each(b.coordinateSystem.regions,function(a){c[a.name]=b.isSelected(a.name)||!1})});return{selected:c,name:e.name}})}a(295);a(163);a(296);a(176);var n=a(1),l=a(4);m("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});m("select",{type:"geoSelect",event:"geoselected"});m("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(r,p,a){var m=a(5),n=a(19),l=a(12),h=a(4);p=a(140);var f=a(163);a=n.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){n.prototype.init.apply(this,arguments);m.defaultEmphasis(a.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var a=this.option,d=this;a.regions=f.getFilledRegions(a.regions,a.map);this._optionModelMap=h.reduce(a.regions||[],function(a,b){b.name&&(a[b.name]=new l(b,d));return a},{});this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap[a]},getFormattedLabel:function(a,d){var c=this.get("label."+d+".formatter"),b={name:a};if("function"===typeof c)return b.status=d,c(b);if("string"===typeof c)return c.replace("{a}",b.seriesName)},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});h.mixin(a,p);r.exports=a},function(r,p,a){var m=a(173);r.exports=a(1).extendComponentView({type:"geo",init:function(a,l){var h=new m(l,!0);this._mapDraw=h;this.group.add(h.group)},render:function(a,l,h,f){if(!f||"geoToggleSelect"!==f.type||f.from!==this.uid){var e=this._mapDraw;a.get("show")?e.draw(a,l,h,this,f):this._mapDraw.group.removeAll();this.group.silent=a.get("silent")}}})},function(r,p,a){a(298);a(301);a(302);a(1).extendComponentView({type:"single"})},function(r,p,a){var m=a(299);a(26).register("single",{create:function(a,l){var h=[];a.eachComponent("singleAxis",function(f,e){var d=new m(f,a,l);d.name="single_"+e;d.resize(f,l);f.coordinateSystem=d;h.push(d)});a.eachSeries(function(f){if("singleAxis"===f.get("coordinateSystem")){var e=a.queryComponents({mainType:"singleAxis",index:f.get("singleAxisIndex"),id:f.get("singleAxisId")})[0];f.coordinateSystem=e.coordinateSystem}});return h},dimensions:m.prototype.dimensions})},function(r,p,a){function m(a,e,d){this.dimension="x";this.dimensions=["x"];this._axis=null;this._init(a,e,d);this._model=a}var n=a(300),l=a(114),h=a(21);m.prototype={type:"singleAxis",constructor:m,_init:function(a,e,d){e=new n(this.dimension,l.createScaleByModel(a),[0,0],a.get("type"),a.get("position"));e.onBand="category"===e.type&&a.get("boundaryGap");e.inverse=a.get("inverse");e.orient=a.get("orient");a.axis=e;e.model=a;this._axis=e},update:function(a,e){this._updateAxisFromSeries(a)},_updateAxisFromSeries:function(a){a.eachSeries(function(a){var d=a.getData();this._axis.scale.unionExtent(d.getDataExtent(a.coordDimToDataDim(this.dimension)));l.niceScaleExtent(this._axis,this._axis.model)},this)},resize:function(a,e){this._rect=h.getLayoutRect({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:e.getWidth(),height:e.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var a=this._rect,e=this._axis,d=e.isHorizontal(),c=d?[0,a.width]:[0,a.height],b=e.reverse?1:0;e.setExtent(c[b],c[1-b]);this._updateAxisTransform(e,d?a.x:a.y)},_updateAxisTransform:function(a,e){var d=a.getExtent(),c=d[0]+d[1],d=a.isHorizontal();a.toGlobalCoord=d?function(a){return a+e}:function(a){return c-a+e};a.toLocalCoord=d?function(a){return a-e}:function(a){return c-a+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},containPoint:function(a){var e=this.getRect(),d=this.getAxis();return"horizontal"===d.orient?d.contain(d.toLocalCoord(a[0]))&&a[1]>=e.y&&a[1]<=e.y+e.height:d.contain(d.toLocalCoord(a[1]))&&a[0]>=e.y&&a[0]<=e.y+e.height},pointToData:function(a){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(a["horizontal"===e.orient?0:1]))]},dataToPoint:function(a){var e=this.getAxis(),d=this.getRect(),c=[],b="horizontal"===e.orient?0:1;c[b]=e.toGlobalCoord(e.dataToCoord(+a));c[1-b]=0===b?d.y+d.height/2:d.x+d.width/2;return c}};r.exports=m},function(r,p,a){var m=a(4),n=a(123),l=a(114);p=function(a,f,e,d,c){n.call(this,a,f,e);this.type=d||"value";this.position=c||"bottom";this._labelInterval=this.orient=null};p.prototype={constructor:p,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getLabelInterval:function(){var a=this._labelInterval;if(!a){var a=this.model,f=a.getModel("axisLabel"),e=f.get("interval");if("category"!==this.type||"auto"!==e)return a=this._labelInterval="auto"===e?0:e;a=this._labelInterval=l.getAxisLabelInterval(m.map(this.scale.getTicks(),this.dataToCoord,this),a.getFormattedLabels(),f.getModel("textStyle").getFont(),this.isHorizontal())}return a},toGlobalCoord:null,toLocalCoord:null};m.inherits(p,n);r.exports=p},function(r,p,a){var m=a(132),n=a(4),l=a(43),h=m.getInterval,f=m.ifIgnoreOnTick,e=["axisLine","axisLabel","axisTick","axisName"];p=a(1).extendComponentView({type:"singleAxis",render:function(a,c){var b=this.group;b.removeAll();var k=a.axis,f={},g=k.position,h=k.orient,l=a.coordinateSystem.getRect(),l=[l.x,l.x+l.width,l.y,l.y+l.height],p={top:l[2],bottom:l[3]},r={left:l[0],right:l[1]};f.position=["vertical"===h?r[g]:l[0],"horizontal"===h?p[g]:l[3]];f.rotation=Math.PI/2*{horizontal:0,vertical:1}[h];f.labelDirection=f.tickDirection=f.nameDirection={top:-1,bottom:1,right:1,left:-1}[g];a.getModel("axisTick").get("inside")&&(f.tickDirection=-f.tickDirection);a.getModel("axisLabel").get("inside")&&(f.labelDirection=-f.labelDirection);h=a.getModel("axisLabel").get("rotate");f.labelRotation="top"===g?-h:h;f.labelInterval=k.getLabelInterval();f.z2=1;k=new m(a,f);n.each(e,k.add,k);b.add(k.getGroup());a.get("splitLine.show")&&this._splitLine(a,f.labelInterval)},_splitLine:function(a,c){for(var b=a.axis,e=a.getModel("splitLine"),m=e.getModel("lineStyle"),g=m.get("width"),n=m.get("color"),e=h(e,c),n=n instanceof Array?n:[n],p=a.coordinateSystem.getRect(),r=b.isHorizontal(),v=[],t=0,A=b.getTicksCoords(),z=[],w=[],C=0;C<A.length;++C)if(!f(b,C,e)){var B=b.toGlobalCoord(A[C]);r?(z[0]=B,z[1]=p.y,w[0]=B,w[1]=p.y+p.height):(z[0]=p.x,z[1]=B,w[0]=p.x+p.width,w[1]=B);B=t++%n.length;v[B]=v[B]||[];v[B].push(new l.Line(l.subPixelOptimizeLine({shape:{x1:z[0],y1:z[1],x2:w[0],y2:w[1]},style:{lineWidth:g},silent:!0})))}for(C=0;C<v.length;++C)this.group.add(l.mergePath(v[C],{style:{stroke:n[C%n.length],lineDash:m.getLineDash(),lineWidth:g},silent:!0}))}});r.exports=p},function(r,p,a){var m=a(19);p=a(127);var n=a(4),m=m.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null});n.merge(m.prototype,a(129));p("single",m,function(a,h){return h.type||(h.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});r.exports=m},function(r,p,a){a(1).registerPreprocessor(a(304));a(305);a(310);a(311);a(312);a(313)},function(r,p,a){function m(a){var f={};n.each(a,function(a){f[a]=1});a.length=0;n.each(f,function(e,d){a.push(d)})}var n=a(4),l=["rect","polygon","keep","clear"];r.exports=function(a,f){var e=a&&a.brush;n.isArray(e)||(e=e?[e]:[]);if(e.length){var d=[];n.each(e,function(a){a=a.hasOwnProperty("toolbox")?a.toolbox:[];a instanceof Array&&(d=d.concat(a))});e=a&&a.toolbox;n.isArray(e)&&(e=e[0]);e||(e={feature:{}},a.toolbox=[e]);e=e.feature||(e.feature={});e=e.brush||(e.brush={});e=e.type||(e.type=[]);e.push.apply(e,d);m(e);f&&!e.length&&e.push.apply(e,l)}}},function(r,p,a){function m(a,b,c,d,e){e&&(e=a.getZr(),e.__ecInBrushSelectEvent||(e.__ecBrushSelect||(e.__ecBrushSelect=n),g.createOrUpdate(e,"__ecBrushSelect",c,b)(a,d)))}function n(a,b){if(!a.isDisposed()){var c=a.getZr();c.__ecInBrushSelectEvent=!0;a.dispatchAction({type:"brushSelect",batch:b});c.__ecInBrushSelectEvent=!1}}function l(a,b,c,d){c=c.getItemLayout(d);d=0;for(var e=b.length;d<e;d++){var g=b[d];if(a[g.brushType](c,g.selectors,g))return!0}}function h(a){var c=a.brushSelector;if(b.isString(c)){var d=[];b.each(q,function(a,b){d[b]=a[c]});return d}if(b.isFunction(c)){var e={};b.each(q,function(a,b){e[b]=c});return e}return c}function f(a,c){var d=a.option.seriesIndex;return null!=d&&"all"!==d&&(b.isArray(d)?0>b.indexOf(d,c):c!==d)}function e(a){var c=a.selectors={};b.each(q[a.brushType],function(b,d){c[d]=function(d){return b(d,c,a)}});return a}function d(a){return new k(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}r=a(1);var c=a(306),b=a(4),k=a(9),q=a(307),g=a(308),u=a(309),y=["inBrush","outOfBrush"];a=r.PRIORITY.VISUAL.BRUSH;r.registerLayout(a,function(a,b,c){a.eachComponent({mainType:"brush"},function(b){c&&"takeGlobalCursor"===c.type&&b.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1});b.coordInfoList=u.makeCoordInfoList(b.option,a);u.parseInputRanges(b,a)})});r.registerVisual(a,function(a,d,g){var k=[],q,n;a.eachComponent({mainType:"brush"},function(d,g){function m(a){return"all"===M||L[a]}function p(a,b){var c=a.coordinateSystem;N|=c.hasAxisbrushed();m(b)&&c.eachActiveState(a.getData(),function(a,b){"active"===a&&(I[b]=1)})}function r(a,c,e){var g=h(a);if(g&&!f(d,c)&&(b.each(P,function(b){g[b.brushType]&&u.controlSeries(b,d,a)&&e.push(b);N|=!!e.length}),m(c)&&e.length)){var k=a.getData();k.each(function(a){l(g,e,k,a)&&(I[a]=1)})}}var t={brushId:d.id,brushIndex:g,brushName:d.name,areas:b.clone(d.areas),selected:[]};k.push(t);var A=d.option,M=A.brushLink,L=[],I=[],G=[],N=0;g||(q=A.throttleType,n=A.throttleDelay);var P=b.map(d.areas,function(a){return e(b.defaults({boundingRect:x[a.brushType](a)},a))}),R=c.createVisualMappings(d.option,y,function(a){a.mappingMethod="fixed"});b.isArray(M)&&b.each(M,function(a){L[a]=1});a.eachSeries(function(a,b){var c=G[b]=[];"parallel"===a.subType?p(a,b,c):r(a,b,c)});a.eachSeries(function(a,b){var d={seriesId:a.id,seriesIndex:b,seriesName:a.name,dataIndex:[]};t.selected.push(d);var e=h(a),g=G[b],k=a.getData(),f=m(b)?function(a){return I[a]?(d.dataIndex.push(k.getRawIndex(a)),"inBrush"):"outOfBrush"}:function(a){return l(e,g,k,a)?(d.dataIndex.push(k.getRawIndex(a)),"inBrush"):"outOfBrush"};(m(b)?N:g.length)&&c.applyVisual(y,R,k,f)})});m(d,q,n,k,g)});var x={lineX:b.noop,lineY:b.noop,rect:function(a){return d(a.range)},polygon:function(a){var b;a=a.range;for(var c=0,e=a.length;c<e;c++){b=b||[[Infinity,-Infinity],[Infinity,-Infinity]];var g=a[c];g[0]<b[0][0]&&(b[0][0]=g[0]);g[0]>b[0][1]&&(b[0][1]=g[0]);g[1]<b[1][0]&&(b[1][0]=g[1]);g[1]>b[1][1]&&(b[1][1]=g[1])}return b&&d(b)}}},function(r,p,a){function m(a){if(a)for(var e in a)if(a.hasOwnProperty(e))return!0}var n=a(4),l=a(192),h=n.each;r.exports={createVisualMappings:function(a,e,d){function c(){var a=function(){};a.prototype.__hidden=a.prototype;return new a}var b={};h(e,function(e){var m=b[e]=c();h(a[e],function(a,b){if(l.isValidType(b)){var c={type:b,visual:a};d&&d(c,e);m[b]=new l(c);"opacity"===b&&(c=n.clone(c),c.type="colorAlpha",m.__hidden.__alphaForOpacity=new l(c))}})});return b},replaceVisualOption:function(a,e,d){var c;n.each(d,function(a){e.hasOwnProperty(a)&&m(e[a])&&(c=!0)});c&&n.each(d,function(b){e.hasOwnProperty(b)&&m(e[b])?a[b]=n.clone(e[b]):delete a[b]})},applyVisual:function(a,e,d,c,b,k){function h(a){return d.getItemVisual(r,a)}function g(a,b){d.setItemVisual(r,a,b)}function m(a,d){r=null==k?a:d;for(var f=c.call(b,a),l=e[f],f=p[f],n=0,u=f.length;n<u;n++){var B=f[n];l[B]&&l[B].applyVisual(a,h,g)}}var p={};n.each(a,function(a){var b=l.prepareVisualTypes(e[a]);p[a]=b});var r;null==k?d.each(m,!0):d.each([k],m,!0)}}},function(r,p,a){function m(a){var c=["x","y"],b=["width","height"];return{point:function(b,c,e){return n(b[a],e.range)},rect:function(e,f,g){f=g.range;return n(e[c[a]],f)||n(e[c[a]]+e[b[a]],f)}}}function n(a,c){return c[0]<=a&&a<=c[1]}function l(a,c,b,e,f){for(var g=0,h=f[f.length-1];g<f.length;g++){var l=f[g],m;m=a;var n=c,p=b,r=e,z=l[0],w=l[1],C=h[0],B=h[1],h=(p-m)*(w-B)-(z-C)*(r-n);1E-6>=h&&-1E-6<=h?m=!1:(C=((z-m)*(w-B)-(z-C)*(w-n))/h,0>C||1<C?m=!1:(m=((p-m)*(w-n)-(z-m)*(r-n))/h,m=0>m||1<m?!1:!0));if(m)return!0;h=l}}function h(a){var c=a.x,b=a.y,k=a.width;a=a.height;0>k&&(c+=k,k=-k);0>a&&(b+=a,a=-a);return new e(c,b,k,a)}var f=a(167).contain,e=a(9);p={lineX:m(0),lineY:m(1),rect:{point:function(a,c,b){return b.boundingRect.contain(a[0],a[1])},rect:function(a,c,b){return b.boundingRect.intersect(h(a))}},polygon:{point:function(a,c,b){return b.boundingRect.contain(a[0],a[1])&&f(b.range,a[0],a[1])},rect:function(a,c,b){c=b.range;if(1>=c.length)return!1;b=a.x;var e=a.y,m=a.width,g=a.height,n=c[0];if(f(c,b,e)||f(c,b+m,e)||f(c,b,e+g)||f(c,b+m,e+g)||h(a).contain(n[0],n[1])||l(b,e,b+m,e,c)||l(b,e,b,e+g,c)||l(b+m,e,b+m,e+g,c)||l(b,e+g,b+m,e+g,c))return!0}}};r.exports=p},function(r,p){var a={throttle:function(a,n,l){function h(){d=(new Date).getTime();c=null;a.apply(k,q||[])}var f,e=0,d=0,c=null,b,k,q;n=n||0;var g=function(){f=(new Date).getTime();k=this;q=arguments;b=f-(l?e:d)-n;clearTimeout(c);l?c=setTimeout(h,n):0<=b?h():c=setTimeout(h,-b);e=f};g.clear=function(){c&&(clearTimeout(c),c=null)};return g},createOrUpdate:function(m,n,l,h){var f=m[n];if(f){var e=f["\x00__throttleOriginMethod"]||f,d=f["\x00__throttleType"];if(f["\x00__throttleRate"]!==l||d!==h){if(null==l||!h)return m[n]=e;f=m[n]=a.throttle(e,l,"debounce"===h);f["\x00__throttleOriginMethod"]=e;f["\x00__throttleType"]=h;f["\x00__throttleRate"]=l}return f}},clear:function(a,n){var l=a[n];l&&l["\x00__throttleOriginMethod"]&&(a[n]=l["\x00__throttleOriginMethod"])}};r.exports=a},function(r,p,a){function m(a){a[0]>a[1]&&a.reverse();return a}function n(a,b){for(var c=!0,e=0;e<d.length;e++){var f=d[e]+"Index";if(0<=a[f])for(var c=!1,h=0;h<b.length;h++)if(b[h][f]===a[f])return b[h]}return c}function l(a,b,c,d){var e=c.coordSys.getAxis(a);h.assert(e,"line brush is only available in cartesian (grid).");return m(h.map([0,1],function(a){return b?e.coordToData(e.toLocalCoord(d[a])):e.toGlobalCoord(e.dataToCoord(d[a]))}))}var h=a(4),f=a(43),e=h.each;p={};var d=["geo","xAxis","yAxis"],c=["dataToPoint","pointToData"];p.parseOutputRanges=function(a,c,d,f){e(a,function(a,d){var e=a.panelId;e&&(e=e.split("--"),a[e[0]+"Index"]=+e[1],e=n(a,c),a.coordRange=b[a.brushType](1,e,a.range),f&&(f[d]=e))})};p.parseInputRanges=function(a,c){e(a.areas,function(c){var d=n(c,a.coordInfoList);h.assert(!d||!0===d||c.coordRange,"coordRange must be specified when coord index specified.");h.assert(!d||!0!==d||c.range,"range must be specified.");c.range=c.range||[];d&&!0!==d&&(c.range=b[c.brushType](0,d,c.coordRange),c.panelId=d.panelId)})};p.makePanelOpts=function(a){var b=[];e(a,function(a){var c=a.coordSys,d;0<=a.geoIndex?(d=c.getBoundingRect().clone(),d.applyTransform(f.getTransform(c))):d=c.grid.getRect().clone();b.push({panelId:a.panelId,rect:d})});return b};p.makeCoordInfoList=function(a,b){var c=[];e(d,function(d){var e=a[d+"Index"];null!=e&&"none"!==e&&("all"===e||h.isArray(e)||(e=[e]),b.eachComponent({mainType:d},function(a,b){if(!("all"!==e&&0>h.indexOf(e,b))){var f,k;"xAxis"===d||"yAxis"===d?f=a.axis.grid:k=a.coordinateSystem;for(var l,m=0,q=c.length;m<q;m++){var n=c[m];h.assert(n[d+"Index"]!=b,"Coord should not be defined duplicately: "+d+b);if("yAxis"===d&&!n.yAxis&&n.xAxis){var p=f.getCartesian(n.xAxisIndex,b);if(p){k=p;l=n;break}}}!l&&c.push(l={});l[d]=a;l[d+"Index"]=b;l.panelId=d+"--"+b;l.coordSys=k||f.getCartesian(l.xAxisIndex,l.yAxisIndex);l.coordSys?c[d+"Has"]=!0:c.pop()}}))});return c};p.controlSeries=function(a,b,c){a=n(a,b.coordInfoList);return!0===a||a&&a.coordSys===c.coordinateSystem};var b={lineX:h.curry(l,"x"),lineY:h.curry(l,"y"),rect:function(a,b,d){var e=b.coordSys;b=e[c[a]]([d[0][0],d[1][0]]);a=e[c[a]]([d[0][1],d[1][1]]);return[m([b[0],a[0]]),m([b[1],a[1]])]},polygon:function(a,b,d){b=b.coordSys;return h.map(d,b[c[a]],b)}};r.exports=p},function(r,p,a){p=a(1);var m=a(4),n=a(306),l=a(12),h=["#ddd"];a=p.extendComponentModel({type:"brush",dependencies:"geo grid xAxis yAxis parallel series".split(" "),defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)",width:null},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(a,e){var d=this.option;!e&&n.replaceVisualOption(d,a,["inBrush","outOfBrush"]);d.inBrush=d.inBrush||{};d.outOfBrush=d.outOfBrush||{color:h}},setAreas:function(a){m.assert(m.isArray(a));m.each(a,function(a){m.assert(a.brushType,"Illegal areas")});a&&(this.areas=m.map(a,function(a){return this._mergeBrushOption(a)},this))},setBrushOption:function(a){this.brushOption=this._mergeBrushOption(a);this.brushType=this.brushOption.brushType},_mergeBrushOption:function(a){var e=this.option;return m.merge({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:(new l(e.brushStyle)).getItemStyle(),removeOnClick:e.removeOnClick},a,!0)}});r.exports=a},function(r,p,a){function m(a,e,d,c){c&&c.$from===a.id||this._brushController.setPanels(h.makePanelOpts(a.coordInfoList)).enableBrush(a.brushOption).updateCovers(a.areas.slice())}var n=a(4),l=a(233);p=a(1);var h=a(309);r.exports=p.extendComponentView({type:"brush",init:function(a,e){this.ecModel=a;this.api=e;(this._brushController=new l(e.getZr())).on("brush",n.bind(this._onBrush,this)).mount()},render:function(a){this.model=a;return m.apply(this,arguments)},updateView:m,updateLayout:m,updateVisual:m,dispose:function(){this._brushController.dispose()},_onBrush:function(a,e){var d=this.model.id;h.parseOutputRanges(a,this.model.coordInfoList,this.ecModel);e.isEnd&&!e.removeOnClick||this.api.dispatchAction({type:"brush",brushId:d,areas:n.clone(a),$from:d})}})},function(r,p,a){r=a(1);r.registerAction({type:"brush",event:"brush",update:"updateView"},function(a,n){n.eachComponent({mainType:"brush",query:a},function(l){l.setAreas(a.areas)})});r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(r,p,a){function m(a,h,f){this.model=a;this.ecModel=h;this.api=f}p=a(314);var n=a(4);m.defaultOption={show:!0,type:"rect polygon lineX lineY keep clear".split(" "),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}};a=m.prototype;a.render=a.updateView=a.updateLayout=function(a,h,f){var e,d,c;h.eachComponent({mainType:"brush"},function(a){e=a.brushType;d=a.brushOption.brushMode||"single";c|=a.areas.length});this._brushType=e;this._brushMode=d;n.each(a.get("type",!0),function(b){a.setIconStatus(b,("keep"===b?"multiple"===d:"clear"===b?c:b===e)?"emphasis":"normal")})};a.getIcons=function(){var a=this.model,h=a.get("icon",!0),f={};n.each(a.get("type",!0),function(a){h[a]&&(f[a]=h[a])});return f};a.onclick=function(a,h,f){h=this.api;a=this._brushType;var e=this._brushMode;"clear"===f?h.dispatchAction({type:"brush",areas:[]}):h.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===f?a:a===f?!1:f,brushMode:"keep"===f?"multiple"===e?"single":"multiple":e}})};p.register("brush",m);r.exports=m},function(r,p){var a={};r.exports={register:function(m,n){a[m]=n},get:function(m){return a[m]}}},function(r,p,a){r=a(1);var m=a(43),n=a(21);r.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});r.extendComponentView({type:"title",render:function(a,h,f){this.group.removeAll();if(a.get("show")){h=this.group;var e=a.getModel("textStyle"),d=a.getModel("subtextStyle"),c=a.get("textAlign"),b=a.get("textBaseline"),e=new m.Text({style:{text:a.get("text"),textFont:e.getFont(),fill:e.getTextColor()},z2:10}),k=e.getBoundingRect(),q=a.get("subtext"),d=new m.Text({style:{text:q,textFont:d.getFont(),fill:d.getTextColor(),y:k.height+a.get("itemGap"),textBaseline:"top"},z2:10}),g=a.get("link"),p=a.get("sublink");e.silent=!g;d.silent=!p;if(g)e.on("click",function(){window.open(g,"_"+a.get("target"))});if(p)d.on("click",function(){window.open(p,"_"+a.get("subtarget"))});h.add(e);q&&h.add(d);q=h.getBoundingRect();k=a.getBoxLayoutParams();k.width=q.width;k.height=q.height;f=n.getLayoutRect(k,{width:f.getWidth(),height:f.getHeight()},a.get("padding"));c||(c=a.get("left")||a.get("right"),"middle"===c&&(c="center"),"right"===c?f.x+=f.width:"center"===c&&(f.x+=f.width/2));b||(b=a.get("top")||a.get("bottom"),"center"===b&&(b="middle"),"bottom"===b?f.y+=f.height:"middle"===b&&(f.y+=f.height/2),b=b||"top");h.attr("position",[f.x,f.y]);c={textAlign:c,textVerticalAlign:b};e.setStyle(c);d.setStyle(c);q=h.getBoundingRect();f=f.margin;c=a.getItemStyle(["color","opacity"]);c.fill=a.get("backgroundColor");f=new m.Rect({shape:{x:q.x-f[3],y:q.y-f[0],width:q.width+f[1]+f[3],height:q.height+f[0]+f[2]},style:c,silent:!0});m.subPixelOptimizeRect(f);h.add(f)}}})},function(r,p,a){a(317);a(318);a(321);a(322);a(323);a(325);a(326);a(328);a(329)},function(r,p,a){a(19).registerSubTypeDefaulter("dataZoom",function(a){return"slider"})},function(r,p,a){function m(a){var c={};d(["start","end","startValue","endValue","throttle"],function(d){a.hasOwnProperty(d)&&(c[d]=a[d])});return c}var n=a(4),l=a(2);p=a(1);var h=a(5),f=a(319),e=a(320),d=n.each,c=f.eachAxisDim;a=p.extendComponentModel({type:"dataZoom",dependencies:"xAxis yAxis zAxis radiusAxis angleAxis series".split(" "),defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null},init:function(a,c,d){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;c=m(a);this.mergeDefaultAndTheme(a,d);this.doInit(c)},mergeOption:function(a){var c=m(a);n.merge(this.option,a,!0);this.doInit(c)},doInit:function(a){var c=this.option;l.canvasSupported||(c.realtime=!1);this._setDefaultThrottle(a);null!=a.startValue&&null==a.start&&(c.start=null);null!=a.endValue&&null==a.end&&(c.end=null);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(c,d,g,f){g=this.dependentModels[c.axis][d];f=g.__dzAxisProxy||(g.__dzAxisProxy=new e(c.name,d,this,f));a[c.name+"_"+d]=f},this)},_resetTarget:function(){var a=this.option,d=this._judgeAutoMode();c(function(c){c=c.axisIndex;a[c]=h.normalizeToArray(a[c])},this);"axisIndex"===d?this._autoSetAxisIndex():"orient"===d&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,d=!1;c(function(c){null!=a[c.axisIndex]&&(d=!0)},this);var e=a.orient;if(null==e&&d)return"orient";if(!d)return null==e&&(a.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var a=!0,d=this.get("orient",!0),e=this.option;a&&(d="vertical"===d?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"},this.dependentModels[d.axis].length&&(e[d.axisIndex]=[0],a=!1));a&&c(function(c){if(a){var d=[],f=this.dependentModels[c.axis];if(f.length&&!d.length)for(var k=0,h=f.length;k<h;k++)"category"===f[k].get("type")&&d.push(k);e[c.axisIndex]=d;d.length&&(a=!1)}},this);a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&c(function(b){var c=e[b.axisIndex],d=a.get(b.axisIndex),f=a.get(b.axisId),k=a.ecModel.queryComponents({mainType:b.axis,index:d,id:f})[0];if(!k)throw Error(b.axis+' "'+n.retrieve(d,f,0)+'" not found');d=k.componentIndex;0>n.indexOf(c,d)&&c.push(d)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(c){!a&&(a=c.name)},this);this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,d){var e=!0;c(function(c){var f=a.get(c.axisIndex);(c=this.dependentModels[c.axis][f])&&c.get("type")===d||(e=!1)},this);return e},_setDefaultThrottle:function(a){a.hasOwnProperty("throttle")&&(this._autoThrottle=!1);this._autoThrottle&&(a=this.ecModel.option,this.option.throttle=a.animation&&0<a.animationDurationUpdate?100:20)},getFirstTargetAxisModel:function(){var a;c(function(c){if(null==a){var d=this.get(c.axisIndex);d.length&&(a=this.dependentModels[c.axis][d[0]])}},this);return a},eachTargetAxis:function(a,e){var f=this.ecModel;c(function(c){d(this.get(c.axisIndex),function(d){a.call(e,c,d,this,f)},this)},this)},getAxisProxy:function(a,c){return this._axisProxies[a+"_"+c]},setRawRange:function(a){d(["start","end","startValue","endValue"],function(c){this.option[c]=a[c]},this)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},getValueRange:function(a,c){if(null==a&&null==c){var d=this.findRepresentativeAxisProxy();if(d)return d.getDataValueWindow()}else return this.getAxisProxy(a,c).getDataValueWindow()},findRepresentativeAxisProxy:function(){var a=this._axisProxies,c;for(c in a)if(a.hasOwnProperty(c)&&a[c].hostedBy(this))return a[c];for(c in a)if(a.hasOwnProperty(c)&&!a[c].hostedBy(this))return a[c]}});r.exports=a},function(r,p,a){var m=a(6),n=a(4);p={createNameEach:function(a,h){a=a.slice();var f=n.map(a,m.capitalFirst);h=(h||[]).slice();var e=n.map(h,m.capitalFirst);return function(d,c){n.each(a,function(a,k){for(var l={name:a,capital:f[k]},g=0;g<h.length;g++)l[h[g]]=a+e[g];d.call(c,l)})}}};p.eachAxisDim=p.createNameEach(["x","y","z","radius","angle"],["axisIndex","axis","index","id"]);p.createLinkedNodesFinder=function(a,h,f){function e(a,b){var d=!1;h(function(e){n.each(f(a,e)||[],function(a){b.records[e.name][a]&&(d=!0)})});return d}function d(a,b){b.nodes.push(a);h(function(d){n.each(f(a,d)||[],function(a){b.records[d.name][a]=!0})})}return function(c){function b(a){0<=n.indexOf(f.nodes,a)||!e(a,f)||(d(a,f),m=!0)}var f={nodes:[],records:{}};h(function(a){f.records[a.name]={}});if(!c)return f;d(c,f);var m;do m=!1,a(b);while(m);return f}};r.exports=p},function(r,p,a){function m(a,b){var d=[Infinity,-Infinity];e(b,function(b){var g=b.getData();g&&e(b.coordDimToDataDim(a),function(a){a=g.getDataExtent(a);a[0]<d[0]&&(d[0]=a[0]);a[1]>d[1]&&(d[1]=a[1])})},this);return d}function n(a,b,k){k=k.getAxisModel();var h=k.axis.scale,g=[0,100],m=[a.start,a.end],n=[];b=b.slice();l(b,k,h);e(["startValue","endValue"],function(b){n.push(null!=a[b]?h.parse(a[b]):null)});e([0,1],function(a){var c=n[a],d=m[a];null!=d||null==c?(null==d&&(d=g[a]),c=h.parse(f.linearMap(d,g,b,!0))):d=f.linearMap(c,b,g,!0);n[a]=c;m[a]=d});return{valueWindow:d(n),percentWindow:d(m)}}function l(a,b,d){e(["min","max"],function(e,g){var f=b.get(e,!0);null!=f&&(f+"").toLowerCase()!=="data"+e&&(a[g]=d.parse(f))});b.get("scale",!0)||(0<a[0]&&(a[0]=0),0>a[1]&&(a[1]=0));return a}function h(a,b){var d=a.getAxisModel(),e=a._percentWindow,g=a._valueWindow;if(e){var h=b||0===e[0]&&100===e[1],e=!b&&f.getPixelPrecision(g,[0,500]),h=b||h||!b&&!(20>e&&0<=e);d.setRange&&d.setRange(h?null:+g[0].toFixed(e),h?null:+g[1].toFixed(e))}}p=a(4);var f=a(7),e=p.each,d=f.asc;a=function(a,b,d,e){this._dimName=a;this._axisIndex=b;this.ecModel=e;this._dataZoomModel=d};a.prototype={constructor:a,hostedBy:function(a){return this._dataZoomModel===a},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;b.eachSeries(function(d){var e=this._dimName,e=b.queryComponents({mainType:e+"Axis",index:d.get(e+"AxisIndex"),id:d.get(e+"AxisId")})[0];this._axisIndex===(e&&e.componentIndex)&&a.push(d)},this);return a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a=this._dimName,b=this.ecModel,d=this.getAxisModel(),e;"x"===a||"y"===a?(e="gridIndex",a="x"===a?"y":"x"):(e="polarIndex",a="angle"===a?"radius":"angle");var g;b.eachComponent(a+"Axis",function(a){(a.get(e)||0)===(d.get(e)||0)&&(g=a)});return g},reset:function(a){if(a===this._dataZoomModel){var b=this._dataExtent=m(this._dimName,this.getTargetSeriesModels());a=n(a.option,b,this);this._valueWindow=a.valueWindow;this._percentWindow=a.percentWindow;h(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,h(this,!0))},filterData:function(a){function b(a){return a>=h[0]&&a<=h[1]}if(a===this._dataZoomModel){var d=this._dimName,f=this.getTargetSeriesModels(),g=a.get("filterMode"),h=this._valueWindow,l=this.getOtherAxisModel();a.get("$fromToolbox")&&l&&"category"===l.get("type")&&(g="empty");e(f,function(a){var c=a.getData();c&&e(a.coordDimToDataDim(d),function(d){"empty"===g?a.setData(c.map(d,function(a){return b(a)?a:NaN})):c.filterSelf(d,b)})})}}};r.exports=a},function(r,p,a){p=a(29);r.exports=p.extend({type:"dataZoom",render:function(a,n,l,h){this.dataZoomModel=a;this.ecModel=n;this.api=l},getTargetInfo:function(){var a=this.ecModel,n=[],l=[],h=[];this.dataZoomModel.eachTargetAxis(function(f,e){var d=a.getComponent(f.axis,e);if(d){h.push(d);var c;c="xAxis"===f.axis||"yAxis"===f.axis?"grid":"polar";var b=a.queryComponents({mainType:c,index:d.get(c+"Index"),id:d.get(c+"Id")})[0];if(null!=b){c="grid"===c?n:l;for(var k,q=0;q<c.length;q++)if(c[q].model===b){k=c[q];break}k||c.push(k={model:b,axisModels:[],coordIndex:b.componentIndex});k.axisModels.push(d)}}},this);return{cartesians:n,polars:l,axisModels:h}}})},function(r,p,a){p=a(318).extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});r.exports=p},function(r,p,a){var m=a(4),n=a(43),l=a(308);p=a(321);var h=n.Rect,f=a(7),e=f.linearMap,d=a(21),c=a(324),b=f.asc,k=m.bind,q=m.each,g=["line","bar","candlestick","scatter"],u=p.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={};this.api=b},render:function(a,b,c,d){u.superApply(this,"render",arguments);l.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=a.get("orient");!1===this.dataZoomModel.get("show")?this.group.removeAll():(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),this._updateView())},remove:function(){u.superApply(this,"remove",arguments);l.clear(this,"_dispatchZoomAction")},dispose:function(){u.superApply(this,"dispose",arguments);l.clear(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll();this._resetLocation();this._resetInterval();var b=this._displayables.barGroup=new n.Group;this._renderBackground();this._renderHandle();this._renderDataShadow();a.add(b);this._positionGroup()},_resetLocation:function(){var a=this.dataZoomModel,b=this.api,c=this._findCoordRect(),b={width:b.getWidth(),height:b.getHeight()},e="horizontal"===this._orient?{right:b.width-c.x-c.width,top:b.height-30-7,width:c.width,height:30}:{right:7,top:c.y,width:30,height:c.height},g=d.getLayoutParams(a.option);m.each(["right","top","width","height"],function(a){"ph"===g[a]&&(g[a]=e[a])});a=d.getLayoutRect(g,b,a.padding);this._location={x:a.x,y:a.y};this._size=[a.width,a.height];"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),d=d&&d.get("inverse"),e=this._displayables.barGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;e.attr("horizontal"!==c||d?"horizontal"===c&&d?{scale:g?[-1,1]:[-1,-1]}:"vertical"!==c||d?{scale:g?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:g?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:g?[1,1]:[1,-1]});c=a.getBoundingRect([e]);a.attr("position",[b.x-c.x,b.y-c.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this._size;this._displayables.barGroup.add(new h({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40}))},_renderDataShadow:function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(a){var b=this._size,c=a.series,d=c.getRawData(),a=c.getShadowDim?c.getShadowDim():a.otherDim,g=d.getDataExtent(a),c=.3*(g[1]-g[0]),g=[g[0]-c,g[1]+c],f=[0,b[1]],k=[[b[0],0],[0,0]],h=[],l=b[0]/(d.count()-1),q=0,p=Math.round(d.count()/b[0]);d.each([a],function(a,b){if(!(0<p&&b%p)){var c=null==a||isNaN(a)||""===a?null:e(a,g,f,!0);null!=c&&(k.push([q,c]),h.push([q,c]))}q+=l});b=this.dataZoomModel;this._displayables.barGroup.add(new n.Polygon({shape:{points:k},style:m.defaults({fill:b.get("dataBackgroundColor")},b.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new n.Polyline({shape:{points:h},style:b.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}},_prepareDataShadowInfo:function(){var a=this.dataZoomModel,b=a.get("showDataShadow");if(!1!==b){var c,d=this.ecModel;a.eachTargetAxis(function(e,f){var k=a.getAxisProxy(e.name,f).getTargetSeriesModels();m.each(k,function(a){if(!(c||!0!==b&&0>m.indexOf(g,a.get("type")))){var k="x"===e.name?"y":"x",h=d.getComponent(e.axis,f).axis;c={thisAxis:h,series:a,thisDim:e.name,otherDim:k,otherAxisInverse:a.coordinateSystem.getOtherAxis(h).inverse}}},this)},this);return c}},_renderHandle:function(){var a=this._displayables,b=a.handles=[],c=a.handleLabels=[],d=this._displayables.barGroup,e=this._size,g=this.dataZoomModel;d.add(a.filler=new h({draggable:!0,cursor:"move",drift:k(this._onDragMove,this,"all"),ondragstart:k(this._showDataInfo,this,!0),ondragend:k(this._onDragEnd,this),onmouseover:k(this._showDataInfo,this,!0),onmouseout:k(this._showDataInfo,this,!1),style:{fill:g.get("fillerColor"),textPosition:"inside"}}));d.add(new h(n.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:g.get("dataBackgroundColor")||g.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})));var l=g.get("handleIcon");q([0,1],function(a){var e=n.makePath(l,{style:{strokeNoScale:!0},rectHover:!0,cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:k(this._onDragMove,this,a),ondragend:k(this._onDragEnd,this),onmouseover:k(this._showDataInfo,this,!0),onmouseout:k(this._showDataInfo,this,!1)},{x:-.5,y:0,width:1,height:1},"center"),h=e.getBoundingRect();this._handleHeight=f.parsePercent(g.get("handleSize"),this._size[1]);this._handleWidth=h.width/h.height*this._handleHeight;e.setStyle(g.getModel("handleStyle").getItemStyle());h=g.get("handleColor");null!=h&&(e.style.fill=h);d.add(b[a]=e);e=g.textStyleModel;this.group.add(c[a]=new n.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:e.getTextColor(),textFont:e.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[e(a[0],[0,100],b,!0),e(a[1],[0,100],b,!0)]},_updateInterval:function(a,d){var g=this._handleEnds,f=this._getViewExtent();c(d,g,f,"all"===a||this.dataZoomModel.get("zoomLock")?"rigid":"cross",a);this._range=b([e(g[0],f,[0,100],!0),e(g[1],f,[0,100],!0)])},_updateView:function(){var a=this._displayables,c=this._handleEnds,d=b(c.slice()),e=this._size;q([0,1],function(b){var d=this._handleHeight;a.handles[b].attr({scale:[d,d],position:[c[b],e[1]/2-d/2]})},this);a.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]});this._updateDataInfo()},_updateDataInfo:function(){function a(b){var c=n.getTransform(d.handles[b].parent,this.group),k=n.transformDirection(0===b?"right":"left",c),h=this._handleWidth/2+5,c=n.applyTransform([l[b]+(0===b?-h:h),this._size[1]/2],c);e[b].setStyle({x:c[0],y:c[1],textVerticalAlign:"horizontal"===g?"middle":k,textAlign:"horizontal"===g?k:"center",text:f[b]})}var c=this.dataZoomModel,d=this._displayables,e=d.handleLabels,g=this._orient,f=["",""];if(c.get("showDetail")){var k,h;c.eachTargetAxis(function(a,b){k||(k=c.getAxisProxy(a.name,b).getDataValueWindow(),h=this.ecModel.getComponent(a.axis,b).axis)},this);k&&(f=[this._formatLabel(k[0],h),this._formatLabel(k[1],h)])}var l=b(this._handleEnds.slice());a.call(this,0);a.call(this,1)},_formatLabel:function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter");if(m.isFunction(d))return d(a);c=c.get("labelPrecision");if(null==c||"auto"===c)c=b.getPixelPrecision();a=null==a&&isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(c,20));m.isString(d)&&(a=d.replace("{value}",a));return a},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a);b[1].attr("invisible",!a)},_onDragMove:function(a,b,c){this._dragging=!0;b=this._applyBarTransform([b,c],!0);this._updateInterval(a,b[0]);this._updateView();this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);this._dispatchZoomAction()},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_applyBarTransform:function(a,b){var c=this._displayables.barGroup.getLocalTransform();return n.applyTransform(a,c,b)},_findCoordRect:function(){var a=this.getTargetInfo();if(a.cartesians.length)a=a.cartesians[0].model.coordinateSystem.getRect();else var a=this.api.getWidth(),b=this.api.getHeight(),a={x:.2*a,y:.2*b,width:.6*a,height:.6*b};return a}});r.exports=u},function(r,p){r.exports=function(a,m,n,l,h){function f(a,d,c){var b=d.length?d.slice():[d,d];d[0]>d[1]&&b.reverse();0>a&&b[0]+a<c[0]&&(a=c[0]-b[0]);0<a&&b[1]+a>c[1]&&(a=c[1]-b[1]);return a}if(!a)return m;"rigid"===l?(a=f(a,m,n),m[0]+=a,m[1]+=a):(a=f(a,m[h],n),m[h]+=a,"push"===l&&m[0]>m[1]&&(m[1-h]=m[h]));return m}},function(r,p,a){r.exports=a(318).extend({type:"dataZoom.inside",defaultOption:{zoomLock:!1}})},function(r,p,a){function m(a,c,b){c=c.axis;b=b.rectProvider();var e={};"x"===c.dim?(e.pixel=a[0],e.pixelLength=b.width,e.pixelStart=b.x,e.signal=c.inverse?1:-1):(e.pixel=a[1],e.pixelLength=b.height,e.pixelStart=b.y,e.signal=c.inverse?-1:1);return e}p=a(321);var n=a(4),l=a(324),h=a(327),f=n.bind,e=p.extend({type:"dataZoom.inside",init:function(a,c){},render:function(a,c,b,k){e.superApply(this,"render",arguments);h.shouldRecordRange(k,a.id)&&(this._range=a.getPercentRange());var l=this.getTargetInfo().cartesians,g=n.map(l,function(a){return h.generateCoordId(a.model)});n.each(l,function(c){var e=c.model;h.register(b,{coordId:h.generateCoordId(e),allCoordIds:g,coordinateSystem:e.coordinateSystem,dataZoomId:a.id,throttleRate:a.get("throttle",!0),panGetRange:f(this._onPan,this,c),zoomGetRange:f(this._onZoom,this,c)})},this)},dispose:function(){h.unregister(this.api,this.dataZoomModel.id);e.superApply(this,"dispose",arguments);this._range=null},_onPan:function(a,c,b,e){e=[b,e];b=this._range;b=b.slice();(a=a.axisModels[0])?(c=m(e,a,c),l(c.signal*(b[1]-b[0])*c.pixel/c.pixelLength,b,[0,100],"rigid"),c=b):c=void 0;return this._range=c},_onZoom:function(a,c,b,e,f){if(this.dataZoomModel.option.zoomLock)return this._range;b=1/b;f=[e,f];e=this._range;e=e.slice();(a=a.axisModels[0])?(c=m(f,a,c),c=(c.pixel-c.pixelStart)/c.pixelLength*(e[1]-e[0])+e[0],b=Math.max(b,0),e[0]=(e[0]-c)*b+c,e[1]=(e[1]-c)*b+c,b=e,c=[0,100],b[0]<=c[1]||(b[0]=c[1]),b[1]<=c[1]||(b[1]=c[1]),b[0]>=c[0]||(b[0]=c[0]),b[1]>=c[0]||(b[1]=c[0])):b=void 0;return this._range=b}});r.exports=e},function(r,p,a){function m(a){a=a.getZr();return a["\x00_ec_dataZoom_roams"]||(a["\x00_ec_dataZoom_roams"]={})}function n(a,c,d){a=new b(a.getZr());a.enable();a.on("pan",q(h,d));a.on("zoom",q(f,d));return a}function l(a){c.each(a,function(b,c){b.count||(b.controller.off("pan").off("zoom"),delete a[c])})}function h(a,b,c){e(a,function(d){return d.panGetRange(a.controller,b,c)})}function f(a,b,c,d){e(a,function(e){return e.zoomGetRange(a.controller,b,c,d)})}function e(a,b){var d=[];c.each(a.dataZoomInfos,function(a){var c=b(a);c&&d.push({dataZoomId:a.dataZoomId,start:c[0],end:c[1]})});a.dispatchAction(d)}function d(a,b){a.dispatchAction({type:"dataZoom",batch:b})}var c=a(4),b=a(174),k=a(308),q=c.curry;r.exports={register:function(a,b){var e=m(a),f=b.dataZoomId,h=b.coordId;c.each(e,function(a,d){var e=a.dataZoomInfos;e[f]&&0>c.indexOf(b.allCoordIds,h)&&(delete e[f],a.count--)});l(e);var q=e[h];q||(q=e[h]={coordId:h,dataZoomInfos:{},count:0},q.controller=n(a,b,q),q.dispatchAction=c.curry(d,a));var p=b.coordinateSystem.getRect().clone();q.controller.rectProvider=function(){return p};k.createOrUpdate(q,"dispatchAction",b.throttleRate,"fixRate");!q.dataZoomInfos[f]&&q.count++;q.dataZoomInfos[f]=b},unregister:function(a,b){var d=m(a);c.each(d,function(a){var c=a.dataZoomInfos;c[b]&&(delete c[b],a.count--)});l(d)},shouldRecordRange:function(a,b){if(a&&"dataZoom"===a.type&&a.batch)for(var c=0,d=a.batch.length;c<d;c++)if(a.batch[c].dataZoomId===b)return!1;return!0},generateCoordId:function(a){return a.type+"\x00_"+a.id}}},function(r,p,a){function m(a,h,f){f.getAxisProxy(a.name,h).reset(f)}function n(a,h,f){f.getAxisProxy(a.name,h).filterData(f)}a(1).registerProcessor(function(a,h){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(m);a.eachTargetAxis(n)});a.eachComponent("dataZoom",function(a){var e=a.findRepresentativeAxisProxy(),d=e.getDataPercentWindow(),e=e.getDataValueWindow();a.setRawRange({start:d[0],end:d[1],startValue:e[0],endValue:e[1]})})})},function(r,p,a){var m=a(4),n=a(319);a(1).registerAction("dataZoom",function(a,h){var f=n.createLinkedNodesFinder(m.bind(h.eachComponent,h,"dataZoom"),n.eachAxisDim,function(a,c){return a.get(c.axisIndex)}),e=[];h.eachComponent({mainType:"dataZoom",query:a},function(a,c){e.push.apply(e,f(a).nodes)});m.each(e,function(d,c){d.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})})},function(r,p,a){a(331);a(342)},function(r,p,a){a(1).registerPreprocessor(a(332));a(333);a(334);a(335);a(338);a(341)},function(r,p,a){function m(a,f){return a&&a.hasOwnProperty&&a.hasOwnProperty(f)}var n=a(4),l=n.each;r.exports=function(a){a=a&&a.visualMap;n.isArray(a)||(a=a?[a]:[]);l(a,function(a){a&&(m(a,"splitList")&&!m(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList),(a=a.pieces)&&n.isArray(a)&&l(a,function(a){n.isObject(a)&&(m(a,"start")&&!m(a,"min")&&(a.min=a.start),m(a,"end")&&!m(a,"max")&&(a.max=a.end))}))})}},function(r,p,a){a(19).registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?0<a.pieces.length:0<a.splitNumber)&&!a.calculable?"piecewise":"continuous"})},function(r,p,a){function m(a,d){a.eachTargetSeries(function(c){c=c.getData();h.applyVisual(a.stateList,a.targetVisuals,c,a.getValueState,a,a.getDataDimension(c))})}function n(a){a.eachSeries(function(d){var c=d.getData(),b=[];a.eachComponent("visualMap",function(a){if(a.isTargetSeries(d)){var e={};b.push(e);e.stops=a.getStops(d,l);e.dimension=a.getDataDimension(c)}});d.getData().setVisual("visualMeta",b)})}function l(a,d,c){function b(a){return h[a]}function k(a,b){h[a]=b}a=a.targetVisuals[c];c=f.prepareVisualTypes(a);for(var h={},g=0,l=c.length;g<l;g++){var m=c[g];(m=a["colorAlpha"===m?"__alphaForOpacity":m])&&m.applyVisual(d,b,k)}return h.color}r=a(1);var h=a(306),f=a(192);r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,function(a){a.eachComponent("visualMap",function(d){m(d,a)});n(a)})},function(r,p,a){function m(a,b,d){a=a.targetVisuals[b].color;if(!a)return d.slice();a=a.option.visual.length;if(1>=a||d[0]===d[1])return d.slice();b=(d[1]-d[0])/(a-1);for(var e=d[0],g=[],f=0;f<a&&e<d[1];f++)g.push(e),e+=b;g.push(d[1]);return g}function n(a,b,d,e){a=m(a,b,d);h.each(a,function(a){for(var c={value:a,valueState:b},d=0,f=0;f<e.length;f++){d|="inRange"===e[f].valueState;if(a<e[f].value){e.splice(f,0,c);return}d&&(e[f].valueState="inRange")}e.push(c)})}var l=a(336),h=a(4),f=a(7),e=[20,140],d=l.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function(a,b){d.superApply(this,"optionUpdated",arguments);this.resetTargetSeries();this.resetExtent();this.resetVisual(function(a){a.mappingMethod="linear";a.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){d.superApply(this,"resetItemSize",arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse();(null==a[0]||isNaN(a[0]))&&(a[0]=e[0]);(null==a[1]||isNaN(a[1]))&&(a[1]=e[1])},_resetRange:function(){var a=this.getExtent(),b=this.option.range;!b||b.auto?(a.auto=1,this.option.range=a):h.isArray(b)&&(b[0]>b[1]&&b.reverse(),b[0]=Math.max(b[0],a[0]),b[1]=Math.min(b[1],a[1]))},completeVisualOption:function(){l.prototype.completeVisualOption.apply(this,arguments);h.each(this.stateList,function(a){(a=this.option.controller[a].symbolSize)&&a[0]!==a[1]&&(a[0]=0)},this)},setSelected:function(a){this.option.range=a.slice();this._resetRange()},getSelected:function(){var a=this.getExtent(),b=f.asc((this.get("range")||[]).slice());b[0]>a[1]&&(b[0]=a[1]);b[1]>a[1]&&(b[1]=a[1]);b[0]<a[0]&&(b[0]=a[0]);b[1]<a[0]&&(b[1]=a[0]);return b},getValueState:function(a){var b=this.option.range,d=this.getExtent();return(b[0]<=d[0]||b[0]<=a)&&(b[1]>=d[1]||a<=b[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];this.eachTargetSeries(function(d){var e=[],f=d.getData();f.each(this.getDataDimension(f),function(b,d){a[0]<=b&&b<=a[1]&&e.push(d)},!0,this);b.push({seriesId:d.id,dataIndex:e})},this);return b},getStops:function(a,b){var d=[];n(this,"outOfRange",this.getExtent(),d);n(this,"inRange",this.option.range.slice(),d);h.each(d,function(a){a.color=b(this,a.value,a.valueState)},this);return d}});r.exports=d},function(r,p,a){p=a(1);var m=a(4),n=a(2),l=a(337),h=a(192),f=a(306),e=h.mapVisual,d=a(5),c=h.eachVisual;a=a(7);var b=m.isArray,k=m.each,q=a.asc,g=a.linearMap;a=m.noop;var u=["#f6efa6","#d88273","#bf444c"];p=p.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,c){this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.mergeDefaultAndTheme(a,c)},optionUpdated:function(a,b){var c=this.option;n.canvasSupported||(c.realtime=!1);!b&&f.replaceVisualOption(c,a,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=m.bind(a,this);this.controllerVisuals=f.createVisualMappings(this.option.controller,b,a);this.targetVisuals=f.createVisualMappings(this.option.target,b,a)},resetTargetSeries:function(){var a=this.option,b=null==a.seriesIndex;a.seriesIndex=b?[]:d.normalizeToArray(a.seriesIndex);b&&this.ecModel.eachSeries(function(b,c){a.seriesIndex.push(c)})},eachTargetSeries:function(a,b){m.each(this.option.seriesIndex,function(c){a.call(b,this.ecModel.getSeriesByIndex(c))},this)},isTargetSeries:function(a){var b=!1;this.eachTargetSeries(function(c){c===a&&(b=!0)});return b},formatValueText:function(a,b,c){function d(a){return a===g[0]?"min":a===g[1]?"max":(+a).toFixed(f)}var e=this.option,f=e.precision,g=this.dataBound,e=e.formatter,h;c=c||["\x3c","\x3e"];m.isArray(a)&&(a=a.slice(),h=!0);b=b?a:h?[d(a[0]),d(a[1])]:d(a);return m.isString(e)?e.replace("{value}",h?b[0]:b).replace("{value2}",h?b[1]:b):m.isFunction(e)?h?e(a[0],a[1]):e(a):h?a[0]===g[0]?c[0]+" "+b[1]:a[1]===g[1]?c[1]+" "+b[0]:b[0]+" - "+b[1]:b},resetExtent:function(){var a=this.option;this._dataExtent=q([a.min,a.max])},getDataDimension:function(a){var b=this.option.dimension;return null!=b?b:a.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function a(c){b(d.color)&&!c.inRange&&(c.inRange={color:d.color.slice().reverse()});c.inRange=c.inRange||{color:u};k(this.stateList,function(a){var b=c[a];if(m.isString(b)){var d=l.get(b,"active",p);d?(c[a]={},c[a][b]=d):delete c[a]}},this)}var d=this.option,f={inRange:d.inRange,outOfRange:d.outOfRange},q=d.target||(d.target={}),n=d.controller||(d.controller={});m.merge(q,f);m.merge(n,f);var p=this.isCategory();a.call(this,q);a.call(this,n);(function(a,b,c){b=a[b];var d=a[c];b&&!d&&(d=a[c]={},k(b,function(a,b){if(h.isValidType(b)){var c=l.get(b,"inactive",p);null!=c&&(d[b]=c,"color"!==b||d.hasOwnProperty("opacity")||d.hasOwnProperty("colorAlpha")||(d.opacity=[0,0]))}}))}).call(this,q,"inRange","outOfRange");(function(a){var b=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,d=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,f=this.get("inactiveColor");k(this.stateList,function(h){var k=this.itemSize,l=a[h];l||(l=a[h]={color:p?f:[f]});null==l.symbol&&(l.symbol=b&&m.clone(b)||(p?"roundRect":["roundRect"]));null==l.symbolSize&&(l.symbolSize=d&&m.clone(d)||(p?k[0]:[k[0],k[0]]));l.symbol=e(l.symbol,function(a){return"none"===a||"square"===a?"roundRect":a});h=l.symbolSize;if(null!=h){var q=-Infinity;c(h,function(a){a>q&&(q=a)});l.symbolSize=e(h,function(a){return g(a,[0,q],[0,k[0]],!0)})}},this)}).call(this,n)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:a,getValueState:a});r.exports=p},function(r,p,a){var m=a(4),n={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};r.exports={get:function(a,h,f){a=m.clone((n[a]||{})[h]);return f?m.isArray(a)?a[a.length-1]:a:a}}},function(r,p,a){function m(a,b,c,d){return new h.Polygon({shape:{points:a},draggable:!!c,cursor:b,drift:c,ondragend:d})}function n(a,b,c,d){return a?[[0,-u(b,y(c,0))],[6,0],[0,u(b,y(d-c,0))]]:[[0,0],[5,-5],[5,5]]}function l(a){return!a.get("realtime")&&a.get("hoverLinkOnHandle")}p=a(339);var h=a(43),f=a(4),e=a(7),d=a(324),c=a(79),b=a(340),k=a(5),q=e.linearMap,g=f.each,u=Math.min,y=Math.max,x=p.extend({type:"visualMap.continuous",init:function(){x.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._hoverLinkDataIndices=[]},doRender:function(a,b,c,d){d&&"selectDataRange"===d.type&&d.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient");this._useHandle=a.get("calculable");this._resetInterval();this._renderBar(b);a=a.get("text");this._renderEndsText(b,a,0);this._renderEndsText(b,a,1);this._updateView(!0);this.renderBackground(b);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(b)},_renderEndsText:function(a,b,c){if(b){a=b[1-c];a=null!=a?a+"":"";var d=this.visualMapModel;b=d.get("textGap");var e=d.itemSize,d=this._shapes.barGroup;b=this._applyTransform([e[0]/2,0===c?-b:e[1]+b],d);c=this._applyTransform(0===c?"bottom":"top",d);d=this._orient;e=this.visualMapModel.textStyleModel;this.group.add(new h.Text({style:{x:b[0],y:b[1],textVerticalAlign:"horizontal"===d?"middle":c,textAlign:"horizontal"===d?c:"center",text:a,textFont:e.getFont(),fill:e.getTextColor()}}))}},_renderBar:function(a){var c=this.visualMapModel,d=this._shapes,e=c.itemSize,g=this._orient,h=this._useHandle,k=b.getItemAlign(c,this.api,e),l=d.barGroup=this._createBarGroup(k);l.add(d.outOfRange=m());l.add(d.inRange=m(null,h?"move":null,f.bind(this._dragHandle,this,"all",!1),f.bind(this._dragHandle,this,"all",!0)));c=c.textStyleModel.getTextRect("\u56fd");c=y(c.width,c.height);h&&(d.handleThumbs=[],d.handleLabels=[],d.handleLabelPoints=[],this._createHandle(l,0,e,c,g,k),this._createHandle(l,1,e,c,g,k));this._createIndicator(l,e,c,g);a.add(l)},_createHandle:function(a,b,c,d,e){var g=f.bind(this._dragHandle,this,b,!1),k=f.bind(this._dragHandle,this,b,!0),l=m(0===b?[[0,0],[d,0],[d,-d]]:[[0,0],[d,0],[d,d]],"move",g,k);l.position[0]=c[0];a.add(l);a=this.visualMapModel.textStyleModel;g=new h.Text({draggable:!0,drift:g,ondragend:k,style:{x:0,y:0,text:"",textFont:a.getFont(),fill:a.getTextColor()}});this.group.add(g);d=["horizontal"===e?d/2:1.5*d,"horizontal"===e?0===b?-(1.5*d):1.5*d:0===b?-d/2:d/2];e=this._shapes;e.handleThumbs[b]=l;e.handleLabelPoints[b]=d;e.handleLabels[b]=g},_createIndicator:function(a,b,c,d){var e=m([[0,0]],"move");e.position[0]=b[0];e.attr({invisible:!0,silent:!0});a.add(e);a=this.visualMapModel.textStyleModel;a=new h.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),fill:a.getTextColor()}});this.group.add(a);c=["horizontal"===d?c/2:9,0];d=this._shapes;d.indicator=e;d.indicatorLabel=a;d.indicatorLabelPoint=c},_dragHandle:function(a,b,c,d){this._useHandle&&(this._dragging=!b,b||(c=this._applyTransform([c,d],this._shapes.barGroup,!0),this._updateInterval(a,c[1]),this._updateView()),b===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),b?!this._hovering&&this._clearHoverLinkToSeries():l(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1))},_resetInterval:function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),a=[0,a.itemSize[1]];this._handleEnds=[q(b[0],c,a,!0),q(b[1],c,a,!0)]},_updateInterval:function(a,b){var c=this.visualMapModel,e=this._handleEnds;d(b||0,e,[0,c.itemSize[1]],"all"===a?"rigid":"push",a);var f=c.getExtent(),c=[0,c.itemSize[1]];this._dataInterval=[q(e[0],c,f,!0),q(e[1],c,f,!0)]},_updateView:function(a){var b=this.visualMapModel,c=b.getExtent(),d=this._shapes,b=[0,b.itemSize[1]];a=a?b:this._handleEnds;var e=this._createBarVisual(this._dataInterval,c,a,"inRange"),c=this._createBarVisual(c,c,b,"outOfRange");d.inRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);d.outOfRange.setStyle({fill:c.barColor,opacity:c.opacity}).setShape("points",c.barPoints);this._updateHandle(a,e)},_createBarVisual:function(a,b,d,e){e={forceState:e,convertOpacityToAlpha:!0};b=this._makeColorGradient(a,e);a=[this.getControllerVisual(a[0],"symbolSize",e),this.getControllerVisual(a[1],"symbolSize",e)];d=this._createBarPoints(d,a);return{barColor:new c(0,0,0,1,b),barPoints:d,handlesColor:[b[0].color,b[b.length-1].color]}},_makeColorGradient:function(a,b){var c=[],d=(a[1]-a[0])/100;c.push({color:this.getControllerVisual(a[0],"color",b),offset:0});for(var e=1;100>e;e++){var f=a[0]+d*e;if(f>a[1])break;c.push({color:this.getControllerVisual(f,"color",b),offset:e/100})}c.push({color:this.getControllerVisual(a[1],"color",b),offset:1});return c},_createBarPoints:function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new h.Group("horizontal"!==b||c?"horizontal"===b&&c?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||c?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(a,b){if(this._useHandle){var c=this._shapes,d=this.visualMapModel,e=c.handleThumbs,f=c.handleLabels;g([0,1],function(g){var k=e[g];k.setStyle("fill",b.handlesColor[g]);k.position[1]=a[g];k=h.applyTransform(c.handleLabelPoints[g],h.getTransform(k,this.group));f[g].setStyle({x:k[0],y:k[1],text:d.formatValueText(this._dataInterval[g]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===g?"bottom":"top":"left",c.barGroup)})},this)}},_showIndicator:function(a,b,c,d){var e=this.visualMapModel,f=e.getExtent(),g=e.itemSize,k=q(a,f,[0,g[1]],!0),f=this._shapes,l=f.indicator;l&&(l.position[1]=k,l.attr("invisible",!1),l.setShape("points",n(!!c,d,k,g[1])),a=this.getControllerVisual(a,"color",{convertOpacityToAlpha:!0}),l.setStyle("fill",a),a=h.applyTransform(f.indicatorLabelPoint,h.getTransform(l,this.group)),d=f.indicatorLabel,d.attr("invisible",!1),f=this._applyTransform("left",f.barGroup),g=this._orient,d.setStyle({text:(c?c:"")+e.formatValueText(b),textVerticalAlign:"horizontal"===g?f:"middle",textAlign:"horizontal"===g?"center":f,x:a[0],y:a[1]}))},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on("mousemove",function(b){a._hovering=!0;if(!a._dragging){var c=a.visualMapModel.itemSize;b=a._applyTransform([b.offsetX,b.offsetY],a._shapes.barGroup,!0,!0);b[1]=u(y(0,b[1]),c[1]);a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=c[0])}}).on("mouseout",function(){a._hovering=!1;!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(a,b){var c=this.visualMapModel,d=c.itemSize;if(c.option.hoverLink){var d=[0,d[1]],e=c.getExtent();a=u(y(d[0],a),d[1]);var f;f=6;var g=c.get("hoverLinkDataSize");g&&(f=q(g,e,d,!0)/2);var g=[a-f,a+f],h=q(a,d,e,!0),e=[q(g[0],d,e,!0),q(g[1],d,e,!0)];g[0]<d[0]&&(e[0]=-Infinity);g[1]>d[1]&&(e[1]=Infinity);b&&(-Infinity===e[0]?this._showIndicator(h,e[1],"\x3c ",f):Infinity===e[1]?this._showIndicator(h,e[0],"\x3e ",f):this._showIndicator(h,h,"\u2248 ",f));d=this._hoverLinkDataIndices;f=[];if(b||l(c))f=this._hoverLinkDataIndices=c.findTargetDataIndices(e);c=k.compressBatches(d,f);this._dispatchHighDown("downplay",c[0]);this._dispatchHighDown("highlight",c[1])}},_hoverLinkFromSeriesMouseOver:function(a){if((a=a.target)&&null!=a.dataIndex){var b=(a.dataModel||this.ecModel.getSeriesByIndex(a.seriesIndex)).getData(a.dataType),c=b.getDimension(this.visualMapModel.getDataDimension(b));a=b.get(c,a.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0);a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",a);a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver);a.off("mouseout",this._hideIndicator)},_applyTransform:function(a,b,c,d){b=h.getTransform(b,d?null:this.group);return h[f.isArray(a)?"applyTransform":"transformDirection"](a,b,c)},_dispatchHighDown:function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});r.exports=x},function(r,p,a){var m=a(4),n=a(43),l=a(6),h=a(21);p=a(1);var f=a(192);r.exports=p.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,d){this.ecModel=a;this.api=d},render:function(a,d,c,b){this.visualMapModel=a;!1===a.get("show")?this.group.removeAll():this.doRender.apply(this,arguments)},renderBackground:function(a){var d=this.visualMapModel,c=l.normalizeCssArray(d.get("padding")||0),b=a.getBoundingRect();a.add(new n.Rect({z2:-1,silent:!0,shape:{x:b.x-c[3],y:b.y-c[0],width:b.width+c[3]+c[1],height:b.height+c[0]+c[2]},style:{fill:d.get("backgroundColor"),stroke:d.get("borderColor"),lineWidth:d.get("borderWidth")}}))},getControllerVisual:function(a,d,c){function b(a){return n[a]}function h(a,b){n[a]=b}c=c||{};var l=c.forceState,g=this.visualMapModel,n={};"symbol"===d&&(n.symbol=g.get("itemSymbol"));if("color"===d){var p=g.get("contentColor");n.color=p}var r=g.controllerVisuals[l||g.getValueState(a)],l=f.prepareVisualTypes(r);m.each(l,function(g){var l=r[g];c.convertOpacityToAlpha&&"opacity"===g&&(g="colorAlpha",l=r.__alphaForOpacity);f.dependsOn(g,d)&&l&&l.applyVisual(a,b,h)});return n[d]},positionGroup:function(a){var d=this.api;h.positionGroup(a,this.visualMapModel.getBoxLayoutParams(),{width:d.getWidth(),height:d.getHeight()})},doRender:m.noop})},function(r,p,a){var m=a(21);r.exports={getItemAlign:function(a,l,h){a=a.option;var f=a.align;if(null!=f&&"auto"!==f)return f;l={width:l.getWidth(),height:l.getHeight()};for(var e="horizontal"===a.orient?1:0,d=[["left","right","width"],["top","bottom","height"]],f=d[e],c=[0,null,10],b={},k=0;3>k;k++)b[d[1-e][k]]=c[k],b[f[k]]=2===k?h[0]:a[f[k]];h=[["x","width",3],["y","height",0]][e];a=m.getLayoutRect(b,l,a.padding);return f[(a.margin[h[2]]||0)+a[h[0]]+.5*a[h[1]]<.5*l[h[1]]?0:1]}}},function(r,p,a){a(1).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(a,n){n.eachComponent({mainType:"visualMap",query:a},function(l){l.setSelected(a.selected)})})},function(r,p,a){a(1).registerPreprocessor(a(332));a(333);a(334);a(343);a(344);a(341)},function(r,p,a){function m(a,c){var b=a.inverse;("vertical"===a.orient?!b:b)&&c.reverse()}function n(a){function c(a,b,d){d=d||0;return a.interval[d]<b.interval[d]||a.interval[d]===b.interval[d]&&(+a.close[d]>b.close[d]||c(a,b,1))}a.sort(function(a,b){return c(a,b)?-1:1});for(var b=-Infinity,e=0;e<a.length;e++)for(var f=a[e].interval,g=a[e].close,h=0;2>h;h++)f[h]<b&&(f[h]=b,g[h]=1-h),b=f[h]}p=a(336);var l=a(4),h=a(192),f=p.extend({type:"visualMap.piecewise",defaultOption:{selected:null,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0},optionUpdated:function(a,c){f.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetTargetSeries();this.resetExtent();var b=this._mode=this._determineMode();e[this._mode].call(this);this._resetSelected(a,c);var h=this.option.categories;this.resetVisual(function(a,c){"categories"===b?(a.mappingMethod="category",a.categories=l.clone(h)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=l.map(this._pieceList,function(a){a=l.clone(a);"inRange"!==c&&(a.visual=null);return a}))})},_resetSelected:function(a,c){var b=this.option,e=this._pieceList,f=(c?b:a).selected||{};b.selected=f;l.each(e,function(a,b){var c=this.getSelectedMapKey(a);c in f||(f[c]=!0)},this);if("single"===b.selectedMode){var g=!1;l.each(e,function(a,b){var c=this.getSelectedMapKey(a);f[c]&&(g?f[c]=!1:g=!0)},this)}},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&0<a.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=l.clone(a)},getValueState:function(a){a=h.findPieceIndex(a,this._pieceList);return null!=a?this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange":"outOfRange"},findTargetDataIndices:function(a){var c=[];this.eachTargetSeries(function(b){var e=[],f=b.getData();f.each(this.getDataDimension(f),function(b,c){h.findPieceIndex(b,this._pieceList)===a&&e.push(c)},!0,this);c.push({seriesId:b.id,dataIndex:e})},this);return c},getRepresentValue:function(a){this.isCategory()?a=a.value:null!=a.value?a=a.value:(a=a.interval||[],a=(a[0]+a[1])/2);return a},getStops:function(a,c){function b(a){e.push(a);a.color=c(f,f.getRepresentValue(a),a.valueState)}var e=[],f=this,g=-Infinity;l.each(this._pieceList,function(a){if(a=a.interval)a[0]>g&&b({interval:[g,a[0]],valueState:"outOfRange"}),b({interval:a.slice(),valueState:this.getValueState((a[0]+a[1])/2)}),g=a[1]},this);return e}}),e={splitNumber:function(){var a=this.option,c=this._pieceList,b=a.precision,e=this.getExtent(),f=a.splitNumber,f=Math.max(parseInt(f,10),1);a.splitNumber=f;for(var g=(e[1]-e[0])/f;+g.toFixed(b)!==g&&5>b;)b++;a.precision=b;g=+g.toFixed(b);a=0;for(b=e[0];a<f;a++,b+=g)c.push({index:a,interval:[b,a===f-1?e[1]:b+g],close:[1,1]});n(c);l.each(c,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var a=this.option;l.each(a.categories,function(a){this._pieceList.push({text:this.formatValueText(a,!0),value:a})},this);m(a,this._pieceList)},pieces:function(){var a=this.option,c=this._pieceList;l.each(a.pieces,function(a,d){l.isObject(a)||(a={value:a});var e={text:"",index:d};null!=a.label&&(e.text=a.label);if(a.hasOwnProperty("value")){var f=e.value=a.value;e.interval=[f,f];e.close=[1,1]}else{for(var f=e.interval=[],m=e.close=[0,0],n=[1,0,1],p=[-Infinity,Infinity],r=[],t=0;2>t;t++){for(var A=[["gte","gt","min"],["lte","lt","max"]][t],z=0;3>z&&null==f[t];z++)f[t]=a[A[z]],m[t]=n[z],r[t]=2===z;null==f[t]&&(f[t]=p[t])}r[0]&&Infinity===f[1]&&(m[0]=0);r[1]&&-Infinity===f[0]&&(m[1]=0);f[0]>f[1]&&console.warn("Piece "+d+"is illegal: "+f+" lower bound should not greater then uppper bound.");f[0]===f[1]&&m[0]&&m[1]&&(e.value=f[0])}e.visual=h.retrieveVisuals(a);c.push(e)},this);m(a,c);n(c);l.each(c,function(a){var c=a.close,c=[["\x3c","\u2264"][c[1]],["\x3e","\u2265"][c[0]]];a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,c)},this)}};r.exports=f},function(r,p,a){p=a(339);var m=a(4),n=a(43),l=a(106),h=a(21),f=a(340);a=p.extend({type:"visualMap.piecewise",doRender:function(){var a=this.group;a.removeAll();var d=this.visualMapModel,c=d.get("textGap"),b=d.textStyleModel,f=b.getFont(),l=b.getTextColor(),g=this._getItemAlign(),p=d.itemSize,b=this._getViewData(),r=!b.endsText,x=!r;x&&this._renderEndsText(a,b.endsText[0],p);m.each(b.viewPieceList,function(b){var h=b.piece,x=new n.Group;x.onclick=m.bind(this._onItemClick,this,h);this._enableHoverLink(x,b.indexInModelPieceList);b=d.getRepresentValue(h);this._createItemSymbol(x,b,[0,0,p[0],p[1]]);r&&(b=this.visualMapModel.getValueState(b),x.add(new n.Text({style:{x:"right"===g?-c:p[0]+c,y:p[1]/2,text:h.text,textVerticalAlign:"middle",textAlign:g,textFont:f,fill:l,opacity:"outOfRange"===b?.5:1}})));a.add(x)},this);x&&this._renderEndsText(a,b.endsText[1],p);h.box(d.get("orient"),a,d.get("itemGap"));this.renderBackground(a);this.positionGroup(a)},_enableHoverLink:function(a,d){function c(a){var c=this.visualMapModel;c.option.hoverLink&&this.api.dispatchAction({type:a,batch:c.findTargetDataIndices(d)})}a.on("mouseover",m.bind(c,this,"highlight")).on("mouseout",m.bind(c,this,"downplay"))},_getItemAlign:function(){var a=this.visualMapModel,d=a.option;if("vertical"===d.orient)return f.getItemAlign(a,this.api,a.itemSize);(a=d.align)&&"auto"!==a||(a="left");return a},_renderEndsText:function(a,d,c){if(d){var b=new n.Group,f=this.visualMapModel.textStyleModel;b.add(new n.Text({style:{x:c[0]/2,y:c[1]/2,textVerticalAlign:"middle",textAlign:"center",text:d,textFont:f.getFont(),fill:f.getTextColor()}}));a.add(b)}},_getViewData:function(){var a=this.visualMapModel,d=m.map(a.getPieceList(),function(a,b){return{piece:a,indexInModelPieceList:b}}),c=a.get("text"),b=a.get("orient"),a=a.get("inverse");("horizontal"===b?a:!a)?d.reverse():c&&(c=c.slice().reverse());return{viewPieceList:d,endsText:c}},_createItemSymbol:function(a,d,c){a.add(l.createSymbol(this.getControllerVisual(d,"symbol"),c[0],c[1],c[2],c[3],this.getControllerVisual(d,"color")))},_onItemClick:function(a){var d=this.visualMapModel,c=d.option,b=m.clone(c.selected),f=d.getSelectedMapKey(a);"single"===c.selectedMode?(b[f]=!0,m.each(b,function(a,c){b[c]=c===f})):b[f]=!b[f];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:b})}});r.exports=a},function(r,p,a){a(346);a(348);a(1).registerPreprocessor(function(a){a.markPoint=a.markPoint||{}})},function(r,p,a){r.exports=a(347).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})},function(r,p,a){function m(a){n.defaultEmphasis(a.label,n.LABEL_OPTIONS)}var n=a(5),l=a(4),h=a(2);p=a(6);var f=p.addCommas,e=p.encodeHTML;a=a(1).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(a,c,b,e){if("marker"===this.type)throw Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(a,b);this.mergeOption(a,b,e.createdBySelf,!0)},ifEnableAnimation:function(){if(h.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.ifEnableAnimation()},mergeOption:function(a,c,b,e){var f=this.constructor,g=this.mainType+"Model";b||c.eachSeries(function(a){var b=a.get(this.mainType),d=a[g];b&&b.data?(d?d.mergeOption(b,c,!0):(e&&m(b),l.each(b.data,function(a){a instanceof Array?(m(a[0]),m(a[1])):m(a)}),d=new f(b,this,c,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),d.__hostSeries=a),a[g]=d):a[g]=null},this)},formatTooltip:function(a){var c=this.getData(),b=this.getRawValue(a),h=l.isArray(b)?l.map(b,f).join(", "):f(b);a=c.getName(a);c=this.name;if(null!=b||a)c+="\x3cbr /\x3e";a&&(c+=e(a),null!=b&&(c+=" : "));null!=b&&(c+=h);return c},getData:function(){return this._data},setData:function(a){this._data=a}});l.mixin(a,n.dataFormatMixin);r.exports=a},function(r,p,a){function m(a,b,d){var e=b.coordinateSystem;a.each(function(g){var h=a.getItemModel(g),l,m=f.parsePercent(h.get("x"),d.getWidth()),h=f.parsePercent(h.get("y"),d.getHeight());if(!isNaN(m)&&!isNaN(h))l=[m,h];else if(b.getMarkerPosition)l=b.getMarkerPosition(a.getValues(a.dimensions,g));else if(e){l=a.get(e.dimensions[0],g);var n=a.get(e.dimensions[1],g);l=e.dataToPoint([l,n])}isNaN(m)||(l[0]=m);isNaN(h)||(l[1]=h);a.setItemLayout(g,l)})}function n(a,b,f){var l;l=a?h.map(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};c.name=a;return c}):[{name:"value",type:"float"}];l=new e(l,f);f=h.map(f.get("data"),h.curry(d.dataTransform,b));a&&(f=h.filter(f,h.curry(d.dataFilter,a)));l.initData(f,null,a?d.dimValueGetter:function(a){return a.value});return l}var l=a(104),h=a(4),f=a(7),e=a(97),d=a(349);a(350).extend({type:"markPoint",updateLayout:function(a,b,d){b.eachSeries(function(a){var b=a.markPointModel;b&&(m(b.getData(),a,d),this.markerGroupMap[a.name].updateLayout(b))},this)},renderSeries:function(a,b,d,e){d=a.coordinateSystem;var f=a.name,h=a.getData(),p=this.markerGroupMap,r=p[f];r||(r=p[f]=new l);var v=n(d,a,b);b.setData(v);m(b.getData(),a,e);v.each(function(a){var c=v.getItemModel(a),d=c.getShallow("symbolSize");"function"===typeof d&&(d=d(b.getRawValue(a),b.getDataParams(a)));v.setItemVisual(a,{symbolSize:d,color:c.get("itemStyle.normal.color")||h.getVisual("color"),symbol:c.getShallow("symbol")})});r.updateData(v);this.group.add(r.group);v.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=b})});r.__keep=!0;r.group.silent=b.get("silent")||a.get("silent")}})},function(r,p,a){function m(a,b,e,f,g,h){var m=[];a=d(b,f,a);a=b.indexOfNearest(f,a,!0);m[g]=b.get(e,a,!0);m[h]=b.get(f,a,!0);e=-1;do e=Math.max(l.getPrecision(b.get(f,a)),e),b=b.stackedOn;while(b);f=e;0<=f&&(m[h]=+m[h].toFixed(f));return m}var n=a(4),l=a(7),h=n.indexOf;p=n.curry;var f={min:p(m,"min"),max:p(m,"max"),average:p(m,"average")},e=function(a,b,d,e){var f={};null!=a.valueIndex||null!=a.valueDim?(f.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim,f.valueAxis=d.getAxis(e.dataDimToCoordDim(f.valueDataDim)),f.baseAxis=d.getOtherAxis(f.valueAxis),f.baseDataDim=e.coordDimToDataDim(f.baseAxis.dim)[0]):(f.baseAxis=e.getBaseAxis(),f.valueAxis=d.getOtherAxis(f.baseAxis),f.baseDataDim=e.coordDimToDataDim(f.baseAxis.dim)[0],f.valueDataDim=e.coordDimToDataDim(f.valueAxis.dim)[0]);return f},d=function(a,b,d){if("average"===d){var e=0,f=0;a.each(b,function(a,b){isNaN(a)||(e+=a,f++)},!0);return e/f}return a.getDataExtent(b,!0)["max"===d?1:0]};r.exports={dataTransform:function(a,b){var k=a.getData(),l=a.coordinateSystem,g;if(g=b)g=b,g=!(!isNaN(parseFloat(g.x))&&!isNaN(parseFloat(g.y)));if(g&&!n.isArray(b.coord)&&l)if(g=l.dimensions,l=e(b,k,l,a),b=n.clone(b),b.type&&f[b.type]&&l.baseAxis&&l.valueAxis){var m=h(g,l.baseAxis.dim);g=h(g,l.valueAxis.dim);b.coord=f[b.type](k,l.baseDataDim,l.valueDataDim,m,g);b.value=b.coord[g]}else{l=[null!=b.xAxis?b.xAxis:b.radiusAxis,null!=b.yAxis?b.yAxis:b.angleAxis];for(m=0;2>m;m++)if(f[l[m]]){var p=a.coordDimToDataDim(g[m])[0];l[m]=d(k,p,l[m])}b.coord=l}return b},dataFilter:function(a,b){var d;if(d=a&&a.containData&&b.coord)d=!(!isNaN(parseFloat(b.x))||!isNaN(parseFloat(b.y)));return d?a.containData(b.coord):!0},dimValueGetter:function(a,b,d,e){return 2>e?a.coord&&a.coord[e]:a.value},getAxisInfo:e,numCalculate:d}},function(r,p,a){r.exports=a(1).extendComponentView({type:"marker",init:function(){this.markerGroupMap={}},render:function(a,n,l){a=this.markerGroupMap;for(var h in a)a[h].__keep=!1;var f=this.type+"Model";n.eachSeries(function(a){var d=a[f];d&&this.renderSeries(a,d,n,l)},this);for(h in a)a[h].__keep||this.group.remove(a[h].group)},renderSeries:function(){}})},function(r,p,a){a(352);a(353);a(1).registerPreprocessor(function(a){a.markLine=a.markLine||{}})},function(r,p,a){r.exports=a(347).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})},function(r,p,a){function m(a){return!isNaN(a)&&!isFinite(a)}function n(a,b,c,d){var e=1-a,f=d.dimensions[a];return m(b[e])&&m(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function l(a,c){if("cartesian2d"===a.type){var d=c[0].coord,e=c[1].coord;if(d&&e&&(n(1,d,e,a)||n(0,d,e,a)))return!0}return b.dataFilter(a,c[0])&&b.dataFilter(a,c[1])}function h(a,b,d,e,f){var h=e.coordinateSystem,k=a.getItemModel(b),l=c.parsePercent(k.get("x"),f.getWidth());f=c.parsePercent(k.get("y"),f.getHeight());if(isNaN(l)||isNaN(f)){e.getMarkerPosition?k=e.getMarkerPosition(a.getValues(a.dimensions,b)):(e=h.dimensions,k=a.get(e[0],b),e=a.get(e[1],b),k=h.dataToPoint([k,e]));if("cartesian2d"===h.type){var n=h.getAxis("x"),q=h.getAxis("y");e=h.dimensions;m(a.get(e[0],b))?k[0]=n.toGlobalCoord(n.getExtent()[d?0:1]):m(a.get(e[1],b))&&(k[1]=q.toGlobalCoord(q.getExtent()[d?0:1]))}isNaN(l)||(k[0]=l);isNaN(f)||(k[1]=f)}else k=[l,f];a.setItemLayout(b,k)}function f(a,c,f){var h;h=a?e.map(a&&a.dimensions,function(a){var b=c.getData().getDimensionInfo(c.coordDimToDataDim(a)[0])||{};b.name=a;return b}):[{name:"value",type:"float"}];var k=new d(h,f);h=new d(h,f);var m=new d([],f);f=e.map(f.get("data"),e.curry(q,c,a,f));a&&(f=e.filter(f,e.curry(l,a)));a=a?b.dimValueGetter:function(a){return a.value};k.initData(e.map(f,function(a){return a[0]}),null,a);h.initData(e.map(f,function(a){return a[1]}),null,a);m.initData(e.map(f,function(a){return a[2]}));m.hasItemOption=!0;return{from:k,to:h,line:m}}var e=a(4),d=a(97),c=a(7),b=a(349),k=a(199),q=function(a,c,d,f){var h=a.getData(),k=f.type;if(!e.isArray(f)&&("min"===k||"max"===k||"average"===k||null!=f.xAxis||null!=f.yAxis)){var l;null!=f.yAxis||null!=f.xAxis?(l=null!=f.yAxis?"y":"x",c.getAxis(l),c=e.retrieve(f.yAxis,f.xAxis)):(l=b.getAxisInfo(f,h,c,a).valueDataDim,c=b.numCalculate(h,l,k));l="x"===l?0:1;var m=1-l,h=e.clone(f),n={};h.type=null;h.coord=[];n.coord=[];h.coord[m]=-Infinity;n.coord[m]=Infinity;d=d.get("precision");0<=d&&(c=+c.toFixed(d));h.coord[l]=n.coord[l]=c;f=[h,n,{type:k,valueIndex:f.valueIndex,value:c}]}f=[b.dataTransform(a,f[0]),b.dataTransform(a,f[1]),e.extend({},f[2])];f[2].type=f[2].type||"";e.merge(f[2],f[0]);e.merge(f[2],f[1]);return f};a(350).extend({type:"markLine",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markLineModel;if(b){var d=b.getData(),e=b.__from,f=b.__to;e.each(function(b){h(e,b,!0,a,c);h(f,b,!1,a,c)});d.each(function(a){d.setItemLayout(a,[e.getItemLayout(a),f.getItemLayout(a)])});this.markerGroupMap[a.name].updateLayout()}},this)},renderSeries:function(a,b,c,d){function l(b,c,e){var f=b.getItemModel(c);h(b,c,e,a,d);b.setItemVisual(c,{symbolSize:f.get("symbolSize")||E[e?0:1],symbol:f.get("symbol",!0)||J[e?0:1],color:f.get("itemStyle.normal.color")||q.getVisual("color")})}var m=a.coordinateSystem,n=a.name,q=a.getData(),p=this.markerGroupMap;(c=p[n])||(c=p[n]=new k);this.group.add(c.group);var m=f(m,a,b),r=m.from,B=m.to,D=m.line;b.__from=r;b.__to=B;b.setData(D);var J=b.get("symbol"),E=b.get("symbolSize");e.isArray(J)||(J=[J,J]);"number"===typeof E&&(E=[E,E]);m.from.each(function(a){l(r,a,!0);l(B,a,!1)});D.each(function(a){var b=D.getItemModel(a).get("lineStyle.normal.color");D.setItemVisual(a,{color:b||r.getItemVisual(a,"color")});D.setItemLayout(a,[r.getItemLayout(a),B.getItemLayout(a)]);D.setItemVisual(a,{fromSymbolSize:r.getItemVisual(a,"symbolSize"),fromSymbol:r.getItemVisual(a,"symbol"),toSymbolSize:B.getItemVisual(a,"symbolSize"),toSymbol:B.getItemVisual(a,"symbol")})});c.updateData(D);m.line.eachItemGraphicEl(function(a,c){a.traverse(function(a){a.dataModel=b})});c.__keep=!0;c.group.silent=b.get("silent")||a.get("silent")}})},function(r,p,a){a(355);a(356);a(1).registerPreprocessor(function(a){a.markArea=a.markArea||{}})},function(r,p,a){r.exports=a(347).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}})},function(r,p,a){function m(a){return!isNaN(a)&&!isFinite(a)}function n(a,b){var c=b.coord[0],d=b.coord[1];if("cartesian2d"===a.type){var e;if(e=c&&d)(e=m(c[0])&&m(d[0]))||(e=m(c[1])&&m(d[1]));if(e)return!0}return k.dataFilter(a,{coord:c,x:b.x0,y:b.y0})||k.dataFilter(a,{coord:d,x:b.x1,y:b.y1})}function l(a,b,c,e,f){var g=e.coordinateSystem,h=a.getItemModel(b),k=d.parsePercent(h.get(c[0]),f.getWidth());f=d.parsePercent(h.get(c[1]),f.getHeight());if(isNaN(k)||isNaN(f)){if(e.getMarkerPosition)e=e.getMarkerPosition(a.getValues(c,b));else{var h=a.get(c[0],b),l=a.get(c[1],b);e=g.dataToPoint([h,l],!0)}if("cartesian2d"===g.type){var n=g.getAxis("x"),g=g.getAxis("y"),h=a.get(c[0],b),l=a.get(c[1],b);m(h)?e[0]=n.toGlobalCoord(n.getExtent()["x0"===c[0]?0:1]):m(l)&&(e[1]=g.toGlobalCoord(g.getExtent()["y0"===c[1]?0:1]))}isNaN(k)||(e[0]=k);isNaN(f)||(e[1]=f)}else e=[k,f];return e}function h(a,b,c){var d,g;g=["x0","y0","x1","y1"];a?(d=f.map(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};c.name=a;return c}),g=new e(f.map(g,function(a,b){return{name:a,type:d[b%2].type}}),c)):(d=[{name:"value",type:"float"}],g=new e(d,c));c=f.map(c.get("data"),f.curry(q,b,a,c));a&&(c=f.filter(c,f.curry(n,a)));g.initData(c,null,a?function(a,b,c,d){return a.coord[Math.floor(d/2)][d%2]}:function(a){return a.value});g.hasItemOption=!0;return g}var f=a(4),e=a(97),d=a(7),c=a(43),b=a(39),k=a(349),q=function(a,b,c,d){b=k.dataTransform(a,d[0]);a=k.dataTransform(a,d[1]);d=f.retrieve;c=b.coord;var e=a.coord;c[0]=d(c[0],-Infinity);c[1]=d(c[1],-Infinity);e[0]=d(e[0],Infinity);e[1]=d(e[1],Infinity);d=f.mergeAll([{},b,a]);d.coord=[b.coord,a.coord];d.x0=b.x;d.y0=b.y;d.x1=a.x;d.y1=a.y;return d},g=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];a(350).extend({type:"markArea",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markAreaModel;if(b){var d=b.getData();d.each(function(b){var e=f.map(g,function(e){return l(d,b,e,a,c)});d.setItemLayout(b,e);d.getItemGraphicEl(b).setShape("points",e)})}},this)},renderSeries:function(a,d,e,k){e=a.coordinateSystem;var m=a.name,n=a.getData(),q=this.markerGroupMap,p=q[m];p||(p=q[m]={group:new c.Group});this.group.add(p.group);p.__keep=!0;var r=h(e,a,d);d.setData(r);r.each(function(b){r.setItemLayout(b,f.map(g,function(c){return l(r,b,c,a,k)}));r.setItemVisual(b,{color:n.getVisual("color")})});r.diff(p.__data).add(function(a){var b=new c.Polygon({shape:{points:r.getItemLayout(a)}});r.setItemGraphicEl(a,b);p.group.add(b)}).update(function(a,b){var e=p.__data.getItemGraphicEl(b);c.updateProps(e,{shape:{points:r.getItemLayout(a)}},d,a);p.group.add(e);r.setItemGraphicEl(a,e)}).remove(function(a){a=p.__data.getItemGraphicEl(a);p.group.remove(a)}).execute();r.eachItemGraphicEl(function(a,e){var g=r.getItemModel(e),h=g.getModel("label.normal"),k=g.getModel("label.emphasis"),l=r.getItemVisual(e,"color");a.useStyle(f.defaults(g.getModel("itemStyle.normal").getItemStyle(),{fill:b.modifyAlpha(l,.4),stroke:l}));a.hoverStyle=g.getModel("itemStyle.normal").getItemStyle();g=r.getName(e)||"";l=l||a.style.fill;c.setText(a.style,h,l);a.style.text=f.retrieve(d.getFormattedLabel(e,"normal"),g);c.setText(a.hoverStyle,k,l);a.hoverStyle.text=f.retrieve(d.getFormattedLabel(e,"emphasis"),g);c.setHoverStyle(a,{});a.dataModel=d});p.__data=r;p.group.silent=d.get("silent")||a.get("silent")}})},function(r,p,a){a(1).registerPreprocessor(a(358));a(359);a(360);a(361);a(363)},function(r,p,a){function m(a){var f=a.type,e={number:"value",time:"time"};e[f]&&(a.axisType=e[f],delete a.type);n(a);a.hasOwnProperty("controlPosition")&&(f=a.controlStyle||(a.controlStyle={}),f.hasOwnProperty("position")||(f.position=a.controlPosition),"none"!==f.position||f.hasOwnProperty("show")||(f.show=!1,delete f.position),delete a.controlPosition);l.each(a.data||[],function(a){l.isObject(a)&&!l.isArray(a)&&(!a.hasOwnProperty("value")&&a.hasOwnProperty("name")&&(a.value=a.name),n(a))})}function n(a){var f=a.itemStyle||(a.itemStyle={}),f=f.emphasis||(f.emphasis={});a=a.label||a.label||{};var e=a.normal||(a.normal={}),d={normal:1,emphasis:1};l.each(a,function(a,b){d[b]||e.hasOwnProperty(b)||(e[b]=a)});f.label&&!a.hasOwnProperty("emphasis")&&(a.emphasis=f.label,delete f.label)}var l=a(4);r.exports=function(a){a=a&&a.timeline;l.isArray(a)||(a=a?[a]:[]);l.each(a,function(a){a&&m(a)})}},function(r,p,a){a(19).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(r,p,a){r=a(1);r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,n){var l=n.getComponent("timeline");l&&null!=a.currentIndex&&(l.setCurrentIndex(a.currentIndex),!l.get("loop",!0)&&l.isIndexMax()&&l.setPlayState(!1));n.resetOption("timeline")});r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,n){var l=n.getComponent("timeline");l&&null!=a.playState&&l.setPlayState(a.playState)})},function(r,p,a){var m=a(362);p=a(4);a=a(5);m=m.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});p.mixin(m,a.dataFormatMixin);r.exports=m},function(r,p,a){p=a(19);var m=a(97),n=a(4),l=a(5),h=p.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2E3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(a,e,d){this.mergeDefaultAndTheme(a,d);this._initData()},mergeOption:function(a){h.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var e=this._data.count();this.option.loop?a=(a%e+e)%e:(a>=e&&(a=e-1),0>a&&(a=0));this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var a=this.option,e=a.data||[],a=a.axisType,d=this._names=[];if("category"===a){var c=[];n.each(e,function(a,e){var f=l.getDataItemValue(a),g;n.isObject(a)?(g=n.clone(a),g.value=e):g=e;c.push(g);n.isString(f)||null!=f&&!isNaN(f)||(f="");d.push(f+"")});e=c}(this._data=new m([{name:"value",type:{category:"ordinal",time:"time"}[a]||"number"}],this)).initData(e,d)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});r.exports=h},function(r,p,a){function m(a,b,c,e,f,g){var h=a.get("symbol"),k=b.get("color");a=a.get("symbolSize");var m=a/2;b=b.getItemStyle(["color","symbol","symbolSize"]);f?(f.setStyle(b),f.setColor(k),c.add(f),g&&g.onUpdate(f)):(f=d.createSymbol(h,-m,-m,a,a,k),c.add(f),g&&g.onCreate(f));e=l.merge({rectHover:!0,style:b,z2:100},e,!0);f.attr(e);return f}function n(a,b,c,d,e){if(!a.dragging){var f=d.getModel("checkpointStyle");b=c.dataToCoord(d.getData().get(["value"],b));e||!f.get("animation",!0)?a.attr({position:[b,0]}):(a.stopAnimation(!0),a.animateTo({position:[b,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}var l=a(4),h=a(43),f=a(21);p=a(364);var e=a(365),d=a(106),c=a(114),b=a(9),k=a(11),q=a(7),g=a(6).encodeHTML,u=l.bind,y=l.each,x=Math.PI;r.exports=p.extend({type:"timeline.slider",init:function(a,b){this.api=b},render:function(a,b,c,d){this.model=a;this.api=c;this.ecModel=b;this.group.removeAll();if(a.get("show",!0)){var e=this._layout(a,c),f=this._createGroup("mainGroup");b=this._createGroup("labelGroup");var h=this._axis=this._createAxis(e,a);a.formatTooltip=function(a){return g(h.scale.getLabel(a))};y(["AxisLine","AxisTick","Control","CurrentPointer"],function(b){this["_render"+b](e,f,h,a)},this);this._renderAxisLabel(e,b,h,a);this._position(e,a)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(a,b){var c=a.get("label.normal.position"),d=a.get("orient"),e;e=f.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"));null==c||"auto"===c?c="horizontal"===d?e.y+e.height/2<b.getHeight()/2?"-":"+":e.x+e.width/2<b.getWidth()/2?"+":"-":isNaN(c)&&(c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[d][c]);var g={horizontal:"center",vertical:0<=c||"+"===c?"left":"right"},h={horizontal:0<=c||"+"===c?"top":"bottom",vertical:"middle"},k={horizontal:0,vertical:x/2},l="vertical"===d?e.height:e.width,m=a.getModel("controlStyle"),n=m.get("show"),q=n?m.get("itemSize"):0,p=n?m.get("itemGap"):0,r=q+p,u=a.get("label.normal.rotate")||0,u=u*x/180,y,G,N,P=m.get("position",!0),R=(n=m.get("show",!0))&&m.get("showPlayBtn",!0),T=n&&m.get("showPrevBtn",!0),m=n&&m.get("showNextBtn",!0),n=0,O=l;"left"===P||"bottom"===P?(R&&(y=[0,0],n+=r),T&&(G=[n,0],n+=r)):(R&&(y=[O-q,0],O-=r),T&&(G=[0,0],n+=r));m&&(N=[O-q,0],O-=r);r=[n,O];a.get("inverse")&&r.reverse();return{viewRect:e,mainLength:l,orient:d,rotation:k[d],labelRotation:u,labelPosOpt:c,labelAlign:g[d],labelBaseline:h[d],playPosition:y,prevBtnPosition:G,nextBtnPosition:N,axisExtent:r,controlSize:q,controlGap:p}},_position:function(a,b){function c(a){var b=a.position;a.origin=[q[0][0]-b[0],q[1][0]-b[1]]}function d(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function e(a,b,c,d,f){a[d]+=c[d][f]-b[d][f]}var f=this._mainGroup,g=this._labelGroup,h=a.viewRect;if("vertical"===a.orient){var l=k.create(),m=h.x,n=h.y+h.height;k.translate(l,l,[-m,-n]);k.rotate(l,l,-x/2);k.translate(l,l,[m,n]);h=h.clone();h.applyTransform(l)}var q=d(h),h=d(f.getBoundingRect()),l=d(g.getBoundingRect()),m=f.position,n=g.position;n[0]=m[0]=q[0][0];var p=a.labelPosOpt;isNaN(p)?(p="+"===p?0:1,e(m,h,q,1,p),e(n,l,q,1,1-p)):(e(m,h,q,1,0<=p?0:1),n[1]=m[1]+p);f.attr("position",m);g.attr("position",n);f.rotation=g.rotation=a.rotation;c(f);c(g)},_createAxis:function(a,b){var d=b.getData(),f=b.get("axisType"),g=c.createScaleByModel(b,f),h=d.getDataExtent("value");g.setExtent(h[0],h[1]);this._customizeScale(g,d);g.niceTicks();d=new e("value",g,a.axisExtent,f);d.model=b;return d},_customizeScale:function(a,b){a.getTicks=function(){return b.mapArray(["value"],function(a){return a})};a.getTicksLabels=function(){return l.map(this.getTicks(),a.getLabel,a)}},_createGroup:function(a){a=this["_"+a]=new h.Group;this.group.add(a);return a},_renderAxisLine:function(a,b,c,d){a=c.getExtent();d.get("lineStyle.show")&&b.add(new h.Line({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:l.extend({lineCap:"round"},d.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(a,b,c,d){var e=d.getData();a=c.scale.getTicks();y(a,function(a,f){var g=c.dataToCoord(a),k=e.getItemModel(f),l=k.getModel("itemStyle.normal"),n=k.getModel("itemStyle.emphasis"),g={position:[g,0],onclick:u(this._changeTimeline,this,f)},l=m(k,l,b,g);h.setHoverStyle(l,n.getItemStyle());k.get("tooltip")?(l.dataIndex=f,l.dataModel=d):l.dataIndex=l.dataModel=null},this)},_renderAxisLabel:function(a,b,d,e){var f=e.getModel("label.normal");if(f.get("show")){var g=e.getData();e=d.scale.getTicks();var k=c.getFormattedLabels(d,f.get("formatter")),l=d.getLabelInterval();y(e,function(c,e){if(!d.isLabelIgnored(e,l)){var f=g.getItemModel(e),m=f.getModel("label.normal.textStyle"),f=f.getModel("label.emphasis.textStyle"),n=d.dataToCoord(c),m=new h.Text({style:{text:k[e],textAlign:a.labelAlign,textVerticalAlign:a.labelBaseline,textFont:m.getFont(),fill:m.getTextColor()},position:[n,0],rotation:a.labelRotation-a.rotation,onclick:u(this._changeTimeline,this,e),silent:!1});b.add(m);h.setHoverStyle(m,f.getItemStyle())}},this)}},_renderControl:function(a,c,d,e){function f(a,d,p,r){if(a){var v=q;a={position:a,origin:[g/2,0],rotation:r?-k:0,rectHover:!0,style:m,onclick:p};d=h.makePath(e.get(d).replace(/^path:\/\//,""),l.clone(a||{}),new b(v[0],v[1],v[2],v[3]),"center");c.add(d);h.setHoverStyle(d,n)}}var g=a.controlSize,k=a.rotation,m=e.getModel("controlStyle.normal").getItemStyle(),n=e.getModel("controlStyle.emphasis").getItemStyle(),q=[0,-g/2,g,g];d=e.getPlayState();var p=e.get("inverse",!0);f(a.nextBtnPosition,"controlStyle.nextIcon",u(this._changeTimeline,this,p?"-":"+"));f(a.prevBtnPosition,"controlStyle.prevIcon",u(this._changeTimeline,this,p?"+":"-"));f(a.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),u(this._handlePlayClick,this,!d),!0)},_renderCurrentPointer:function(a,b,c,d){a=d.getData();var e=d.getCurrentIndex();a=a.getItemModel(e).getModel("checkpointStyle");var f=this;this._currentPointer=m(a,a,this._mainGroup,{},this._currentPointer,{onCreate:function(a){a.draggable=!0;a.drift=u(f._handlePointerDrag,f);a.ondragend=u(f._handlePointerDragend,f);n(a,e,c,d,!0)},onUpdate:function(a){n(a,e,c,d)}})},_handlePlayClick:function(a){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer();this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(a,b){var c=this._toAxisCoord(a)[0],d=q.asc(this._axis.getExtent().slice());c>d[1]&&(c=d[1]);c<d[0]&&(c=d[0]);this._currentPointer.position[0]=c;this._currentPointer.dirty();c=this._findNearestTick(c);d=this.model;(b||c!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(c)},_doPlayStop:function(){function a(){var b=this.model;this._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))}this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(u(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return h.applyTransform(a,b,!0)},_findNearestTick:function(a){var b=this.model.getData(),c=Infinity,d,e=this._axis;b.each(["value"],function(b,f){var g=e.dataToCoord(b),g=Math.abs(g-a);g<c&&(c=g,d=f)});return d},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1);this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}})},function(r,p,a){p=a(29);r.exports=p.extend({type:"timeline"})},function(r,p,a){var m=a(4),n=a(123),l=a(114);p=function(a,f,e,d){n.call(this,a,f,e);this.type=d||"value";this.model=null};p.prototype={constructor:p,getLabelInterval:function(){var a=this.model,f=a.getModel("label.normal"),e=f.get("interval");if(null!=e&&"auto"!=e)return e;e=this._autoLabelInterval;e||(e=this._autoLabelInterval=l.getAxisLabelInterval(m.map(this.scale.getTicks(),this.dataToCoord,this),l.getFormattedLabels(this,f.get("formatter")),f.getModel("textStyle").getFont(),"horizontal"===a.get("orient")));return e},isLabelIgnored:function(a){if("category"===this.type){var f=this.getLabelInterval();return"function"===typeof f&&!f(a,this.scale.getLabel(a))||a%(f+1)}}};m.inherits(p,n);r.exports=p},function(r,p,a){a(367);a(368);a(370);a(371);a(372);a(373);a(378)},function(r,p,a){var m=a(314),n=a(4),l=a(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(a){l.superApply(this,"mergeDefaultAndTheme",arguments);n.each(this.option.feature,function(a,e){var d=m.get(e);d&&n.merge(a,d.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});r.exports=l},function(r,p,a){(function(m){var n=a(314),l=a(4),h=a(43),f=a(12),e=a(98),d=a(277),c=a(8);r.exports=a(1).extendComponentView({type:"toolbox",render:function(a,k,m,g){function p(c,d){var e=z[c],h=z[d],l=new f(t[e],a,a.ecModel),v;if(e&&!h){if(0===e.indexOf("my"))v={model:l,onclick:l.option.onclick,featureName:e};else{v=n.get(e);if(!v)return;v=new v(l,k,m)}A[e]=v}else{v=A[h];if(!v)return;v.model=l;v.ecModel=k;v.api=m}!e&&h?v.dispose&&v.dispose(k,m):!l.get("show")||v.unusable?v.remove&&v.remove(k,m):(r(l,v,e),l.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{};c.iconStatus[a]=b;d[a]&&d[a].trigger(b)},v.render&&v.render(l,k,m,g))}function r(c,d,e){var f=c.getModel("iconStyle"),g=d.getIcons?d.getIcons():c.get("icon"),n=c.get("title")||{};if("string"===typeof g){var p=g,t=n,g={},n={};g[e]=p;n[e]=t}var u=c.iconPaths={};l.each(g,function(e,g){var p=f.getModel("normal").getItemStyle(),r=f.getModel("emphasis").getItemStyle(),t={x:-v/2,y:-v/2,width:v,height:v},y=0===e.indexOf("image://")?(t.image=e.slice(8),new h.Image({style:t})):h.makePath(e.replace("path://",""),{style:p,hoverStyle:r,rectHover:!0},t,"center");h.setHoverStyle(y);a.get("showTitle")&&(y.__title=n[g],y.on("mouseover",function(){y.setStyle({text:n[g],textPosition:r.textPosition||"bottom",textFill:r.fill||r.stroke||"#000",textAlign:r.textAlign||"center"})}).on("mouseout",function(){y.setStyle({textFill:null})}));y.trigger(c.get("iconStatus."+g)||"normal");x.add(y);y.on("click",l.bind(d.onclick,d,k,m,g));u[g]=y})}var x=this.group;x.removeAll();if(a.get("show")){var v=+a.get("itemSize"),t=a.get("feature")||{},A=this._features||(this._features={}),z=[];l.each(t,function(a,b){z.push(b)});(new e(this._featureNames||[],z)).add(p).update(p).remove(l.curry(p,null)).execute();this._featureNames=z;d.layout(x,a,m);d.addBackground(x,a);x.eachChild(function(a){var b=a.__title,d=a.hoverStyle;if(d&&b){var b=c.getBoundingRect(b,d.font),e=a.position[0]+x.position[0],f=!1;a.position[1]+x.position[1]+v+b.height>m.getHeight()&&(d.textPosition="top",f=!0);a=f?-5-b.height:v+8;e+b.width/2>m.getWidth()?(d.textPosition=["100%",a],d.textAlign="right"):0>e-b.width/2&&(d.textPosition=[0,a],d.textAlign="left")}})}},updateView:function(a,c,d,e){l.each(this._features,function(a){a.updateView&&a.updateView(a.model,c,d,e)})},updateLayout:function(a,c,d,e){l.each(this._features,function(a){a.updateLayout&&a.updateLayout(a.model,c,d,e)})},remove:function(a,c){l.each(this._features,function(d){d.remove&&d.remove(a,c)});this.group.removeAll()},dispose:function(a,c){l.each(this._features,function(d){d.dispose&&d.dispose(a,c)})}})}).call(p,a(369))},function(r,p){function a(){c&&b&&(c=!1,b.length?d=b.concat(d):k=-1,d.length&&m())}function m(){if(!c){var h=f(a);c=!0;for(var g=d.length;g;){b=d;for(d=[];++k<g;)b&&b[k].run();k=-1;g=d.length}b=null;c=!1;e(h)}}function n(a,b){this.fun=a;this.array=b}function l(){}var h=r.exports={},f,e;(function(){try{f=setTimeout}catch(a){f=function(){throw Error("setTimeout is not defined");}}try{e=clearTimeout}catch(a){e=function(){throw Error("clearTimeout is not defined");}}})();var d=[],c=!1,b,k=-1;h.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var e=1;e<arguments.length;e++)b[e-1]=arguments[e];d.push(new n(a,b));1!==d.length||c||f(m,0)};n.prototype.run=function(){this.fun.apply(null,this.array)};h.title="browser";h.browser=!0;h.env={};h.argv=[];h.version="";h.versions={};h.on=l;h.addListener=l;h.once=l;h.off=l;h.removeListener=l;h.removeAllListeners=l;h.emit=l;h.binding=function(a){throw Error("process.binding is not supported");};h.cwd=function(){return"/"};h.chdir=function(a){throw Error("process.chdir is not supported");};h.umask=function(){return 0}},function(r,p,a){function m(a){this.model=a}p=a(2);m.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]};m.prototype.unusable=!p.canvasSupported;m.prototype.onclick=function(a,l){var h=this.model,f=h.get("name")||a.get("title.0.text")||"echarts",e=document.createElement("a"),d=h.get("type",!0)||"png";e.download=f+"."+d;e.target="_blank";f=l.getConnectedDataURL({type:d,backgroundColor:h.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",excludeComponents:h.get("excludeComponents"),pixelRatio:h.get("pixelRatio")});e.href=f;"function"===typeof MouseEvent?(h=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),e.dispatchEvent(h)):(e=h.get("lang"),e='\x3cbody style\x3d"margin:0;"\x3e\x3cimg src\x3d"'+f+'" style\x3d"max-width:100%;" title\x3d"'+(e&&e[0]||"")+'" /\x3e\x3c/body\x3e',window.open().document.write(e))};a(314).register("saveAsImage",m);r.exports=m},function(r,p,a){function m(a){this.model=a}var n=a(4);m.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"},option:{},seriesIndex:{}};p=m.prototype;p.getIcons=function(){var a=this.model,e=a.get("icon"),d={};n.each(a.get("type"),function(a){e[a]&&(d[a]=e[a])});return d};var l={line:function(a,e,d,c){if("bar"===a)return n.merge({id:e,type:"line",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},c.get("option.line")||{},!0)},bar:function(a,e,d,c){if("line"===a)return n.merge({id:e,type:"bar",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},c.get("option.bar")||{},!0)},stack:function(a,e,d,c){if("line"===a||"bar"===a)return n.merge({id:e,stack:"__ec_magicType_stack__"},c.get("option.stack")||{},!0)},tiled:function(a,e,d,c){if("line"===a||"bar"===a)return n.merge({id:e,stack:""},c.get("option.tiled")||{},!0)}},h=[["line","bar"],["stack","tiled"]];p.onclick=function(a,e,d){var c=this.model,b=c.get("seriesIndex."+d);if(l[d]){var k={series:[]};n.each(h,function(a){0<=n.indexOf(a,d)&&n.each(a,function(a){c.setIconStatus(a,"normal")})});c.setIconStatus(d,"emphasis");a.eachComponent({mainType:"series",query:null==b?null:{seriesIndex:b}},function(b){var e=l[d](b.subType,b.id,b,c);e&&(n.defaults(e,b.option),k.series.push(e));if((e=b.coordinateSystem)&&"cartesian2d"===e.type&&("line"===d||"bar"===d)&&(e=e.getAxesByScale("ordinal")[0])){e=e.dim+"Axis";b=a.queryComponents({mainType:e,index:b.get(name+"Index"),id:b.get(name+"Id")})[0].componentIndex;k[e]=k[e]||[];for(var h=0;h<=b;h++)k[e][b]=k[e][b]||{};k[e][b].boundaryGap="bar"===d?!0:!1}});e.dispatchAction({type:"changeMagicType",currentType:d,newOption:k})}};a(1).registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,e){e.mergeOption(a.newOption)});a(314).register("magicType",m);r.exports=m},function(r,p,a){function m(a){var b={},c=[],d=[];a.eachRawSeries(function(a){var e=a.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)c.push(a);else{var f=e.getBaseAxis();if("category"===f.type){var g=f.dim+"_"+f.index;b[g]||(b[g]={categoryAxis:f,valueAxis:e.getOtherAxis(f),series:[]},d.push({axisDim:f.dim,axisIndex:f.index}));b[g].series.push(a)}else c.push(a)}});return{seriesGroupByCategoryAxis:b,other:c,meta:d}}function n(a){var b=[];k.each(a,function(a,c){var d=a.categoryAxis,e=a.valueAxis.dim,f=[" "].concat(k.map(a.series,function(a){return a.name})),g=[d.model.getCategories()];k.each(a.series,function(a){g.push(a.getRawData().mapArray(e,function(a){return a}))});d=[f.join("\t")];for(f=0;f<g[0].length;f++){for(var h=[],l=0;l<g.length;l++)h.push(g[l][f]);d.push(h.join("\t"))}b.push(d.join("\n"))});return b.join("\n\n"+g+"\n\n")}function l(a){return k.map(a,function(a){var b=a.getRawData(),c=[a.name],d=[];b.each(b.dimensions,function(){for(var a=arguments.length,e=b.getName(arguments[a-1]),f=0;f<a-1;f++)d[f]=arguments[f];c.push((e?e+"\t":"")+d.join("\t"))});return c.join("\n")}).join("\n\n"+g+"\n\n")}function h(a){a=m(a);return{value:k.filter([n(a.seriesGroupByCategoryAxis),l(a.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+g+"\n\n"),meta:a.meta}}function f(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function e(a){a=a.split(/\n+/g);for(var b=f(a.shift()).split(u),c=[],b=k.map(b,function(a){return{name:a,data:[]}}),d=0;d<a.length;d++){var e=f(a[d]).split(u);c.push(e.shift());for(var g=0;g<e.length;g++)b[g]&&(b[g].data[d]=e[g])}return{series:b,categories:c}}function d(a,b){var c=a.split(new RegExp("\n*"+g+"\n*","g")),d={series:[]};k.each(c,function(a,c){var g;g=0<=a.slice(0,a.indexOf("\n")).indexOf("\t")?!0:void 0;if(g){g=e(a);var h=b[c],k=h.axisDim+"Axis";h&&(d[k]=d[k]||[],d[k][h.axisIndex]={data:g.categories},d.series=d.series.concat(g.series))}else{g=a.split(/\n+/g);for(var h=f(g.shift()),k=[],l=0;l<g.length;l++){var m=f(g[l]).split(u),n,p=!1;isNaN(m[0])?(p=!0,n=m[0],m=m.slice(1),k[l]={name:n,value:[]},n=k[l].value):n=k[l]=[];for(var q=0;q<m.length;q++)n.push(+m[q]);1===n.length&&(p?k[l].value=n[0]:k[l]=n[0])}g={name:h,data:k};d.series.push(g)}});return d}function c(a){this._dom=null;this.model=a}function b(a,b){return k.map(a,function(a,c){var d=b&&b[c];return k.isObject(d)&&!k.isArray(d)?(k.isObject(a)&&!k.isArray(a)&&(a=a.value),k.defaults({value:a},d)):a})}var k=a(4),q=a(87),g=Array(60).join("-"),u=RegExp("[\t]+","g");c.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};c.prototype.onclick=function(a,b){function c(){e.removeChild(g);L._dom=null}var e=b.getDom(),f=this.model;this._dom&&e.removeChild(this._dom);var g=document.createElement("div");g.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";g.style.backgroundColor=f.get("backgroundColor")||"#fff";var l=document.createElement("h4"),m=f.get("lang")||[];l.innerHTML=m[0]||f.get("title");l.style.cssText="margin: 10px 20px;";l.style.color=f.get("textColor");var n=document.createElement("div"),p=document.createElement("textarea");n.style.cssText="display:block;width:100%;overflow:hidden;";var r=f.get("optionToContent"),u=f.get("contentToOption"),H=h(a);"function"===typeof r?(r=r(b.getOption()),"string"===typeof r?n.innerHTML=r:k.isDom(r)&&n.appendChild(r)):(n.appendChild(p),p.readOnly=f.get("readOnly"),p.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",p.style.color=f.get("textColor"),p.style.borderColor=f.get("textareaBorderColor"),p.style.backgroundColor=f.get("textareaColor"),p.value=H.value);var F=H.meta,H=document.createElement("div");H.style.cssText="position:absolute;bottom:0;left:0;right:0;";var r="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",K=document.createElement("div"),M=document.createElement("div"),r=r+(";background-color:"+f.get("buttonColor")),r=r+(";color:"+f.get("buttonTextColor")),L=this;q.addEventListener(K,"click",c);q.addEventListener(M,"click",function(){var a;try{a="function"===typeof u?u(n,b.getOption()):d(p.value,F)}catch(e){throw c(),Error("Data view format error "+e);}a&&b.dispatchAction({type:"changeDataView",newOption:a});c()});K.innerHTML=m[1];M.innerHTML=m[2];M.style.cssText=r;K.style.cssText=r;!f.get("readOnly")&&H.appendChild(M);H.appendChild(K);q.addEventListener(p,"keydown",function(a){if(9===(a.keyCode||a.which)){var b=this.value,c=this.selectionStart,d=this.selectionEnd;this.value=b.substring(0,c)+"\t"+b.substring(d);this.selectionStart=this.selectionEnd=c+1;q.stop(a)}});g.appendChild(l);g.appendChild(n);g.appendChild(H);n.style.height=e.clientHeight-80+"px";e.appendChild(g);this._dom=g};c.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)};c.prototype.dispose=function(a,b){this.remove(a,b)};a(314).register("dataView",c);a(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,c){var d=[];k.each(a.newOption.series,function(a){var e=c.getSeriesByName(a.name)[0];e?(e=e.get("data"),d.push({name:a.name,data:b(a.data,e)})):d.push(k.extend({type:"scatter"},a))});c.mergeOption(k.defaults({series:d},a.newOption))});r.exports=c},function(r,p,a){function m(a,c,d){(this._brushController=new h(d.getZr())).on("brush",l.bind(this._onBrush,this)).mount()}function n(a){var c={};l.each(["xAxisIndex","yAxisIndex"],function(d){c[d]=a[d];null==c[d]&&(c[d]="all");!1!==c[d]&&"none"!==c[d]||(c[d]=[])});return c}var l=a(4),h=a(233),f=a(309),e=a(374),d=l.each;a(375);m.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}};p=m.prototype;p.render=function(a,c,d,g){this.model=a;this.ecModel=c;this.api=d;d=this._isZoomActive;g&&"takeGlobalCursor"===g.type&&(d="dataZoomSelect"===g.key?g.dataZoomSelectActive:!1);this._isZoomActive=d;a.setIconStatus("zoom",d?"emphasis":"normal");g=f.makeCoordInfoList(n(a.option),c);var h=g.xAxisHas&&!g.yAxisHas?"lineX":!g.xAxisHas&&g.yAxisHas?"lineY":"rect";this._brushController.setPanels(f.makePanelOpts(g)).enableBrush(d?{brushType:h,brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1);a.setIconStatus("back",1<e.count(c)?"emphasis":"normal")};p.onclick=function(a,d,e){c[e].call(this)};p.remove=function(a,c){this._brushController.unmount()};p.dispose=function(a,c){this._brushController.dispose()};var c={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(e.pop(this.ecModel))}};p._onBrush=function(a,c){function d(a,b,c){(a=g(a,c[a],l))&&(h[a.id]={dataZoomId:a.id,startValue:b[0],endValue:b[1]})}function g(a,b,c){var d;c.eachComponent({mainType:"dataZoom",subType:"select"},function(e,f){var g=e.get(a+"Index");null!=g&&c.getComponent(a,g)===b&&(d=e)});return d}if(c.isEnd&&a.length){var h={},l=this.ecModel;this._brushController.updateCovers([]);var m=f.makeCoordInfoList(n(this.model.option),l),p=[];f.parseOutputRanges(a,m,l,p);var m=a[0],p=p[0],r=m.coordRange,m=m.brushType;p&&r&&("rect"===m?(d("xAxis",r[0],p),d("yAxis",r[1],p)):d({lineX:"xAxis",lineY:"yAxis"}[m],r,p));e.push(l,h);this._dispatchZoomAction(h)}};p._dispatchZoomAction=function(a){var c=[];d(a,function(a,b){c.push(l.clone(a))});c.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:c})};a(314).register("dataZoom",m);a(1).registerPreprocessor(function(a){function c(a,b){if(b){var d=a+"Index",h=b[d];null==h||"all"==h||l.isArray(h)||(h=!1===h||"none"===h?[]:[h]);e(a,function(b,c){if(null==h||"all"==h||-1!==l.indexOf(h,c)){var e={type:"select",$fromToolbox:!0,id:"\x00_ec_\x00toolbox-dataZoom_"+a+c};e[d]=c;f.push(e)}})}}function e(c,f){var g=a[c];l.isArray(g)||(g=g?[g]:[]);d(g,f)}if(a){var f=a.dataZoom||(a.dataZoom=[]);l.isArray(f)||(a.dataZoom=f=[f]);var h=a.toolbox;h&&(l.isArray(h)&&(h=h[0]),h&&h.feature&&(h=h.feature.dataZoom,c("xAxis",h),c("yAxis",h)))}});r.exports=m},function(r,p,a){function m(a){var h=a["\x00_ec_hist_store"];h||(h=a["\x00_ec_hist_store"]=[{}]);return h}var n=a(4).each;r.exports={push:function(a,h){var f=m(a);n(h,function(e,d){for(var c=f.length-1;0<=c&&!f[c][d];c--);0>c&&(c=a.queryComponents({mainType:"dataZoom",subType:"select",id:d})[0])&&(c=c.getPercentRange(),f[0][d]={dataZoomId:d,start:c[0],end:c[1]})});f.push(h)},pop:function(a){var h=m(a);a=h[h.length-1];1<h.length&&h.pop();var f={};n(a,function(a,d){for(var c=h.length-1;0<=c;c--)if(a=h[c][d]){f[d]=a;break}});return f},clear:function(a){a["\x00_ec_hist_store"]=null},count:function(a){return m(a).length}}},function(r,p,a){a(317);a(318);a(321);a(376);a(377);a(328);a(329)},function(r,p,a){p=a(318);r.exports=p.extend({type:"dataZoom.select"})},function(r,p,a){r.exports=a(321).extend({type:"dataZoom.select"})},function(r,p,a){function m(a){this.model=a}var n=a(374);m.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"\u8fd8\u539f"};m.prototype.onclick=function(a,h,f){n.clear(a);h.dispatchAction({type:"restore",from:this.uid})};a(314).register("restore",m);a(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,h){h.resetOption("recreate")});r.exports=m},function(r,p,a){a(380);a(81).registerPainter("vml",a(382))},function(r,p,a){if(!a(2).canvasSupported){var m=a(10),n=a(9),l=a(49).CMD,h=a(39),f=a(8);p=a(48);var e=a(46),d=a(62);r=a(64);var c=a(45),b=a(61),k=a(381),q=Math.round,g=Math.sqrt,u=Math.abs,y=Math.cos,x=Math.sin,v=Math.max,t=m.applyTransform,A=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";a.coordsize="21600,21600";a.coordorigin="0,0"},z=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},w=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},C=function(a,b,c){return 1E5*(parseFloat(a)||0)+1E3*(parseFloat(b)||0)+c},B=function(a,b){return"string"===typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*b:parseFloat(a):a},D=function(a,b,c){b=h.parse(b);c=+c;isNaN(c)&&(c=1);b&&(a.color="rgb("+[b[0],b[1],b[2]].join()+")",a.opacity=c*b[3])},J=function(a){a=h.parse(a);return["rgb("+[a[0],a[1],a[2]].join()+")",a[3]]},E=function(a,c,d){var e=c.fill;if(null!=e)if(e instanceof b){var f,g=0,h=[0,0],k=0,l=1,m=d.getBoundingRect(),n=m.width,p=m.height;if("linear"===e.type){f="gradient";var q=d.transform,r=[e.x*n,e.y*p],g=[e.x2*n,e.y2*p];q&&(t(r,r,q),t(g,g,q));g=180*Math.atan2(g[0]-r[0],g[1]-r[1])/Math.PI;0>g&&(g+=360);1E-6>g&&(g=0)}else f="gradientradial",r=[e.x*n,e.y*p],q=d.transform,k=d.scale,l=n,h=[(r[0]-m.x)/l,(r[1]-m.y)/p],q&&t(r,r,q),l/=21600*k[0],p/=21600*k[1],l=v(l,p),k=0/l,l=2*e.r/l-k;r=e.colorStops.slice();r.sort(function(a,b){return a.offset-b.offset});m=r.length;q=[];e=[];for(p=0;p<m;p++)n=r[p],d=J(n.color),e.push(n.offset*l+k+" "+d[0]),0!==p&&p!==m-1||q.push(d);2<=m&&(k=q[0][0],l=q[1][0],r=q[0][1]*c.opacity,c=q[1][1]*c.opacity,a.type=f,a.method="none",a.focus="100%",a.angle=g,a.color=k,a.color2=l,a.colors=e.join(","),a.opacity=c,a.opacity2=r);"radial"===f&&(a.focusposition=h.join(","))}else D(a,e,c.opacity)},H=function(a,c,d,e){var f="fill"==c,g=a.getElementsByTagName(c)[0];null!=d[c]&&"none"!==d[c]&&(f||!f&&d.lineWidth)?(a[f?"filled":"stroked"]="true",d[c]instanceof
b&&w(a,g),g||(g=k.createNode(c)),f?E(g,d,e):(c=g,null!=d.lineDash&&(c.dashstyle=d.lineDash.join(" ")),null==d.stroke||d.stroke instanceof b||D(c,d.stroke,d.opacity)),z(a,g)):(a[f?"filled":"stroked"]="false",w(a,g))},F=[[],[],[]];c.prototype.brushVML=function(a){var b=this.style,c=this._vmlEl;c||(c=k.createNode("shape"),A(c),this._vmlEl=c);H(c,"fill",b,this);H(c,"stroke",b,this);var d=this.transform,e=null!=d,f=c.getElementsByTagName("stroke")[0];if(f){var h=b.lineWidth;e&&!b.strokeNoScale&&(h*=g(u(d[0]*d[3]-d[1]*d[2])));f.weight=h+"px"}e=this.path;this.__dirtyPath&&(e.beginPath(),this.buildPath(e,this.shape),e.toStatic(),this.__dirtyPath=!1);var d=c,e=e.data,f=this.transform,h=l.M,m=l.C,n=l.L,p=l.A,r=l.Q,v=[],w,D,G,B,J,K;for(B=0;B<e.length;){G=e[B++];D="";w=0;switch(G){case h:D=" m ";w=1;J=e[B++];K=e[B++];F[0][0]=J;F[0][1]=K;break;case n:D=" l ";w=1;J=e[B++];K=e[B++];F[0][0]=J;F[0][1]=K;break;case r:case m:D=" c ";w=3;var E=e[B++],I=e[B++],L=e[B++],M=e[B++],X;G===r?(G=L,X=M,L=(L+2*E)/3,M=(M+2*I)/3,E=(J+2*E)/3,I=(K+2*I)/3):(G=e[B++],X=e[B++]);F[0][0]=E;F[0][1]=I;F[1][0]=L;F[1][1]=M;F[2][0]=G;F[2][1]=X;J=G;K=X;break;case p:K=J=0;M=L=1;E=0;f&&(J=f[4],K=f[5],L=g(f[0]*f[0]+f[1]*f[1]),M=g(f[2]*f[2]+f[3]*f[3]),E=Math.atan2(-f[1]/M,f[0]/L));G=e[B++];X=e[B++];var fa=e[B++],ga=e[B++],ha=e[B++]+E,ja=e[B++]+ha+E;B++;var ca=e[B++],ea=G+y(ha)*fa,ia=X+x(ha)*ga,E=G+y(ja)*fa,I=X+x(ja)*ga,ka=ca?" wa ":" at ";1E-10>Math.abs(ea-E)&&(.01<Math.abs(ja-ha)?ca&&(ea+=.0125):1E-10>Math.abs(ia-X)?I=ca&&ea<G||!ca&&ea>G?I-.0125:I+.0125:E=ca&&ia<X||!ca&&ia>X?E+.0125:E-.0125);v.push(ka,q(21600*((G-fa)*L+J)-10800),",",q(21600*((X-ga)*M+K)-10800),",",q(21600*((G+fa)*L+J)-10800),",",q(21600*((X+ga)*M+K)-10800),",",q(21600*(ea*L+J)-10800),",",q(21600*(ia*M+K)-10800),",",q(21600*(E*L+J)-10800),",",q(21600*(I*M+K)-10800));J=E;K=I;break;case l.R:E=F[0];I=F[1];E[0]=e[B++];E[1]=e[B++];I[0]=E[0]+e[B++];I[1]=E[1]+e[B++];f&&(t(E,E,f),t(I,I,f));E[0]=q(21600*E[0]-10800);I[0]=q(21600*I[0]-10800);E[1]=q(21600*E[1]-10800);I[1]=q(21600*I[1]-10800);v.push(" m ",E[0],",",E[1]," l ",I[0],",",E[1]," l ",I[0],",",I[1]," l ",E[0],",",I[1]);break;case l.Z:v.push(" x ")}if(0<w)for(v.push(D),D=0;D<w;D++)E=F[D],f&&t(E,E,f),v.push(q(21600*E[0]-10800),",",q(21600*E[1]-10800),D<w-1?",":"")}e=v.join("");d.path=e;c.style.zIndex=C(this.zlevel,this.z,this.z2);z(a,c);b.text?this.drawRectText(a,this.getBoundingRect()):this.removeRectText(a)};c.prototype.onRemove=function(a){w(a,this._vmlEl);this.removeRectText(a)};c.prototype.onAdd=function(a){z(a,this._vmlEl);this.appendRectText(a)};d.prototype.brushVML=function(a){var b=this.style,c=b.image,d,e;if("object"===typeof c&&c.tagName&&"IMG"===c.tagName.toUpperCase()){var f=c.src;if(f===this._imageSrc)d=this._imageWidth,e=this._imageHeight;else{var h=c.runtimeStyle,l=h.width,m=h.height;h.width="auto";h.height="auto";d=c.width;e=c.height;h.width=l;h.height=m;this._imageSrc=f;this._imageWidth=d;this._imageHeight=e}c=f}else c===this._imageSrc&&(d=this._imageWidth,e=this._imageHeight);if(c){var n=b.x||0,p=b.y||0,r=b.width,u=b.height,w=b.sWidth,x=b.sHeight,h=b.sx||0,l=b.sy||0,m=w&&x,f=this._vmlEl;f||(f=k.doc.createElement("div"),A(f),this._vmlEl=f);var y=f.style,D=!1,B,E=1,F=1;this.transform&&(B=this.transform,E=g(B[0]*B[0]+B[1]*B[1]),F=g(B[2]*B[2]+B[3]*B[3]),D=B[1]||B[2]);if(D){var G=[n,p],H=[n+r,p],J=[n,p+u],K=[n+r,p+u];t(G,G,B);t(H,H,B);t(J,J,B);t(K,K,B);D=v(G[0],H[0],J[0],K[0]);G=v(G[1],H[1],J[1],K[1]);H=[];H.push("M11\x3d",B[0]/E,",","M12\x3d",B[2]/F,",","M21\x3d",B[1]/E,",","M22\x3d",B[3]/F,",","Dx\x3d",q(n*E+B[4]),",","Dy\x3d",q(p*F+B[5]));y.padding="0 "+q(D)+"px "+q(G)+"px 0";y.filter="progid:DXImageTransform.Microsoft.Matrix("+H.join("")+", SizingMethod\x3dclip)"}else B&&(n=n*E+B[4],p=p*F+B[5]),y.filter="",y.left=q(n)+"px",y.top=q(p)+"px";B=this._imageEl;n=this._cropEl;B||(this._imageEl=B=k.doc.createElement("div"));var I=B.style;if(m){if(d&&e)I.width=q(E*d*r/w)+"px",I.height=q(F*e*u/x)+"px";else{var L=new Image,M=this;L.onload=function(){L.onload=null;d=L.width;e=L.height;I.width=q(E*d*r/w)+"px";I.height=q(F*e*u/x)+"px";M._imageWidth=d;M._imageHeight=e;M._imageSrc=c};L.src=c}n||(n=k.doc.createElement("div"),n.style.overflow="hidden",this._cropEl=n);m=n.style;m.width=q((r+h*r/w)*E);m.height=q((u+l*u/x)*F);m.filter="progid:DXImageTransform.Microsoft.Matrix(Dx\x3d"+-h*r/w*E+",Dy\x3d"+-l*u/x*F+")";n.parentNode||f.appendChild(n);B.parentNode!=n&&n.appendChild(B)}else I.width=q(E*r)+"px",I.height=q(F*u)+"px",f.appendChild(B),n&&n.parentNode&&(f.removeChild(n),this._cropEl=null);B="";h=b.opacity;1>h&&(B+=".Alpha(opacity\x3d"+q(100*h)+") ");I.filter=B+("progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d"+c+", SizingMethod\x3dscale)");f.style.zIndex=C(this.zlevel,this.z,this.z2);z(a,f);b.text&&this.drawRectText(a,this.getBoundingRect())}};d.prototype.onRemove=function(a){w(a,this._vmlEl);this._imageEl=this._cropEl=this._vmlEl=null;this.removeRectText(a)};d.prototype.onAdd=function(a){z(a,this._vmlEl);this.appendRectText(a)};var K={},M=0,L=document.createElement("div"),I;f.measureText=function(a,b){var c=k.doc;I||(I=c.createElement("div"),I.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",k.doc.body.appendChild(I));try{I.style.font=b}catch(d){}I.innerHTML="";I.appendChild(c.createTextNode(a));return{width:I.offsetWidth}};var G=new n;a=function(a,b,c,d){var e=this.style,g=e.text;if(g){var h,l=e.textAlign,m,n=e.textFont;h=K[n];if(!h){100<M&&(M=0,K={});h=L.style;var p;try{h.font=n,p=h.fontFamily.split(",")[0]}catch(r){}h={style:h.fontStyle||"normal",variant:h.fontVariant||"normal",weight:h.fontWeight||"normal",size:parseFloat(h.fontSize||12)|0,family:p||"Microsoft YaHei"};K[n]=h;M++}m=h;var n=m.style+" "+m.variant+" "+m.weight+" "+m.size+'px "'+m.family+'"',u=e.textBaseline,v=e.textVerticalAlign;c=c||f.getBoundingRect(g,n,l,u);(p=this.transform)&&!d&&(G.copy(b),G.applyTransform(p),b=G);if(d)h=b.x,b=b.y;else{var w=e.textPosition;h=e.textDistance;w instanceof Array?(h=b.x+B(w[0],b.width),b=b.y+B(w[1],b.height),l=l||"left",u=u||"top"):(w=f.adjustTextPositionOnRect(w,b,c,h),h=w.x,b=w.y,l=l||w.textAlign,u=u||w.textBaseline)}if(v){switch(v){case "middle":b-=c.height/2;break;case "bottom":b-=c.height}u="top"}m=m.size;switch(u){case "hanging":case "top":b+=m/1.75;break;case "middle":break;default:b-=m/2.25}switch(l){case "center":h-=c.width/2;break;case "right":h-=c.width}u=k.createNode;(c=this._textVmlEl)?(u=c.firstChild,m=u.nextSibling,l=m.nextSibling):(c=u("line"),m=u("path"),l=u("textpath"),u=u("skew"),l.style["v-text-align"]="left",A(c),m.textpathok=!0,l.on=!0,c.from="0 0",c.to="1000 0.05",z(c,u),z(c,m),z(c,l),this._textVmlEl=c);m=[h,b];v=c.style;p&&d?(t(m,m,p),u.on=!0,u.matrix=p[0].toFixed(3)+","+p[2].toFixed(3)+","+p[1].toFixed(3)+","+p[3].toFixed(3)+",0,0",u.offset=(q(m[0])||0)+","+(q(m[1])||0),u.origin="0 0",v.left="0px",v.top="0px"):(u.on=!1,v.left=q(h)+"px",v.top=q(b)+"px");l.string=String(g).replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;");try{l.style.font=n}catch(r){}H(c,"fill",{fill:d?e.fill:e.textFill,opacity:e.opacity},this);H(c,"stroke",{stroke:d?e.stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash},this);c.style.zIndex=C(this.zlevel,this.z,this.z2);z(a,c)}};m=function(a){w(a,this._textVmlEl);this._textVmlEl=null};n=function(a){z(a,this._textVmlEl)};p=[p,e,d,c,r];for(e=0;e<p.length;e++)d=p[e].prototype,d.drawRectText=a,d.removeRectText=m,d.appendRectText=n;r.prototype.brushVML=function(a){var b=this.style;b.text?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)};r.prototype.onRemove=function(a){this.removeRectText(a)};r.prototype.onAdd=function(a){this.appendRectText(a)}}},function(r,p,a){if(!a(2).canvasSupported){var m,n=window.document,l=!1;try{!n.namespaces.zrvml&&n.namespaces.add("zrvml","urn:schemas-microsoft-com:vml"),m=function(a){return n.createElement("\x3czrvml:"+a+' class\x3d"zrvml"\x3e')}}catch(h){m=function(a){return n.createElement("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft-com:vml" class\x3d"zrvml"\x3e')}}r.exports={doc:n,initVML:function(){if(!l){l=!0;var a=n.styleSheets;31>a.length?n.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}},createNode:m}}},function(r,p,a){function m(a,d){h.initVML();this.root=a;this.storage=d;var c=document.createElement("div"),b=document.createElement("div");c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";b.style.cssText="position:absolute;left:0;top:0;";a.appendChild(c);this._vmlRoot=b;this._vmlViewport=c;this.resize();var f=d.delFromMap,l=d.addToMap;d.delFromMap=function(a){var c=d.get(a);f.call(d,a);c&&c.onRemove&&c.onRemove(b)};d.addToMap=function(a){a.onAdd&&a.onAdd(b);l.call(d,a)};this._firstPaint=!0}function n(a){return function(){l('In IE8.0 VML mode painter not support method "'+a+'"')}}var l=a(40),h=a(381);m.prototype={constructor:m,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){for(var d=this._vmlRoot,c=0;c<a.length;c++){var b=a[c];if(b.invisible||b.ignore){if(!b.__alreadyNotVisible)b.onRemove(d);b.__alreadyNotVisible=!0}else{if(b.__alreadyNotVisible)b.onAdd(d);b.__alreadyNotVisible=!1;b.__dirty&&(b.beforeBrush&&b.beforeBrush(),(b.brushVML||b.brush).call(b,d),b.afterBrush&&b.afterBrush())}b.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(d),this._firstPaint=!1)},resize:function(){var a=this._getWidth(),d=this._getHeight();if(this._width!=a&&this._height!=d){this._width=a;this._height=d;var c=this._vmlViewport.style;c.width=a+"px";c.height=d+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this.root.removeChild(this.vmlViewport)},_getWidth:function(){var a=this.root,d=a.currentStyle;return(a.clientWidth||parseInt(d.width,10))-parseInt(d.paddingLeft,10)-parseInt(d.paddingRight,10)|0},_getHeight:function(){var a=this.root,d=a.currentStyle;return(a.clientHeight||parseInt(d.height,10))-parseInt(d.paddingTop,10)-parseInt(d.paddingBottom,10)|0}};p="getLayer insertLayer eachLayer eachBuildinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" ");for(a=0;a<p.length;a++){var f=p[a];m.prototype[f]=n(f)}r.exports=m}])});